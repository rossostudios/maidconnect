(self.webpackChunkcasaora=self.webpackChunkcasaora||[]).push([[33708],{"./node_modules/@logtail/next/dist/config.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var process=__webpack_require__("./node_modules/process/browser.js"),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.config=exports.isEdgeRuntime=exports.isBrowser=exports.isWebWorker=exports.isNetlify=exports.isVercel=exports.isVercelIntegration=exports.Version=void 0;const generic_1=__importDefault(__webpack_require__("./node_modules/@logtail/next/dist/platform/generic.js")),vercel_1=__importDefault(__webpack_require__("./node_modules/@logtail/next/dist/platform/vercel.js")),netlify_1=__importDefault(__webpack_require__("./node_modules/@logtail/next/dist/platform/netlify.js"));exports.Version=__webpack_require__("./node_modules/@logtail/next/package.json").version,exports.isVercelIntegration=process.env.NEXT_PUBLIC_BETTER_STACK_INGESTING_URL||process.env.BETTER_STACK_INGEST_ENDPOINT,exports.isVercel=process.env.NEXT_PUBLIC_VERCEL||process.env.VERCEL,exports.isNetlify="true"==process.env.NETLIFY,exports.isWebWorker="undefined"!=typeof self&&void 0!==globalThis.WorkerGlobalScope&&self instanceof WorkerGlobalScope,exports.isBrowser="undefined"!=typeof window||exports.isWebWorker,exports.isEdgeRuntime=!!globalThis.EdgeRuntime;let config=new generic_1.default;exports.config=config,exports.isVercel?exports.config=config=new vercel_1.default:exports.isNetlify&&(exports.config=config=new netlify_1.default)},"./node_modules/@logtail/next/dist/hooks.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useLogger=void 0;const navigation_1=__webpack_require__("./node_modules/@storybook/nextjs/dist/export-mocks/navigation/index.js"),logger_1=__webpack_require__("./node_modules/@logtail/next/dist/logger.js"),react_1=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),use_deep_compare_1=__webpack_require__("./node_modules/use-deep-compare/dist-web/index.js");exports.useLogger=function useLogger(config={}){const path=(0,navigation_1.usePathname)(),memoizedConfig=(0,use_deep_compare_1.useDeepCompareMemo)(()=>{var _a;return Object.assign(Object.assign({},config),{args:Object.assign(Object.assign({},null!==(_a=config.args)&&void 0!==_a?_a:{}),{path})})},[config,path]),logger=(0,react_1.useMemo)(()=>new logger_1.Logger(memoizedConfig),[memoizedConfig]);return(0,react_1.useEffect)(()=>()=>{logger&&logger.flush()},[path]),logger}},"./node_modules/@logtail/next/dist/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.useLogger=exports.withLogtailRouteHandler=exports.withLogtailNextConfig=exports.withLogtail=exports.withBetterStackRouteHandler=exports.withBetterStackNextConfig=exports.withBetterStack=exports.throttle=exports.EndpointType=exports.LogLevel=exports.Logger=exports.log=void 0;var logger_1=__webpack_require__("./node_modules/@logtail/next/dist/logger.js");Object.defineProperty(exports,"log",{enumerable:!0,get:function(){return logger_1.log}}),Object.defineProperty(exports,"Logger",{enumerable:!0,get:function(){return logger_1.Logger}}),Object.defineProperty(exports,"LogLevel",{enumerable:!0,get:function(){return logger_1.LogLevel}});var shared_1=__webpack_require__("./node_modules/@logtail/next/dist/shared.js");Object.defineProperty(exports,"EndpointType",{enumerable:!0,get:function(){return shared_1.EndpointType}}),Object.defineProperty(exports,"throttle",{enumerable:!0,get:function(){return shared_1.throttle}}),__exportStar(__webpack_require__("./node_modules/@logtail/next/dist/platform/base.js"),exports),__exportStar(__webpack_require__("./node_modules/@logtail/next/dist/config.js"),exports);var withBetterStack_1=__webpack_require__("./node_modules/@logtail/next/dist/withBetterStack.js");Object.defineProperty(exports,"withBetterStack",{enumerable:!0,get:function(){return withBetterStack_1.withBetterStack}}),Object.defineProperty(exports,"withBetterStackNextConfig",{enumerable:!0,get:function(){return withBetterStack_1.withBetterStackNextConfig}}),Object.defineProperty(exports,"withBetterStackRouteHandler",{enumerable:!0,get:function(){return withBetterStack_1.withBetterStackRouteHandler}}),Object.defineProperty(exports,"withLogtail",{enumerable:!0,get:function(){return withBetterStack_1.withBetterStack}}),Object.defineProperty(exports,"withLogtailNextConfig",{enumerable:!0,get:function(){return withBetterStack_1.withBetterStackNextConfig}}),Object.defineProperty(exports,"withLogtailRouteHandler",{enumerable:!0,get:function(){return withBetterStack_1.withBetterStackRouteHandler}}),__exportStar(__webpack_require__("./node_modules/@logtail/next/dist/webVitals/index.js"),exports);var hooks_1=__webpack_require__("./node_modules/@logtail/next/dist/hooks.js");Object.defineProperty(exports,"useLogger",{enumerable:!0,get:function(){return hooks_1.useLogger}})},"./node_modules/@logtail/next/dist/logger.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var process=__webpack_require__("./node_modules/process/browser.js"),console=__webpack_require__("./node_modules/console-browserify/index.js"),__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.prettyPrint=exports.log=exports.Logger=exports.LogLevel=void 0;const config_1=__webpack_require__("./node_modules/@logtail/next/dist/config.js"),shared_1=__webpack_require__("./node_modules/@logtail/next/dist/shared.js"),url=config_1.config.getLogsEndpoint(),LOG_LEVEL=process.env.NEXT_PUBLIC_BETTER_STACK_LOG_LEVEL||"debug";var LogLevel;!function(LogLevel){LogLevel[LogLevel.debug=0]="debug",LogLevel[LogLevel.info=1]="info",LogLevel[LogLevel.warn=2]="warn",LogLevel[LogLevel.error=3]="error",LogLevel[LogLevel.off=100]="off"}(LogLevel||(exports.LogLevel=LogLevel={}));class Logger{constructor(initConfig={}){this.initConfig=initConfig,this.logEvents=[],this.throttledSendLogs=(0,shared_1.throttle)(this.sendLogs,1e3),this.children=[],this.logLevel=LogLevel.debug,this.config={autoFlush:!0,source:"frontend-log",prettyPrint},this.debug=(message,args={})=>{this.log(LogLevel.debug,message,args)},this.info=(message,args={})=>{this.log(LogLevel.info,message,args)},this.warn=(message,args={})=>{this.log(LogLevel.warn,message,args)},this.error=(message,args={})=>{this.log(LogLevel.error,message,args)},this.with=args=>{const config=Object.assign(Object.assign({},this.config),{args:Object.assign(Object.assign({},this.config.args),args)}),child=new Logger(config);return this.children.push(child),child},this.withRequest=req=>new Logger(Object.assign(Object.assign({},this.config),{req:Object.assign(Object.assign({},this.config.req),req)})),this._transformEvent=(level,message,args={})=>{const logEvent={level:LogLevel[level].toString(),message,dt:new Date(Date.now()).toISOString(),source:this.config.source,fields:this.config.args||{},"@app":{"next-logtail-version":config_1.Version}};if(args instanceof Error)logEvent.fields=Object.assign(Object.assign({},logEvent.fields),{message:args.message,stack:args.stack,name:args.name});else if("object"==typeof args&&null!==args&&Object.keys(args).length>0){const parsedArgs=JSON.parse(JSON.stringify(args,jsonFriendlyErrorReplacer));logEvent.fields=Object.assign(Object.assign({},logEvent.fields),parsedArgs)}else args&&args.length&&(logEvent.fields=Object.assign(Object.assign({},logEvent.fields),{args}));return config_1.config.injectPlatformMetadata(logEvent,this.config.source),null!=this.config.req&&(logEvent.request=this.config.req,logEvent.platform?logEvent.platform.route=this.config.req.path:logEvent.vercel&&(logEvent.vercel.route=this.config.req.path)),logEvent},this.log=(level,message,args={})=>{if(level<this.logLevel||this.logLevel===LogLevel.off)return;const logEvent=this._transformEvent(level,message,args);this.logEvents.push(logEvent),this.config.autoFlush&&this.throttledSendLogs()},this.attachResponseStatus=statusCode=>{this.logEvents=this.logEvents.map(log=>(log.request&&(log.request.statusCode=statusCode),log))},this.flush=()=>__awaiter(this,void 0,void 0,function*(){yield Promise.all([this.sendLogs(),...this.children.map(c=>c.flush())])}),null!=this.initConfig.logLevel&&this.initConfig.logLevel>=0?this.logLevel=this.initConfig.logLevel:LOG_LEVEL&&(this.logLevel=LogLevel[LOG_LEVEL]),this.config=Object.assign(Object.assign({},this.config),initConfig)}logHttpRequest(level,message,request,args){if(level<this.logLevel||this.logLevel===LogLevel.off)return;const logEvent=this._transformEvent(level,message,args);logEvent.request=request,this.logEvents.push(logEvent),this.config.autoFlush&&this.throttledSendLogs()}middleware(request,config){var _a;const req={ip:request.ip,region:null===(_a=request.geo)||void 0===_a?void 0:_a.region,method:request.method,host:request.nextUrl.hostname,path:request.nextUrl.pathname,scheme:request.nextUrl.protocol.split(":")[0],referer:request.headers.get("Referer"),userAgent:request.headers.get("user-agent")},message=`${request.method} ${request.nextUrl.pathname}`;return(null==config?void 0:config.logRequestDetails)?(0,shared_1.requestToJSON)(request).then(details=>{const newReq=Object.assign(Object.assign({},req),{details:Array.isArray(config.logRequestDetails)?Object.fromEntries(Object.entries(details).filter(([key])=>config.logRequestDetails.includes(key))):details});return this.logHttpRequest(LogLevel.info,message,newReq,{})}):this.logHttpRequest(LogLevel.info,message,req,{})}sendLogs(){return __awaiter(this,void 0,void 0,function*(){if(!this.logEvents.length)return;if(!config_1.config.isEnvVarsSet())return this.logEvents.forEach(ev=>this.config.prettyPrint?this.config.prettyPrint(ev):prettyPrint(ev)),void(this.logEvents=[]);const body=JSON.stringify(this.logEvents);this.logEvents=[];const headers={"Content-Type":"application/json","User-Agent":"next-logtail/v"+config_1.Version};config_1.config.token&&(headers.Authorization=`Bearer ${config_1.config.token}`);const reqOptions={body,method:"POST",keepalive:!0,headers};function sendFallback(){return fetch(url,reqOptions).catch(console.error)}try{if("undefined"==typeof fetch){return(yield __webpack_require__("./node_modules/whatwg-fetch/fetch.js"))(url,reqOptions).catch(console.error)}if(!(config_1.isBrowser&&config_1.isVercel&&navigator.sendBeacon))return sendFallback();try{if(!navigator.sendBeacon.bind(navigator)(url,body))return sendFallback()}catch(error){return sendFallback()}}catch(e){console.warn(`Failed to send logs to BetterStack: ${e}`),this.logEvents=[...this.logEvents,JSON.parse(body)]}})}}exports.Logger=Logger,exports.log=new Logger({});const levelColors={info:{terminal:"32",browser:"lightgreen"},debug:{terminal:"36",browser:"lightblue"},warn:{terminal:"33",browser:"yellow"},error:{terminal:"31",browser:"red"}};function prettyPrint(ev){const hasFields=Object.keys(ev.fields).length>0;if(shared_1.isNoPrettyPrint){let msg=`${ev.level} - ${ev.message}`;return hasFields&&(msg+=" "+JSON.stringify(ev.fields)),void console.log(msg)}let msgString="",args=[ev.level,ev.message];config_1.isBrowser?(msgString="%c%s - %s",args=[`color: ${levelColors[ev.level].browser};`,...args]):msgString=`[${levelColors[ev.level].terminal}m%s[0m - %s`,hasFields&&(msgString+=" %o",args.push(ev.fields)),ev.request&&(msgString+=" %o",args.push(ev.request)),console.log.apply(console,[msgString,...args])}function jsonFriendlyErrorReplacer(key,value){return value instanceof Error?Object.assign(Object.assign({},value),{name:value.name,message:value.message,stack:value.stack}):value}exports.prettyPrint=prettyPrint},"./node_modules/@logtail/next/dist/platform/base.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},"./node_modules/@logtail/next/dist/platform/generic.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var process=__webpack_require__("./node_modules/process/browser.js");Object.defineProperty(exports,"__esModule",{value:!0});const shared_1=__webpack_require__("./node_modules/@logtail/next/dist/shared.js"),config_1=__webpack_require__("./node_modules/@logtail/next/dist/config.js");exports.default=class GenericConfig{constructor(){this.proxyPath="/_betterstack",this.shouldSendEdgeReport=!1,this.token=process.env.NEXT_PUBLIC_BETTER_STACK_SOURCE_TOKEN||process.env.BETTER_STACK_SOURCE_TOKEN||process.env.NEXT_PUBLIC_LOGTAIL_SOURCE_TOKEN||"oaCo7phZiFWZbyxaHo6qjNqu",this.environment="production",this.ingestingUrl=process.env.NEXT_PUBLIC_BETTER_STACK_INGESTING_URL||process.env.BETTER_STACK_INGESTING_URL||process.env.NEXT_PUBLIC_LOGTAIL_URL||process.env.LOGTAIL_URL,this.region=process.env.REGION||void 0,this.customEndpoint=process.env.NEXT_PUBLIC_BETTER_STACK_CUSTOM_ENDPOINT}isEnvVarsSet(){return!(!this.ingestingUrl||!this.token)||!!this.customEndpoint}getIngestURL(_){return this.ingestingUrl||""}getLogsEndpoint(){return config_1.isBrowser&&this.customEndpoint?this.customEndpoint:config_1.isBrowser?`${this.proxyPath}/logs`:this.getIngestURL(shared_1.EndpointType.logs)}getWebVitalsEndpoint(){return config_1.isBrowser&&this.customEndpoint?this.customEndpoint:config_1.isBrowser?`${this.proxyPath}/web-vitals`:this.getIngestURL(shared_1.EndpointType.webVitals)}wrapWebVitalsObject(metrics){return metrics.map(m=>({webVital:m,dt:(new Date).getTime(),platform:{environment:this.environment,source:"web-vital"},source:"web-vital"}))}injectPlatformMetadata(logEvent,source){logEvent.source=source,logEvent.platform={environment:this.environment,region:this.region,source}}getHeaderOrDefault(req,headerName,defaultValue){return req.headers[headerName]?req.headers[headerName]:defaultValue}}},"./node_modules/@logtail/next/dist/platform/netlify.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var process=__webpack_require__("./node_modules/process/browser.js"),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const generic_1=__importDefault(__webpack_require__("./node_modules/@logtail/next/dist/platform/generic.js")),netlifySiteId=process.env.SITE_ID,netlifyBuildId=process.env.BUILD_ID,netlifyContext=process.env.CONTEXT,netlifyDeploymentUrl=process.env.DEPLOYMENT_URL,netlifyDeploymentId=process.env.DEPLOYMENT_ID;class NetlifyConfig extends generic_1.default{wrapWebVitalsObject(metrics){return metrics.map(m=>({webVital:m,dt:(new Date).getTime(),netlify:{environment:this.environment,source:"web-vital",siteId:netlifySiteId,buildId:netlifyBuildId,context:netlifyContext,deploymentUrl:netlifyDeploymentUrl,deploymentId:netlifyDeploymentId}}))}injectPlatformMetadata(logEvent,source){logEvent.netlify={environment:this.environment,region:"edge"===source?process.env.DENO_REGION:process.env.AWS_REGION,source,siteId:netlifySiteId,buildId:netlifyBuildId,context:netlifyContext,deploymentUrl:netlifyDeploymentUrl,deploymentId:"edge"===source?process.env.DENO_DEPLOYMENT_ID:netlifyDeploymentId}}}exports.default=NetlifyConfig},"./node_modules/@logtail/next/dist/platform/vercel.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var process=__webpack_require__("./node_modules/process/browser.js"),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const generic_1=__importDefault(__webpack_require__("./node_modules/@logtail/next/dist/platform/generic.js"));class VercelConfig extends generic_1.default{constructor(){super(...arguments),this.shouldSendEdgeReport=!0,this.region=process.env.VERCEL_REGION||void 0,this.environment=process.env.VERCEL_ENV||"production"}wrapWebVitalsObject(metrics){return metrics.map(m=>({webVital:m,dt:(new Date).getTime(),vercel:{environment:this.environment,source:"web-vital",deploymentId:process.env.VERCEL_DEPLOYMENT_ID,deploymentUrl:process.env.NEXT_PUBLIC_VERCEL_URL,project:process.env.NEXT_PUBLIC_VERCEL_PROJECT_PRODUCTION_URL,git:{commit:process.env.NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA,repo:process.env.NEXT_PUBLIC_VERCEL_GIT_REPO_SLUG,ref:process.env.NEXT_PUBLIC_VERCEL_GIT_COMMIT_REF}}}))}injectPlatformMetadata(logEvent,source){logEvent.vercel={environment:this.environment,region:this.region,source,deploymentId:process.env.VERCEL_DEPLOYMENT_ID,deploymentUrl:process.env.NEXT_PUBLIC_VERCEL_URL,project:process.env.NEXT_PUBLIC_VERCEL_PROJECT_PRODUCTION_URL,git:{commit:process.env.NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA,repo:process.env.NEXT_PUBLIC_VERCEL_GIT_REPO_SLUG,ref:process.env.NEXT_PUBLIC_VERCEL_GIT_COMMIT_REF}}}}exports.default=VercelConfig},"./node_modules/@logtail/next/dist/shared.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var EndpointType,process=__webpack_require__("./node_modules/process/browser.js"),console=__webpack_require__("./node_modules/console-browserify/index.js"),__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.throttle=exports.requestToJSON=exports.EndpointType=exports.isNoPrettyPrint=void 0,exports.isNoPrettyPrint="true"==process.env.BETTER_STACK_NO_PRETTY_PRINT,function(EndpointType){EndpointType.webVitals="web-vitals",EndpointType.logs="logs"}(EndpointType||(exports.EndpointType=EndpointType={})),exports.requestToJSON=function requestToJSON(request){var _a;return __awaiter(this,void 0,void 0,function*(){const headers={};request.headers.forEach((value,key)=>{headers[key]=value});let nextUrlData,body,cookiesData={};if("cookies"in request)request.cookies.getAll().forEach(cookie=>{cookiesData[cookie.name]=cookie.value});else{const cookieHeader=headers.cookie;cookieHeader&&(cookiesData=Object.fromEntries(cookieHeader.split(";").map(cookie=>{const[key,value]=cookie.trim().split("=");return[key,value]})))}if("nextUrl"in request){const nextUrl=request.nextUrl;nextUrlData={basePath:nextUrl.basePath,buildId:nextUrl.buildId,hash:nextUrl.hash,host:nextUrl.host,hostname:nextUrl.hostname,href:nextUrl.href,origin:nextUrl.origin,password:nextUrl.password,pathname:nextUrl.pathname,port:nextUrl.port,protocol:nextUrl.protocol,search:nextUrl.search,searchParams:Object.fromEntries(nextUrl.searchParams.entries()),username:nextUrl.username}}if(request.body)try{const clonedRequest=request.clone();try{body=yield clonedRequest.json(),null===(_a=clonedRequest.body)||void 0===_a||_a.getReader}catch(_b){body=yield clonedRequest.text()}}catch(error){console.warn("Could not parse request body:",error)}const cache={mode:request.cache,credentials:request.credentials,redirect:request.redirect,referrerPolicy:request.referrerPolicy,integrity:request.integrity};let ip,geo;return"ip"in request&&(ip=request.ip),"geo"in request&&(geo=request.geo),{method:request.method,url:request.url,headers,cookies:cookiesData,nextUrl:nextUrlData,ip,geo,body,cache,mode:request.mode,destination:request.destination,referrer:request.referrer,keepalive:request.keepalive,signal:{aborted:request.signal.aborted,reason:request.signal.reason}}})};exports.throttle=(fn,wait)=>{let lastFn,lastTime;return function(){const context=this,args=arguments;null==lastTime&&(lastTime=Date.now()),clearTimeout(lastFn),lastFn=setTimeout(()=>{Date.now()-lastTime>=wait&&(fn.apply(context,args),lastTime=Date.now())},Math.max(wait-(Date.now()-lastTime),0))}}},"./node_modules/@logtail/next/dist/webVitals/components.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.BetterStackWebVitals=void 0;const react_1=__importDefault(__webpack_require__("./node_modules/next/dist/compiled/react/index.js")),_1=__webpack_require__("./node_modules/@logtail/next/dist/webVitals/index.js");exports.BetterStackWebVitals=function BetterStackWebVitals({path}){return(0,_1.useReportWebVitals)(path),react_1.default.createElement(react_1.default.Fragment,null)}},"./node_modules/@logtail/next/dist/webVitals/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useReportWebVitals=exports.BetterStackWebVitals=void 0;const navigation_1=__webpack_require__("./node_modules/@storybook/nextjs/dist/export-mocks/navigation/index.js"),web_vitals_1=__webpack_require__("./node_modules/next/web-vitals.js"),webVitals_1=__webpack_require__("./node_modules/@logtail/next/dist/webVitals/webVitals.js"),react_1=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");var components_1=__webpack_require__("./node_modules/@logtail/next/dist/webVitals/components.js");Object.defineProperty(exports,"BetterStackWebVitals",{enumerable:!0,get:function(){return components_1.BetterStackWebVitals}}),exports.useReportWebVitals=function useReportWebVitals(path){const pathName=(0,navigation_1.usePathname)(),stabilizedPath=(0,react_1.useRef)(path||pathName);"string"==typeof path&&path!==stabilizedPath.current?stabilizedPath.current=pathName:"string"==typeof path&&path===stabilizedPath.current&&(stabilizedPath.current=path);const reportWebVitalsFn=(0,react_1.useCallback)(metric=>(0,webVitals_1.reportWebVitalsWithPath)(metric,stabilizedPath.current),[]);(0,web_vitals_1.useReportWebVitals)(reportWebVitalsFn)}},"./node_modules/@logtail/next/dist/webVitals/webVitals.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var console=__webpack_require__("./node_modules/console-browserify/index.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.reportWebVitalsWithPath=void 0;const config_1=__webpack_require__("./node_modules/@logtail/next/dist/config.js"),shared_1=__webpack_require__("./node_modules/@logtail/next/dist/shared.js"),url=config_1.config.getWebVitalsEndpoint(),throttledSendMetrics=(0,shared_1.throttle)(function sendMetrics(){const body=JSON.stringify(config_1.config.wrapWebVitalsObject(collectedMetrics)),headers={"Content-Type":"application/json","User-Agent":"next-logtail/v"+config_1.Version};config_1.config.token&&(headers.Authorization=`Bearer ${config_1.config.token}`);const reqOptions={body,method:"POST",keepalive:!0,headers};function sendFallback(){fetch(url,reqOptions).catch(console.error)}if(config_1.isBrowser&&config_1.isVercel&&navigator.sendBeacon)try{navigator.sendBeacon.bind(navigator)(url,body)}catch(err){sendFallback()}else sendFallback();collectedMetrics=[]},1e3);let collectedMetrics=[];exports.reportWebVitalsWithPath=function reportWebVitalsWithPath(metric,route){collectedMetrics.push(Object.assign({route},metric)),config_1.config.isEnvVarsSet()&&throttledSendMetrics()}},"./node_modules/@logtail/next/dist/withBetterStack.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.withBetterStack=exports.withBetterStackRouteHandler=exports.withBetterStackNextConfig=void 0;const config_1=__webpack_require__("./node_modules/@logtail/next/dist/config.js"),logger_1=__webpack_require__("./node_modules/@logtail/next/dist/logger.js"),shared_1=__webpack_require__("./node_modules/@logtail/next/dist/shared.js");function withBetterStackNextConfig(nextConfig){return Object.assign(Object.assign({},nextConfig),{rewrites:()=>__awaiter(this,void 0,void 0,function*(){var _a;const rewrites=yield null===(_a=nextConfig.rewrites)||void 0===_a?void 0:_a.call(nextConfig),webVitalsEndpoint=config_1.config.getIngestURL(shared_1.EndpointType.webVitals),logsEndpoint=config_1.config.getIngestURL(shared_1.EndpointType.logs);if(!webVitalsEndpoint&&!logsEndpoint){const log=new logger_1.Logger;return log.warn("Envvars not detected. If this is production please see https://betterstack.com/docs/logs/javascript/nextjs/ for help"),log.warn("Sending Web Vitals to /dev/null"),log.warn("Sending logs to console"),rewrites||[]}const betterStackRewrites=[{source:`${config_1.config.proxyPath}/web-vitals`,destination:webVitalsEndpoint,basePath:!1},{source:`${config_1.config.proxyPath}/logs`,destination:logsEndpoint,basePath:!1}];return rewrites?Array.isArray(rewrites)?rewrites.concat(betterStackRewrites):(rewrites.afterFiles=(rewrites.afterFiles||[]).concat(betterStackRewrites),rewrites):betterStackRewrites})})}function withBetterStackRouteHandler(handler,config){return(req,arg)=>__awaiter(this,void 0,void 0,function*(){var _a,_b,_c,_d;let region="";"geo"in req&&(region=null!==(_b=null===(_a=req.geo)||void 0===_a?void 0:_a.region)&&void 0!==_b?_b:"");let pathname="";"nextUrl"in req?pathname=req.nextUrl.pathname:req instanceof Request&&(pathname=new URL(req.url).pathname);const requestDetails=Array.isArray(null==config?void 0:config.logRequestDetails)||!0===(null==config?void 0:config.logRequestDetails)?yield(0,shared_1.requestToJSON)(req):void 0,report={startTime:(new Date).getTime(),endTime:(new Date).getTime(),path:pathname,method:req.method,host:req.headers.get("host"),userAgent:req.headers.get("user-agent"),scheme:req.url.split("://")[0],ip:req.headers.get("x-forwarded-for"),region,details:Array.isArray(null==config?void 0:config.logRequestDetails)?Object.fromEntries(Object.entries(requestDetails).filter(([key])=>(null==config?void 0:config.logRequestDetails).includes(key))):requestDetails},logger=new logger_1.Logger({req:report,source:config_1.isEdgeRuntime?"edge":"lambda"}),log=logger.with({});log.config.source=(config_1.isEdgeRuntime?"edge":"lambda")+"-log";const betterStackContext=req,args=arg;betterStackContext.log=log;try{const result=yield handler(betterStackContext,args);return report.endTime=(new Date).getTime(),report.statusCode=result.status,report.durationMs=report.endTime-report.startTime,config_1.isVercel||logger.logHttpRequest(logger_1.LogLevel.info,`${req.method} ${report.path} ${report.statusCode} in ${report.endTime-report.startTime}ms`,report,{}),log.attachResponseStatus(result.status),yield logger.flush(),result}catch(error){report.endTime=(new Date).getTime();let statusCode=500,logLevel=logger_1.LogLevel.error;if(error instanceof Error)if("NEXT_NOT_FOUND"===error.message)logLevel=null!==(_c=null==config?void 0:config.notFoundLogLevel)&&void 0!==_c?_c:logger_1.LogLevel.warn,statusCode=404;else if("NEXT_REDIRECT"===error.message){logLevel=null!==(_d=null==config?void 0:config.redirectLogLevel)&&void 0!==_d?_d:logger_1.LogLevel.info;const e=error;if(e.digest){const d=e.digest.split(";");statusCode=parseInt(d[3])}else statusCode=307}throw report.statusCode=statusCode,report.durationMs=report.endTime-report.startTime,config_1.isVercel||logger.logHttpRequest(logLevel,`${req.method} ${report.path} ${report.statusCode} in ${report.endTime-report.startTime}ms`,report,{}),log.log(logLevel,error.message,{error}),log.attachResponseStatus(statusCode),yield logger.flush(),error}})}exports.withBetterStackNextConfig=withBetterStackNextConfig,exports.withBetterStackRouteHandler=withBetterStackRouteHandler,exports.withBetterStack=function withBetterStack(param,config){return"function"==typeof param?withBetterStackRouteHandler(param,config):function isNextConfig(param){return"object"==typeof param}(param)?withBetterStackNextConfig(param):withBetterStackRouteHandler(param,config)}},"./node_modules/@logtail/next/package.json":module=>{"use strict";module.exports={version:"0.2.1"}},"./node_modules/next/dist/client/web-vitals.js":(module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"useReportWebVitals",{enumerable:!0,get:function(){return useReportWebVitals}});const _react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_webvitals=__webpack_require__("./node_modules/next/dist/compiled/web-vitals/web-vitals.js");function useReportWebVitals(reportWebVitalsFn){(0,_react.useEffect)(()=>{(0,_webvitals.onCLS)(reportWebVitalsFn),(0,_webvitals.onFID)(reportWebVitalsFn),(0,_webvitals.onLCP)(reportWebVitalsFn),(0,_webvitals.onINP)(reportWebVitalsFn),(0,_webvitals.onFCP)(reportWebVitalsFn),(0,_webvitals.onTTFB)(reportWebVitalsFn)},[reportWebVitalsFn])}("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default)},"./node_modules/next/dist/compiled/web-vitals/web-vitals.js":module=>{!function(){"use strict";var n={d:function(b,L){for(var P in L)n.o(L,P)&&!n.o(b,P)&&Object.defineProperty(b,P,{enumerable:!0,get:L[P]})},o:function(n,b){return Object.prototype.hasOwnProperty.call(n,b)},r:function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}};void 0!==n&&(n.ab="//");var b={};n.r(b),n.d(b,{CLSThresholds:function(){return j},FCPThresholds:function(){return B},FIDThresholds:function(){return cn},INPThresholds:function(){return nn},LCPThresholds:function(){return en},TTFBThresholds:function(){return rn},onCLS:function(){return w},onFCP:function(){return S},onFID:function(){return $},onINP:function(){return N},onLCP:function(){return z},onTTFB:function(){return K}});var L,P,I,A,F,D=-1,a=function(n){addEventListener("pageshow",function(b){b.persisted&&(D=b.timeStamp,n(b))},!0)},c=function(){var n=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(n&&n.responseStart>0&&n.responseStart<performance.now())return n},u=function(){var n=c();return n&&n.activationStart||0},f=function(n,b){var L=c(),P="navigate";return D>=0?P="back-forward-cache":L&&(document.prerendering||u()>0?P="prerender":document.wasDiscarded?P="restore":L.type&&(P=L.type.replace(/_/g,"-"))),{name:n,value:void 0===b?-1:b,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:P}},s=function(n,b,L){try{if(PerformanceObserver.supportedEntryTypes.includes(n)){var P=new PerformanceObserver(function(n){Promise.resolve().then(function(){b(n.getEntries())})});return P.observe(Object.assign({type:n,buffered:!0},L||{})),P}}catch(n){}},d=function(n,b,L,P){var I,A;return function(F){b.value>=0&&(F||P)&&((A=b.value-(I||0))||void 0===I)&&(I=b.value,b.delta=A,b.rating=function(n,b){return n>b[1]?"poor":n>b[0]?"needs-improvement":"good"}(b.value,L),n(b))}},l=function(n){requestAnimationFrame(function(){return requestAnimationFrame(function(){return n()})})},p=function(n){document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&n()})},v=function(n){var b=!1;return function(){b||(n(),b=!0)}},O=-1,h=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},g=function(n){"hidden"===document.visibilityState&&O>-1&&(O="visibilitychange"===n.type?n.timeStamp:0,T())},y=function(){addEventListener("visibilitychange",g,!0),addEventListener("prerenderingchange",g,!0)},T=function(){removeEventListener("visibilitychange",g,!0),removeEventListener("prerenderingchange",g,!0)},E=function(){return O<0&&(O=h(),y(),a(function(){setTimeout(function(){O=h(),y()},0)})),{get firstHiddenTime(){return O}}},C=function(n){document.prerendering?addEventListener("prerenderingchange",function(){return n()},!0):n()},B=[1800,3e3],S=function(n,b){b=b||{},C(function(){var L,P=E(),I=f("FCP"),A=s("paint",function(n){n.forEach(function(n){"first-contentful-paint"===n.name&&(A.disconnect(),n.startTime<P.firstHiddenTime&&(I.value=Math.max(n.startTime-u(),0),I.entries.push(n),L(!0)))})});A&&(L=d(n,I,B,b.reportAllChanges),a(function(P){I=f("FCP"),L=d(n,I,B,b.reportAllChanges),l(function(){I.value=performance.now()-P.timeStamp,L(!0)})}))})},j=[.1,.25],w=function(n,b){b=b||{},S(v(function(){var L,P=f("CLS",0),I=0,A=[],c=function(n){n.forEach(function(n){if(!n.hadRecentInput){var b=A[0],L=A[A.length-1];I&&n.startTime-L.startTime<1e3&&n.startTime-b.startTime<5e3?(I+=n.value,A.push(n)):(I=n.value,A=[n])}}),I>P.value&&(P.value=I,P.entries=A,L())},F=s("layout-shift",c);F&&(L=d(n,P,j,b.reportAllChanges),p(function(){c(F.takeRecords()),L(!0)}),a(function(){I=0,P=f("CLS",0),L=d(n,P,j,b.reportAllChanges),l(function(){return L()})}),setTimeout(L,0))}))},x=0,_=1/0,G=0,M=function(n){n.forEach(function(n){n.interactionId&&(_=Math.min(_,n.interactionId),G=Math.max(G,n.interactionId),x=G?(G-_)/7+1:0)})},k=function(){"interactionCount"in performance||L||(L=s("event",M,{type:"event",buffered:!0,durationThreshold:0}))},J=[],Q=new Map,U=0,R=function(){return(L?x:performance.interactionCount||0)-U},Z=[],H=function(n){if(Z.forEach(function(b){return b(n)}),n.interactionId||"first-input"===n.entryType){var b=J[J.length-1],L=Q.get(n.interactionId);if(L||J.length<10||n.duration>b.latency){if(L)n.duration>L.latency?(L.entries=[n],L.latency=n.duration):n.duration===L.latency&&n.startTime===L.entries[0].startTime&&L.entries.push(n);else{var P={id:n.interactionId,latency:n.duration,entries:[n]};Q.set(P.id,P),J.push(P)}J.sort(function(n,b){return b.latency-n.latency}),J.length>10&&J.splice(10).forEach(function(n){return Q.delete(n.id)})}}},q=function(n){var b=self.requestIdleCallback||self.setTimeout,L=-1;return n=v(n),"hidden"===document.visibilityState?n():(L=b(n),p(n)),L},nn=[200,500],N=function(n,b){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(b=b||{},C(function(){var L;k();var P,I=f("INP"),o=function(n){q(function(){n.forEach(H);var b,L=(b=Math.min(J.length-1,Math.floor(R()/50)),J[b]);L&&L.latency!==I.value&&(I.value=L.latency,I.entries=L.entries,P())})},A=s("event",o,{durationThreshold:null!==(L=b.durationThreshold)&&void 0!==L?L:40});P=d(n,I,nn,b.reportAllChanges),A&&(A.observe({type:"first-input",buffered:!0}),p(function(){o(A.takeRecords()),P(!0)}),a(function(){U=0,J.length=0,Q.clear(),I=f("INP"),P=d(n,I,nn,b.reportAllChanges)}))}))},en=[2500,4e3],tn={},z=function(n,b){b=b||{},C(function(){var L,P=E(),I=f("LCP"),o=function(n){b.reportAllChanges||(n=n.slice(-1)),n.forEach(function(n){n.startTime<P.firstHiddenTime&&(I.value=Math.max(n.startTime-u(),0),I.entries=[n],L())})},A=s("largest-contentful-paint",o);if(A){L=d(n,I,en,b.reportAllChanges);var F=v(function(){tn[I.id]||(o(A.takeRecords()),A.disconnect(),tn[I.id]=!0,L(!0))});["keydown","click"].forEach(function(n){addEventListener(n,function(){return q(F)},!0)}),p(F),a(function(P){I=f("LCP"),L=d(n,I,en,b.reportAllChanges),l(function(){I.value=performance.now()-P.timeStamp,tn[I.id]=!0,L(!0)})})}})},rn=[800,1800],on=function e(n){document.prerendering?C(function(){return e(n)}):"complete"!==document.readyState?addEventListener("load",function(){return e(n)},!0):setTimeout(n,0)},K=function(n,b){b=b||{};var L=f("TTFB"),P=d(n,L,rn,b.reportAllChanges);on(function(){var I=c();I&&(L.value=Math.max(I.responseStart-u(),0),L.entries=[I],P(!0),a(function(){L=f("TTFB",0),(P=d(n,L,rn,b.reportAllChanges))(!0)}))})},an={passive:!0,capture:!0},un=new Date,V=function(n,b){P||(P=b,I=n,A=new Date,Y(removeEventListener),W())},W=function(){if(I>=0&&I<A-un){var n={entryType:"first-input",name:P.type,target:P.target,cancelable:P.cancelable,startTime:P.timeStamp,processingStart:P.timeStamp+I};F.forEach(function(b){b(n)}),F=[]}},X=function(n){if(n.cancelable){var b=(n.timeStamp>1e12?new Date:performance.now())-n.timeStamp;"pointerdown"==n.type?function(n,b){var t=function(){V(n,b),i()},r=function(){i()},i=function(){removeEventListener("pointerup",t,an),removeEventListener("pointercancel",r,an)};addEventListener("pointerup",t,an),addEventListener("pointercancel",r,an)}(b,n):V(b,n)}},Y=function(n){["mousedown","keydown","touchstart","pointerdown"].forEach(function(b){return n(b,X,an)})},cn=[100,300],$=function(n,b){b=b||{},C(function(){var L,A=E(),D=f("FID"),l=function(n){n.startTime<A.firstHiddenTime&&(D.value=n.processingStart-n.startTime,D.entries.push(n),L(!0))},m=function(n){n.forEach(l)},O=s("first-input",m);L=d(n,D,cn,b.reportAllChanges),O&&(p(v(function(){m(O.takeRecords()),O.disconnect()})),a(function(){var A;D=f("FID"),L=d(n,D,cn,b.reportAllChanges),F=[],I=-1,P=null,Y(addEventListener),A=l,F.push(A),W()}))})};module.exports=b}()},"./node_modules/next/web-vitals.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/next/dist/client/web-vitals.js")},"./node_modules/use-deep-compare/dist-web/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{useDeepCompareCallback:()=>useDeepCompareCallback,useDeepCompareEffect:()=>useDeepCompareEffect,useDeepCompareImperativeHandle:()=>useDeepCompareImperativeHandle,useDeepCompareLayoutEffect:()=>useDeepCompareLayoutEffect,useDeepCompareMemo:()=>useDeepCompareMemo});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),has=Object.prototype.hasOwnProperty;function find(iter,tar,key){for(key of iter.keys())if(dequal(key,tar))return key}function dequal(foo,bar){var ctor,len,tmp;if(foo===bar)return!0;if(foo&&bar&&(ctor=foo.constructor)===bar.constructor){if(ctor===Date)return foo.getTime()===bar.getTime();if(ctor===RegExp)return foo.toString()===bar.toString();if(ctor===Array){if((len=foo.length)===bar.length)for(;len--&&dequal(foo[len],bar[len]););return-1===len}if(ctor===Set){if(foo.size!==bar.size)return!1;for(len of foo){if((tmp=len)&&"object"==typeof tmp&&!(tmp=find(bar,tmp)))return!1;if(!bar.has(tmp))return!1}return!0}if(ctor===Map){if(foo.size!==bar.size)return!1;for(len of foo){if((tmp=len[0])&&"object"==typeof tmp&&!(tmp=find(bar,tmp)))return!1;if(!dequal(len[1],bar.get(tmp)))return!1}return!0}if(ctor===ArrayBuffer)foo=new Uint8Array(foo),bar=new Uint8Array(bar);else if(ctor===DataView){if((len=foo.byteLength)===bar.byteLength)for(;len--&&foo.getInt8(len)===bar.getInt8(len););return-1===len}if(ArrayBuffer.isView(foo)){if((len=foo.byteLength)===bar.byteLength)for(;len--&&foo[len]===bar[len];);return-1===len}if(!ctor||"object"==typeof foo){for(ctor in len=0,foo){if(has.call(foo,ctor)&&++len&&!has.call(bar,ctor))return!1;if(!(ctor in bar)||!dequal(foo[ctor],bar[ctor]))return!1}return Object.keys(bar).length===len}}return foo!=foo&&bar!=bar}function useDeepCompareMemoize(dependencies){const dependenciesRef=react.useRef(dependencies),signalRef=react.useRef(0);return dequal(dependencies,dependenciesRef.current)||(dependenciesRef.current=dependencies,signalRef.current+=1),react.useMemo(()=>dependenciesRef.current,[signalRef.current])}function useDeepCompareCallback(callback,dependencies){return react.useCallback(callback,useDeepCompareMemoize(dependencies))}function useDeepCompareEffect(effect,dependencies){react.useEffect(effect,useDeepCompareMemoize(dependencies))}function useDeepCompareImperativeHandle(ref,init,dependencies){react.useImperativeHandle(ref,init,useDeepCompareMemoize(dependencies))}function useDeepCompareLayoutEffect(effect,dependencies){react.useLayoutEffect(effect,useDeepCompareMemoize(dependencies))}function useDeepCompareMemo(factory,dependencies){return react.useMemo(factory,useDeepCompareMemoize(dependencies))}},"./node_modules/whatwg-fetch/fetch.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DOMException:()=>DOMException,Headers:()=>Headers,Request:()=>Request,Response:()=>Response,fetch:()=>fetch});var console=__webpack_require__("./node_modules/console-browserify/index.js"),g="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==__webpack_require__.g&&__webpack_require__.g||{},support={searchParams:"URLSearchParams"in g,iterable:"Symbol"in g&&"iterator"in Symbol,blob:"FileReader"in g&&"Blob"in g&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in g,arrayBuffer:"ArrayBuffer"in g};if(support.arrayBuffer)var viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],isArrayBufferView=ArrayBuffer.isView||function(obj){return obj&&viewClasses.indexOf(Object.prototype.toString.call(obj))>-1};function normalizeName(name){if("string"!=typeof name&&(name=String(name)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(name)||""===name)throw new TypeError('Invalid character in header field name: "'+name+'"');return name.toLowerCase()}function normalizeValue(value){return"string"!=typeof value&&(value=String(value)),value}function iteratorFor(items){var iterator={next:function(){var value=items.shift();return{done:void 0===value,value}}};return support.iterable&&(iterator[Symbol.iterator]=function(){return iterator}),iterator}function Headers(headers){this.map={},headers instanceof Headers?headers.forEach(function(value,name){this.append(name,value)},this):Array.isArray(headers)?headers.forEach(function(header){if(2!=header.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+header.length);this.append(header[0],header[1])},this):headers&&Object.getOwnPropertyNames(headers).forEach(function(name){this.append(name,headers[name])},this)}function consumed(body){if(!body._noBody)return body.bodyUsed?Promise.reject(new TypeError("Already read")):void(body.bodyUsed=!0)}function fileReaderReady(reader){return new Promise(function(resolve,reject){reader.onload=function(){resolve(reader.result)},reader.onerror=function(){reject(reader.error)}})}function readBlobAsArrayBuffer(blob){var reader=new FileReader,promise=fileReaderReady(reader);return reader.readAsArrayBuffer(blob),promise}function bufferClone(buf){if(buf.slice)return buf.slice(0);var view=new Uint8Array(buf.byteLength);return view.set(new Uint8Array(buf)),view.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(body){this.bodyUsed=this.bodyUsed,this._bodyInit=body,body?"string"==typeof body?this._bodyText=body:support.blob&&Blob.prototype.isPrototypeOf(body)?this._bodyBlob=body:support.formData&&FormData.prototype.isPrototypeOf(body)?this._bodyFormData=body:support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)?this._bodyText=body.toString():support.arrayBuffer&&support.blob&&function isDataView(obj){return obj&&DataView.prototype.isPrototypeOf(obj)}(body)?(this._bodyArrayBuffer=bufferClone(body.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):support.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(body)||isArrayBufferView(body))?this._bodyArrayBuffer=bufferClone(body):this._bodyText=body=Object.prototype.toString.call(body):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof body?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},support.blob&&(this.blob=function(){var rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var isConsumed=consumed(this);return isConsumed||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(support.blob)return this.blob().then(readBlobAsArrayBuffer);throw new Error("could not read as ArrayBuffer")},this.text=function(){var rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return function readBlobAsText(blob){var reader=new FileReader,promise=fileReaderReady(reader),match=/charset=([A-Za-z0-9_-]+)/.exec(blob.type),encoding=match?match[1]:"utf-8";return reader.readAsText(blob,encoding),promise}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function readArrayBufferAsText(buf){for(var view=new Uint8Array(buf),chars=new Array(view.length),i=0;i<view.length;i++)chars[i]=String.fromCharCode(view[i]);return chars.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},support.formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}Headers.prototype.append=function(name,value){name=normalizeName(name),value=normalizeValue(value);var oldValue=this.map[name];this.map[name]=oldValue?oldValue+", "+value:value},Headers.prototype.delete=function(name){delete this.map[normalizeName(name)]},Headers.prototype.get=function(name){return name=normalizeName(name),this.has(name)?this.map[name]:null},Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name))},Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=normalizeValue(value)},Headers.prototype.forEach=function(callback,thisArg){for(var name in this.map)this.map.hasOwnProperty(name)&&callback.call(thisArg,this.map[name],name,this)},Headers.prototype.keys=function(){var items=[];return this.forEach(function(value,name){items.push(name)}),iteratorFor(items)},Headers.prototype.values=function(){var items=[];return this.forEach(function(value){items.push(value)}),iteratorFor(items)},Headers.prototype.entries=function(){var items=[];return this.forEach(function(value,name){items.push([name,value])}),iteratorFor(items)},support.iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var methods=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function Request(input,options){if(!(this instanceof Request))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var body=(options=options||{}).body;if(input instanceof Request){if(input.bodyUsed)throw new TypeError("Already read");this.url=input.url,this.credentials=input.credentials,options.headers||(this.headers=new Headers(input.headers)),this.method=input.method,this.mode=input.mode,this.signal=input.signal,body||null==input._bodyInit||(body=input._bodyInit,input.bodyUsed=!0)}else this.url=String(input);if(this.credentials=options.credentials||this.credentials||"same-origin",!options.headers&&this.headers||(this.headers=new Headers(options.headers)),this.method=function normalizeMethod(method){var upcased=method.toUpperCase();return methods.indexOf(upcased)>-1?upcased:method}(options.method||this.method||"GET"),this.mode=options.mode||this.mode||null,this.signal=options.signal||this.signal||function(){if("AbortController"in g)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&body)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(body),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==options.cache&&"no-cache"!==options.cache)){var reParamSearch=/([?&])_=[^&]*/;if(reParamSearch.test(this.url))this.url=this.url.replace(reParamSearch,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function decode(body){var form=new FormData;return body.trim().split("&").forEach(function(bytes){if(bytes){var split=bytes.split("="),name=split.shift().replace(/\+/g," "),value=split.join("=").replace(/\+/g," ");form.append(decodeURIComponent(name),decodeURIComponent(value))}}),form}function Response(bodyInit,options){if(!(this instanceof Response))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(options||(options={}),this.type="default",this.status=void 0===options.status?200:options.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===options.statusText?"":""+options.statusText,this.headers=new Headers(options.headers),this.url=options.url||"",this._initBody(bodyInit)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var response=new Response(null,{status:200,statusText:""});return response.ok=!1,response.status=0,response.type="error",response};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(url,status){if(-1===redirectStatuses.indexOf(status))throw new RangeError("Invalid status code");return new Response(null,{status,headers:{location:url}})};var DOMException=g.DOMException;try{new DOMException}catch(err){(DOMException=function(message,name){this.message=message,this.name=name;var error=Error(message);this.stack=error.stack}).prototype=Object.create(Error.prototype),DOMException.prototype.constructor=DOMException}function fetch(input,init){return new Promise(function(resolve,reject){var request=new Request(input,init);if(request.signal&&request.signal.aborted)return reject(new DOMException("Aborted","AbortError"));var xhr=new XMLHttpRequest;function abortXhr(){xhr.abort()}if(xhr.onload=function(){var rawHeaders,headers,options={statusText:xhr.statusText,headers:(rawHeaders=xhr.getAllResponseHeaders()||"",headers=new Headers,rawHeaders.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(header){return 0===header.indexOf("\n")?header.substr(1,header.length):header}).forEach(function(line){var parts=line.split(":"),key=parts.shift().trim();if(key){var value=parts.join(":").trim();try{headers.append(key,value)}catch(error){console.warn("Response "+error.message)}}}),headers)};0===request.url.indexOf("file://")&&(xhr.status<200||xhr.status>599)?options.status=200:options.status=xhr.status,options.url="responseURL"in xhr?xhr.responseURL:options.headers.get("X-Request-URL");var body="response"in xhr?xhr.response:xhr.responseText;setTimeout(function(){resolve(new Response(body,options))},0)},xhr.onerror=function(){setTimeout(function(){reject(new TypeError("Network request failed"))},0)},xhr.ontimeout=function(){setTimeout(function(){reject(new TypeError("Network request timed out"))},0)},xhr.onabort=function(){setTimeout(function(){reject(new DOMException("Aborted","AbortError"))},0)},xhr.open(request.method,function fixUrl(url){try{return""===url&&g.location.href?g.location.href:url}catch(e){return url}}(request.url),!0),"include"===request.credentials?xhr.withCredentials=!0:"omit"===request.credentials&&(xhr.withCredentials=!1),"responseType"in xhr&&(support.blob?xhr.responseType="blob":support.arrayBuffer&&(xhr.responseType="arraybuffer")),init&&"object"==typeof init.headers&&!(init.headers instanceof Headers||g.Headers&&init.headers instanceof g.Headers)){var names=[];Object.getOwnPropertyNames(init.headers).forEach(function(name){names.push(normalizeName(name)),xhr.setRequestHeader(name,normalizeValue(init.headers[name]))}),request.headers.forEach(function(value,name){-1===names.indexOf(name)&&xhr.setRequestHeader(name,value)})}else request.headers.forEach(function(value,name){xhr.setRequestHeader(name,value)});request.signal&&(request.signal.addEventListener("abort",abortXhr),xhr.onreadystatechange=function(){4===xhr.readyState&&request.signal.removeEventListener("abort",abortXhr)}),xhr.send(void 0===request._bodyInit?null:request._bodyInit)})}fetch.polyfill=!0,g.fetch||(g.fetch=fetch,g.Headers=Headers,g.Request=Request,g.Response=Response)}}]);