"use strict";(self.webpackChunkcasaora=self.webpackChunkcasaora||[]).push([[18399,24081],{"./node_modules/@hugeicons/react/dist/esm/HugeiconsIcon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>HugeiconsIcon});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none"},HugeiconsIcon=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({color="currentColor",size=24,strokeWidth,absoluteStrokeWidth=!1,className="",altIcon,showAlt=!1,icon,primaryColor,secondaryColor,disableSecondaryOpacity=!1,...rest},ref)=>{const calculatedStrokeWidth=void 0!==strokeWidth?absoluteStrokeWidth?24*Number(strokeWidth)/Number(size):strokeWidth:void 0,strokeProps=void 0!==calculatedStrokeWidth?{strokeWidth:calculatedStrokeWidth,stroke:"currentColor"}:{},elementProps={ref,...defaultAttributes,width:size,height:size,color:primaryColor||color,className,...strokeProps,...rest},svgChildren=[...showAlt&&altIcon?altIcon:icon].sort(([,a],[,b])=>{const hasOpacityA=void 0!==a.opacity;return void 0!==b.opacity?1:hasOpacityA?-1:0}).map(([tag,attrs])=>{const isSecondaryPath=void 0!==attrs.opacity,pathOpacity=isSecondaryPath&&!disableSecondaryOpacity?attrs.opacity:void 0,fillProps=secondaryColor?{...void 0!==attrs.stroke?{stroke:isSecondaryPath?secondaryColor:primaryColor||color}:{fill:isSecondaryPath?secondaryColor:primaryColor||color}}:{};return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(tag,{...attrs,...strokeProps,...fillProps,opacity:pathOpacity,key:attrs.key})});return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("svg",elementProps,svgChildren)});HugeiconsIcon.displayName="HugeiconsIcon"},"./src/components/admin/feedback/feedback-actions.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>feedback_actions_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),index_min=__webpack_require__("./node_modules/@hugeicons/core-free-icons/dist/esm/index.min.js"),HugeiconsIcon=__webpack_require__("./node_modules/@hugeicons/react/dist/esm/HugeiconsIcon.js"),navigation=__webpack_require__("./node_modules/@storybook/nextjs/dist/export-mocks/navigation/index.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const statusOptions=[{value:"new",label:"New"},{value:"in_review",label:"In Review"},{value:"resolved",label:"Resolved"},{value:"closed",label:"Closed"},{value:"spam",label:"Spam"}],priorityOptions=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"critical",label:"Critical"}];function FeedbackActions({feedbackId,currentStatus,currentPriority}){const router=(0,navigation.useRouter)(),[saving,setSaving]=(0,react.useState)(!1),[error,setError]=(0,react.useState)(null),[status,setStatus]=(0,react.useState)(currentStatus),[priority,setPriority]=(0,react.useState)(currentPriority),[adminNotes,setAdminNotes]=(0,react.useState)("");return(0,jsx_runtime.jsxs)("div",{className:"space-y-6",children:[error&&(0,jsx_runtime.jsx)("div",{className:"rounded-2xl border border-slate-900 dark:border-slate-100/30 bg-slate-900 dark:bg-slate-100/10 p-4 text-slate-900 dark:text-slate-100 text-sm",children:error}),(0,jsx_runtime.jsxs)("div",{className:"rounded-2xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 p-6",children:[(0,jsx_runtime.jsx)("h3",{className:"mb-4 font-bold text-slate-900 dark:text-slate-100 text-lg",children:"Update Status & Priority"}),(0,jsx_runtime.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"mb-2 block font-medium text-slate-900 dark:text-slate-100 text-sm",htmlFor:"status",children:"Status"}),(0,jsx_runtime.jsx)("select",{className:"w-full rounded-xl border border-slate-200 dark:border-slate-800 px-4 py-3 text-slate-900 dark:text-slate-100 focus:border-slate-900 dark:border-slate-100 focus:outline-none focus:ring-2 focus:ring-[#64748b]/20",id:"status",onChange:e=>setStatus(e.target.value),value:status,children:statusOptions.map(option=>(0,jsx_runtime.jsx)("option",{value:option.value,children:option.label},option.value))})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"mb-2 block font-medium text-slate-900 dark:text-slate-100 text-sm",htmlFor:"priority",children:"Priority"}),(0,jsx_runtime.jsx)("select",{className:"w-full rounded-xl border border-slate-200 dark:border-slate-800 px-4 py-3 text-slate-900 dark:text-slate-100 focus:border-slate-900 dark:border-slate-100 focus:outline-none focus:ring-2 focus:ring-[#64748b]/20",id:"priority",onChange:e=>setPriority(e.target.value),value:priority,children:priorityOptions.map(option=>(0,jsx_runtime.jsx)("option",{value:option.value,children:option.label},option.value))})]})]})]}),(0,jsx_runtime.jsxs)("div",{className:"rounded-2xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 p-6",children:[(0,jsx_runtime.jsx)("h3",{className:"mb-4 font-bold text-slate-900 dark:text-slate-100 text-lg",children:"Add Admin Notes"}),(0,jsx_runtime.jsx)("textarea",{className:"w-full rounded-xl border border-slate-200 dark:border-slate-800 px-4 py-3 text-slate-900 dark:text-slate-100 focus:border-slate-900 dark:border-slate-100 focus:outline-none focus:ring-2 focus:ring-[#64748b]/20",id:"admin_notes",onChange:e=>setAdminNotes(e.target.value),placeholder:"Add internal notes about this feedback (optional)...",rows:4,value:adminNotes})]}),(0,jsx_runtime.jsx)("div",{className:"flex justify-end",children:(0,jsx_runtime.jsx)("button",{className:"flex items-center gap-2 rounded-full bg-slate-900 dark:bg-slate-100 px-6 py-3 font-semibold text-white dark:text-slate-950 transition hover:bg-slate-900 dark:bg-slate-100 disabled:opacity-50",disabled:saving,onClick:async()=>{setError(null),setSaving(!0);try{const response=await fetch(`/api/admin/feedback/${feedbackId}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status,priority,admin_notes:adminNotes||void 0})});if(!response.ok){const data=await response.json();throw new Error(data.error||"Failed to update feedback")}router.refresh(),setAdminNotes("")}catch(err){setError(err instanceof Error?err.message:"An error occurred")}finally{setSaving(!1)}},type:"button",children:saving?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-5 w-5 animate-spin",icon:index_min.H5m}),"Saving..."]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-5 w-5",icon:index_min.NXE}),"Save Changes"]})})})]})}try{FeedbackActions.displayName="FeedbackActions",FeedbackActions.__docgenInfo={description:"",displayName:"FeedbackActions",props:{feedbackId:{defaultValue:null,description:"",name:"feedbackId",required:!0,type:{name:"string"}},currentStatus:{defaultValue:null,description:"",name:"currentStatus",required:!0,type:{name:"string"}},currentPriority:{defaultValue:null,description:"",name:"currentPriority",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/admin/feedback/feedback-actions.tsx#FeedbackActions"]={docgenInfo:FeedbackActions.__docgenInfo,name:"FeedbackActions",path:"src/components/admin/feedback/feedback-actions.tsx#FeedbackActions"})}catch(__react_docgen_typescript_loader_error){}const feedback_actions_stories={title:"Admin/Feedback Actions",component:FeedbackActions,parameters:{layout:"centered"},tags:["autodocs"]},Default={args:{}},__namedExportsOrder=["Default"]}}]);