"use strict";(self.webpackChunkcasaora=self.webpackChunkcasaora||[]).push([[46120],{"./src/components/ai-elements/conversation.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H_:()=>ConversationScrollButton,pj:()=>ConversationContent,q2:()=>ConversationEmptyState,sy:()=>Conversation});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_barrel_optimize_names_ArrowDownIcon_lucide_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/arrow-down.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),use_stick_to_bottom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/use-stick-to-bottom/dist/StickToBottom.js"),_lib_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/lib/utils.ts");const Conversation=({className,...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(use_stick_to_bottom__WEBPACK_IMPORTED_MODULE_3__.z,{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.cn)("relative flex-1 overflow-y-auto",className),initial:"smooth",resize:"smooth",role:"log",...props}),ConversationContent=({className,...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(use_stick_to_bottom__WEBPACK_IMPORTED_MODULE_3__.z.Content,{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.cn)("flex flex-col gap-4 p-4",className),...props}),ConversationEmptyState=({className,title="No messages yet",description="Start a conversation to see messages here",icon,children,...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.cn)("flex size-full flex-col items-center justify-center gap-3 p-8 text-center text-sm",className),...props,children:children??(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[icon&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"text-muted-foreground",children:icon}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"font-semibold",children:title}),description&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-muted-foreground",children:description})]})]})}),ConversationScrollButton=({className,...props})=>{const{isAtBottom,scrollToBottom}=(0,use_stick_to_bottom__WEBPACK_IMPORTED_MODULE_3__.B)(),handleScrollToBottom=(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(()=>{scrollToBottom()},[scrollToBottom]);return isAtBottom?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button",{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.cn)("-translate-x-1/2 absolute bottom-4 left-1/2 flex items-center gap-2 rounded-full border border-[#e2e8f0] bg-[#f8fafc] px-3 py-2 font-medium text-[#94a3b8] text-sm shadow hover:bg-[#f8fafc] focus:outline-none focus-visible:ring-2 focus-visible:ring-[#64748b]/60",className),onClick:handleScrollToBottom,type:"button",...props,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_ArrowDownIcon_lucide_react__WEBPACK_IMPORTED_MODULE_1__.A,{className:"size-4"}),"Scroll to newest"]})};try{Conversation.displayName="Conversation",Conversation.__docgenInfo={description:"",displayName:"Conversation",props:{damping:{defaultValue:{value:"0.7"},description:"A value from 0 to 1, on how much to damp the animation.\n0 means no damping, 1 means full damping.",name:"damping",required:!1,type:{name:"number"}},stiffness:{defaultValue:{value:"0.05"},description:"The stiffness of how fast/slow the animation gets up to speed.",name:"stiffness",required:!1,type:{name:"number"}},mass:{defaultValue:{value:"1.25"},description:"The inertial mass associated with the animation.\nHigher numbers make the animation slower.",name:"mass",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ai-elements/conversation.tsx#Conversation"]={docgenInfo:Conversation.__docgenInfo,name:"Conversation",path:"src/components/ai-elements/conversation.tsx#Conversation"})}catch(__react_docgen_typescript_loader_error){}try{ConversationContent.displayName="ConversationContent",ConversationContent.__docgenInfo={description:"",displayName:"ConversationContent",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ai-elements/conversation.tsx#ConversationContent"]={docgenInfo:ConversationContent.__docgenInfo,name:"ConversationContent",path:"src/components/ai-elements/conversation.tsx#ConversationContent"})}catch(__react_docgen_typescript_loader_error){}try{ConversationEmptyState.displayName="ConversationEmptyState",ConversationEmptyState.__docgenInfo={description:"",displayName:"ConversationEmptyState",props:{description:{defaultValue:{value:"Start a conversation to see messages here"},description:"",name:"description",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ai-elements/conversation.tsx#ConversationEmptyState"]={docgenInfo:ConversationEmptyState.__docgenInfo,name:"ConversationEmptyState",path:"src/components/ai-elements/conversation.tsx#ConversationEmptyState"})}catch(__react_docgen_typescript_loader_error){}try{ConversationScrollButton.displayName="ConversationScrollButton",ConversationScrollButton.__docgenInfo={description:"",displayName:"ConversationScrollButton",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ai-elements/conversation.tsx#ConversationScrollButton"]={docgenInfo:ConversationScrollButton.__docgenInfo,name:"ConversationScrollButton",path:"src/components/ai-elements/conversation.tsx#ConversationScrollButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ai-elements/loader.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>Loader});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_lib_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/lib/utils.ts");const LoaderIcon=({size=16})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("svg",{height:size,strokeLinejoin:"round",style:{color:"currentcolor"},viewBox:"0 0 16 16",width:size,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("title",{children:"Loader"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("g",{clipPath:"url(#clip0_2393_1490)",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M8 0V4",stroke:"currentColor",strokeWidth:"1.5"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M8 16V12",opacity:"0.5",stroke:"currentColor",strokeWidth:"1.5"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M3.29773 1.52783L5.64887 4.7639",opacity:"0.9",stroke:"currentColor",strokeWidth:"1.5"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M12.7023 1.52783L10.3511 4.7639",opacity:"0.1",stroke:"currentColor",strokeWidth:"1.5"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M12.7023 14.472L10.3511 11.236",opacity:"0.4",stroke:"currentColor",strokeWidth:"1.5"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M3.29773 14.472L5.64887 11.236",opacity:"0.6",stroke:"currentColor",strokeWidth:"1.5"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M15.6085 5.52783L11.8043 6.7639",opacity:"0.2",stroke:"currentColor",strokeWidth:"1.5"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M0.391602 10.472L4.19583 9.23598",opacity:"0.7",stroke:"currentColor",strokeWidth:"1.5"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M15.6085 10.4722L11.8043 9.2361",opacity:"0.3",stroke:"currentColor",strokeWidth:"1.5"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M0.391602 5.52783L4.19583 6.7639",opacity:"0.8",stroke:"currentColor",strokeWidth:"1.5"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("defs",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("clipPath",{id:"clip0_2393_1490",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("rect",{fill:"white",height:"16",width:"16"})})})]}),Loader=({className,size=16,...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_1__.cn)("inline-flex animate-spin items-center justify-center",className),...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LoaderIcon,{size})});try{Loader.displayName="Loader",Loader.__docgenInfo={description:"",displayName:"Loader",props:{size:{defaultValue:{value:"16"},description:"",name:"size",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ai-elements/loader.tsx#Loader"]={docgenInfo:Loader.__docgenInfo,name:"Loader",path:"src/components/ai-elements/loader.tsx#Loader"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ai-elements/message.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Cj:()=>MessageAttachments,PV:()=>MessageContent,Pg:()=>MessageActions,QB:()=>Message,Tx:()=>MessageAvatar,d2:()=>MessageMarkdown});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),streamdown__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/streamdown/dist/index.js"),_lib_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/lib/utils.ts");const Message=({from,className,children})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("flex w-full gap-3","user"===from?"justify-end":"justify-start",className),children}),MessageAvatar=({from,avatar})=>"assistant"===from?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"mt-1 size-8 shrink-0 rounded-full bg-[#f8fafc] text-[#64748b]",children:avatar}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"size-8 shrink-0"}),MessageContent=({from,className,children})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("max-w-full rounded-2xl px-4 py-3 text-sm shadow-sm ring-1 ring-[#0f172a]/5","user"===from?"bg-[#64748b] text-[#f8fafc]":"bg-[#f8fafc] text-[#0f172a]",className),children}),MessageMarkdown=(0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(function MessageMarkdown({text}){const compiled=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(streamdown__WEBPACK_IMPORTED_MODULE_2__.jH,{children:text}),[text]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"prose-sm prose text-current [&_code]:rounded [&_code]:bg-[#0f172a]/10 [&_code]:px-1 [&_code]:py-0.5",children:compiled})}),MessageAttachments=({files})=>files?.length?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"mt-3 space-y-2 text-[#94a3b8] text-xs",children:files.map((file,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-[#e2e8f0] bg-[#f8fafc] px-3 py-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"truncate font-medium",children:file.filename}),file.url?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("a",{className:"text-[#64748b] underline",href:file.url,rel:"noreferrer",target:"_blank",children:"View"}):null]},file.url??index))}):null,MessageActions=({className,children})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("mt-2 flex items-center gap-1 text-xs",className),children}),MessageAction=({className,children,...props})=>_jsx("button",{className:cn("rounded-full border border-[#e2e8f0] bg-[#f8fafc] px-2 py-1 text-[#94a3b8] transition hover:text-[#64748b]",className),type:"button",...props,children});try{Message.displayName="Message",Message.__docgenInfo={description:"",displayName:"Message",props:{from:{defaultValue:null,description:"",name:"from",required:!0,type:{name:"enum",value:[{value:'"system"'},{value:'"user"'},{value:'"assistant"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ai-elements/message.tsx#Message"]={docgenInfo:Message.__docgenInfo,name:"Message",path:"src/components/ai-elements/message.tsx#Message"})}catch(__react_docgen_typescript_loader_error){}try{MessageAvatar.displayName="MessageAvatar",MessageAvatar.__docgenInfo={description:"",displayName:"MessageAvatar",props:{from:{defaultValue:null,description:"",name:"from",required:!0,type:{name:"enum",value:[{value:'"system"'},{value:'"user"'},{value:'"assistant"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},avatar:{defaultValue:null,description:"",name:"avatar",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ai-elements/message.tsx#MessageAvatar"]={docgenInfo:MessageAvatar.__docgenInfo,name:"MessageAvatar",path:"src/components/ai-elements/message.tsx#MessageAvatar"})}catch(__react_docgen_typescript_loader_error){}try{MessageContent.displayName="MessageContent",MessageContent.__docgenInfo={description:"",displayName:"MessageContent",props:{from:{defaultValue:null,description:"",name:"from",required:!0,type:{name:"enum",value:[{value:'"system"'},{value:'"user"'},{value:'"assistant"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ai-elements/message.tsx#MessageContent"]={docgenInfo:MessageContent.__docgenInfo,name:"MessageContent",path:"src/components/ai-elements/message.tsx#MessageContent"})}catch(__react_docgen_typescript_loader_error){}try{MessageMarkdown.displayName="MessageMarkdown",MessageMarkdown.__docgenInfo={description:"",displayName:"MessageMarkdown",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ai-elements/message.tsx#MessageMarkdown"]={docgenInfo:MessageMarkdown.__docgenInfo,name:"MessageMarkdown",path:"src/components/ai-elements/message.tsx#MessageMarkdown"})}catch(__react_docgen_typescript_loader_error){}try{MessageAttachments.displayName="MessageAttachments",MessageAttachments.__docgenInfo={description:"",displayName:"MessageAttachments",props:{files:{defaultValue:null,description:"",name:"files",required:!0,type:{name:"FileUIPart[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ai-elements/message.tsx#MessageAttachments"]={docgenInfo:MessageAttachments.__docgenInfo,name:"MessageAttachments",path:"src/components/ai-elements/message.tsx#MessageAttachments"})}catch(__react_docgen_typescript_loader_error){}try{MessageActions.displayName="MessageActions",MessageActions.__docgenInfo={description:"",displayName:"MessageActions",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ai-elements/message.tsx#MessageActions"]={docgenInfo:MessageActions.__docgenInfo,name:"MessageActions",path:"src/components/ai-elements/message.tsx#MessageActions"})}catch(__react_docgen_typescript_loader_error){}try{MessageAction.displayName="MessageAction",MessageAction.__docgenInfo={description:"",displayName:"MessageAction",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ai-elements/message.tsx#MessageAction"]={docgenInfo:MessageAction.__docgenInfo,name:"MessageAction",path:"src/components/ai-elements/message.tsx#MessageAction"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ai-elements/suggestion.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>Suggestions,V:()=>Suggestion});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_lib_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/lib/utils.ts");const Suggestions=({className,children,...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_1__.cn)("flex w-full snap-x gap-2 overflow-x-auto py-1",className),...props,children}),Suggestion=({suggestion,onClickSuggestion,className,children,...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_1__.cn)("whitespace-nowrap rounded-full border border-[#e2e8f0] bg-[#f8fafc] px-4 py-1.5 font-medium text-[#94a3b8] text-xs transition hover:border-[#64748b] hover:text-[#64748b]",className),onClick:()=>onClickSuggestion?.(suggestion),type:"button",...props,children:children??suggestion});try{Suggestions.displayName="Suggestions",Suggestions.__docgenInfo={description:"",displayName:"Suggestions",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ai-elements/suggestion.tsx#Suggestions"]={docgenInfo:Suggestions.__docgenInfo,name:"Suggestions",path:"src/components/ai-elements/suggestion.tsx#Suggestions"})}catch(__react_docgen_typescript_loader_error){}try{Suggestion.displayName="Suggestion",Suggestion.__docgenInfo={description:"",displayName:"Suggestion",props:{suggestion:{defaultValue:null,description:"",name:"suggestion",required:!0,type:{name:"string"}},onClickSuggestion:{defaultValue:null,description:"",name:"onClickSuggestion",required:!1,type:{name:"(suggestion: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ai-elements/suggestion.tsx#Suggestion"]={docgenInfo:Suggestion.__docgenInfo,name:"Suggestion",path:"src/components/ai-elements/suggestion.tsx#Suggestion"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ai-elements/tool.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>ToolCall});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_barrel_optimize_names_ChevronDownIcon_WrenchIcon_lucide_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/chevron-down.js"),_barrel_optimize_names_ChevronDownIcon_WrenchIcon_lucide_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/wrench.js"),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_lib_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/lib/utils.ts");const STATE_LABEL={"input-streaming":"Pending","input-available":"Running","output-available":"Completed","output-error":"Error"},ToolCall=({part,title})=>{const[open,setOpen]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)("input-streaming"!==part.state),header=title??part.type.replace("tool-","");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"rounded-xl border border-[#e2e8f0] bg-[#f8fafc] shadow-sm",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button",{className:"flex w-full items-center justify-between gap-3 px-4 py-3 text-left font-medium text-sm",onClick:()=>setOpen(prev=>!prev),type:"button",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_ChevronDownIcon_WrenchIcon_lucide_react__WEBPACK_IMPORTED_MODULE_2__.A,{className:"size-4 text-[#94a3b8]/70"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:header}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.cn)("rounded-full px-2 py-0.5 text-xs",("output-error"===part.state||part.state,"bg-[#64748b]/10 text-[#64748b]")),children:STATE_LABEL[part.state]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_ChevronDownIcon_WrenchIcon_lucide_react__WEBPACK_IMPORTED_MODULE_1__.A,{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.cn)("size-4 text-[#94a3b8]/70 transition-transform",open&&"rotate-180")})]}),open&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-4 border-[#e2e8f0]/40 border-t px-4 py-4 text-xs",children:[void 0!==part.input&&null!==part.input&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ToolSection,{title:"Parameters",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("pre",{className:"max-h-48 overflow-auto rounded-lg bg-[#0f172a]/95 p-3 font-mono text-[#f8fafc]",children:JSON.stringify(part.input,null,2)})}),(void 0!==part.output||part.errorText)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ToolSection,{title:part.errorText?"Error":"Result",children:renderOutput(part)})]})]})},ToolSection=({title,children})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-1.5",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"font-semibold text-[#94a3b8] uppercase tracking-wide",children:title}),children]}),renderOutput=part=>part.errorText?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"rounded-lg border border-[#64748b]/30 bg-[#f8fafc]/70 p-3 text-[#64748b]",children:part.errorText}):"string"==typeof part.output?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("pre",{className:"max-h-64 overflow-auto rounded-lg bg-[#0f172a]/95 p-3 font-mono text-[#f8fafc]",children:part.output}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("pre",{className:"max-h-64 overflow-auto rounded-lg bg-[#0f172a]/95 p-3 font-mono text-[#f8fafc]",children:JSON.stringify(part.output,null,2)});try{ToolCall.displayName="ToolCall",ToolCall.__docgenInfo={description:"",displayName:"ToolCall",props:{part:{defaultValue:null,description:"",name:"part",required:!0,type:{name:"{ type: `tool-${string}`; } & UIToolInvocation<UITool>"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ai-elements/tool.tsx#ToolCall"]={docgenInfo:ToolCall.__docgenInfo,name:"ToolCall",path:"src/components/ai-elements/tool.tsx#ToolCall"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/amara/amara-chat-interface.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{AmaraChatInterface:()=>AmaraChatInterface});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_ai_sdk_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@ai-sdk/react/dist/index.mjs"),_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@hugeicons/core-free-icons/dist/esm/index.min.js"),_hugeicons_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@hugeicons/react/dist/esm/HugeiconsIcon.js"),ai__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/ai/dist/index.mjs"),next_intl__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/next-intl/dist/esm/production/react-client/index.js"),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_components_ai_elements_conversation__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/ai-elements/conversation.tsx"),_components_ai_elements_loader__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/ai-elements/loader.tsx"),_components_ai_elements_message__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/components/ai-elements/message.tsx"),_components_ai_elements_suggestion__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/components/ai-elements/suggestion.tsx"),_components_ai_elements_tool__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/components/ai-elements/tool.tsx"),_components_ui_card__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/components/ui/card.tsx"),_i18n_routing__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/i18n/routing.ts"),_amara_icon__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/components/amara/amara-icon.tsx"),_amara_message_actions__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/components/amara/amara-message-actions.tsx"),_amara_quick_replies__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/components/amara/amara-quick-replies.tsx"),console=(__webpack_require__("./src/components/amara/amara-animations.css"),__webpack_require__("./node_modules/console-browserify/index.js"));function AmaraChatInterface({isOpen,onClose}){const t=(0,next_intl__WEBPACK_IMPORTED_MODULE_5__.c3)("amara"),messagesEndRef=(0,react__WEBPACK_IMPORTED_MODULE_6__.useRef)(null),inputRef=(0,react__WEBPACK_IMPORTED_MODULE_6__.useRef)(null),[quickReplies,setQuickReplies]=(0,react__WEBPACK_IMPORTED_MODULE_6__.useState)([]),[input,setInput]=(0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(""),{messages,sendMessage,status,error,setMessages}=(0,_ai_sdk_react__WEBPACK_IMPORTED_MODULE_1__.Y_)({transport:new ai__WEBPACK_IMPORTED_MODULE_4__.rL({api:"/api/amara/chat"}),onError:chatError=>{console.error("Amara chat error:",chatError)}}),isLoading="streaming"===status||"submitted"===status;(0,react__WEBPACK_IMPORTED_MODULE_6__.useEffect)(()=>{0===messages.length&&setMessages([{id:"welcome",role:"assistant",parts:[{type:"text",text:t("welcomeMessage")}]}])},[messages.length,setMessages,t]),(0,react__WEBPACK_IMPORTED_MODULE_6__.useEffect)(()=>{messagesEndRef.current&&messagesEndRef.current.scrollIntoView({behavior:"smooth"})},[]),(0,react__WEBPACK_IMPORTED_MODULE_6__.useEffect)(()=>{isOpen&&inputRef.current&&inputRef.current.focus()},[isOpen]),(0,react__WEBPACK_IMPORTED_MODULE_6__.useEffect)(()=>{const lastAssistantMessage=messages.filter(m=>"assistant"===m.role).at(-1),lastMessageText=lastAssistantMessage?.parts?.find(p=>"text"===p.type)?.text,contextualReplies=(0,_amara_quick_replies__WEBPACK_IMPORTED_MODULE_16__.V)(messages.length,lastMessageText,t);setQuickReplies(contextualReplies)},[messages,t]);return isOpen?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_card__WEBPACK_IMPORTED_MODULE_12__.Zp,{className:"amara-chat-window fixed inset-0 z-50 flex flex-col border-slate-200 bg-slate-50 transition-all duration-300 sm:inset-auto sm:right-4 sm:bottom-4 sm:h-[600px] sm:w-full sm:max-w-[420px] sm:rounded-2xl sm:border sm:shadow-lg md:right-6 md:bottom-6 md:h-[680px] md:max-w-[480px]",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-200 bg-slate-50 px-4 py-3 sm:rounded-t-2xl sm:px-6 sm:py-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex h-10 w-10 items-center justify-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_amara_icon__WEBPACK_IMPORTED_MODULE_14__.o,{className:"text-slate-900",size:40})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"text-base font-semibold text-slate-900",children:t("title")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-sm text-slate-500",children:t("subtitle")})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{"aria-label":t("closeChat"),className:"inline-flex h-11 w-11 items-center justify-center rounded-md text-slate-600 transition-colors hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2",onClick:onClose,type:"button",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hugeicons_react__WEBPACK_IMPORTED_MODULE_3__.n,{className:"h-5 w-5",icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_2__.bJi})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex-1 bg-slate-50/50",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ai_elements_conversation__WEBPACK_IMPORTED_MODULE_7__.sy,{className:"h-full",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ai_elements_conversation__WEBPACK_IMPORTED_MODULE_7__.pj,{children:[1===messages.length&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ai_elements_conversation__WEBPACK_IMPORTED_MODULE_7__.q2,{description:t("greeting"),icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_amara_icon__WEBPACK_IMPORTED_MODULE_14__.o,{className:"text-slate-900",size:36}),title:t("title")}),messages.map(message=>{const textParts=message.parts?.filter(part=>"text"===part.type)||[],fileParts=message.parts?.filter(part=>"file"===part.type)||[],toolParts=message.parts?.filter(part=>part.type.startsWith("tool-"))||[];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ai_elements_message__WEBPACK_IMPORTED_MODULE_9__.QB,{from:message.role,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ai_elements_message__WEBPACK_IMPORTED_MODULE_9__.Tx,{avatar:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_amara_icon__WEBPACK_IMPORTED_MODULE_14__.o,{className:"mx-auto mt-1",size:28}),from:message.role}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ai_elements_message__WEBPACK_IMPORTED_MODULE_9__.PV,{from:message.role,children:[textParts.length>0&&textParts.map((part,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ai_elements_message__WEBPACK_IMPORTED_MODULE_9__.d2,{text:part.text},`${message.id}-text-${index}`)),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ai_elements_message__WEBPACK_IMPORTED_MODULE_9__.Cj,{files:fileParts}),toolParts.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"mt-3 space-y-3",children:toolParts.map(part=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ai_elements_tool__WEBPACK_IMPORTED_MODULE_11__.D,{part},part.toolCallId))})]}),"assistant"===message.role&&"welcome"!==message.id&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ai_elements_message__WEBPACK_IMPORTED_MODULE_9__.Pg,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_amara_message_actions__WEBPACK_IMPORTED_MODULE_15__.H,{content:textParts[0]?.text||"",messageId:message.id})})]})]},message.id)}),isLoading&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-3 rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 shadow-sm",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_amara_icon__WEBPACK_IMPORTED_MODULE_14__.o,{className:"text-slate-900",size:28}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ai_elements_loader__WEBPACK_IMPORTED_MODULE_8__.a,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-sm text-slate-500",children:t("typing")})]}),error&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"rounded-xl border border-red-300 bg-red-50 px-4 py-3 text-sm text-red-600",children:t("errorMessage")}),!isLoading&&quickReplies.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ai_elements_suggestion__WEBPACK_IMPORTED_MODULE_10__.C,{children:quickReplies.map(reply=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ai_elements_suggestion__WEBPACK_IMPORTED_MODULE_10__.V,{onClickSuggestion:()=>(reply=>{const text="string"==typeof reply?reply:reply.text;setInput(text),setTimeout(()=>{if(inputRef.current){const form=inputRef.current.form;form&&form.requestSubmit()}},100)})(reply.text),suggestion:reply.text},reply.text))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref:messagesEndRef})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ai_elements_conversation__WEBPACK_IMPORTED_MODULE_7__.H_,{})]})}),1===messages.length&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"border-t border-slate-200 bg-slate-50/50 px-4 py-3 sm:px-6 sm:py-4",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_i18n_routing__WEBPACK_IMPORTED_MODULE_13__.N_,{className:"flex min-h-[68px] flex-col items-center justify-center gap-1.5 rounded-xl border border-slate-200 bg-slate-50 px-2 py-3 text-center transition hover:border-slate-300 hover:bg-slate-100 active:bg-slate-200 sm:px-3",href:"/",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hugeicons_react__WEBPACK_IMPORTED_MODULE_3__.n,{className:"h-5 w-5 text-slate-600",icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_2__.wfd}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-xs font-medium text-slate-600",children:"Home"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button",{className:"flex min-h-[68px] flex-col items-center justify-center gap-1.5 rounded-xl border border-slate-200 bg-slate-50 px-2 py-3 text-center transition hover:border-slate-300 hover:bg-slate-100 active:bg-slate-200 sm:px-3",type:"button",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hugeicons_react__WEBPACK_IMPORTED_MODULE_3__.n,{className:"h-5 w-5 text-slate-600",icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_2__.mjP}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-xs font-medium text-slate-600",children:"Messages"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_i18n_routing__WEBPACK_IMPORTED_MODULE_13__.N_,{className:"flex min-h-[68px] flex-col items-center justify-center gap-1.5 rounded-xl border border-slate-200 bg-slate-50 px-2 py-3 text-center transition hover:border-slate-300 hover:bg-slate-100 active:bg-slate-200 sm:px-3",href:"/support/account-suspended",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hugeicons_react__WEBPACK_IMPORTED_MODULE_3__.n,{className:"h-5 w-5 text-slate-600",icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_2__.V1u}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-xs font-medium text-slate-600",children:"Help"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_i18n_routing__WEBPACK_IMPORTED_MODULE_13__.N_,{className:"flex min-h-[68px] flex-col items-center justify-center gap-1.5 rounded-xl border border-slate-200 bg-slate-50 px-2 py-3 text-center transition hover:border-slate-300 hover:bg-slate-100 active:bg-slate-200 sm:px-3",href:"/changelog",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hugeicons_react__WEBPACK_IMPORTED_MODULE_3__.n,{className:"h-5 w-5 text-slate-600",icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_2__.LEX}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-xs font-medium text-slate-600",children:"News"})]})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form",{className:"border-t border-slate-200 bg-slate-50 px-4 py-3 sm:rounded-b-2xl sm:px-6",onSubmit:async e=>{if(e.preventDefault(),!input.trim()||isLoading)return;const message=input;setInput(""),await sendMessage({role:"user",parts:[{type:"text",text:message}]})},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"mb-3 flex items-end gap-2 sm:gap-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"relative flex-1",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{className:"w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-[15px] text-slate-900 transition placeholder:text-slate-400 focus:border-slate-900 focus:bg-white focus:outline-none focus:ring-2 focus:ring-slate-900/10",disabled:isLoading,maxLength:500,name:"message",onChange:e=>setInput(e.target.value),placeholder:t("inputPlaceholder"),ref:inputRef,value:input})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{"aria-label":t("send"),className:"inline-flex h-11 w-11 min-h-[44px] min-w-[44px] flex-shrink-0 items-center justify-center rounded-xl bg-slate-900 text-slate-50 shadow-sm transition hover:bg-slate-800 active:scale-95 disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:bg-slate-900",disabled:isLoading||!input.trim(),type:"submit",children:isLoading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hugeicons_react__WEBPACK_IMPORTED_MODULE_3__.n,{className:"h-5 w-5 animate-spin",icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_2__.H5m}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hugeicons_react__WEBPACK_IMPORTED_MODULE_3__.n,{className:"h-5 w-5",icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_2__.m1j})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p",{className:"text-center text-xs text-slate-500",children:["By chatting with Amara, you agree to our"," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_i18n_routing__WEBPACK_IMPORTED_MODULE_13__.N_,{className:"text-slate-900 hover:underline",href:"/privacy",children:"Privacy Policy"})]})]})]}):null}try{AmaraChatInterface.displayName="AmaraChatInterface",AmaraChatInterface.__docgenInfo={description:"",displayName:"AmaraChatInterface",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},locale:{defaultValue:null,description:"",name:"locale",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/amara/amara-chat-interface.tsx#AmaraChatInterface"]={docgenInfo:AmaraChatInterface.__docgenInfo,name:"AmaraChatInterface",path:"src/components/amara/amara-chat-interface.tsx#AmaraChatInterface"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/amara/amara-message-actions.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>AmaraMessageActions});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@hugeicons/core-free-icons/dist/esm/index.min.js"),_hugeicons_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@hugeicons/react/dist/esm/HugeiconsIcon.js"),next_intl__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/next-intl/dist/esm/production/react-client/index.js"),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_lib_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/lib/utils.ts"),console=__webpack_require__("./node_modules/console-browserify/index.js");function AmaraMessageActions({messageId,content,onFeedback,onRetry,showRetry=!1}){const t=(0,next_intl__WEBPACK_IMPORTED_MODULE_3__.c3)("amara"),[feedback,setFeedback]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(null),[copied,setCopied]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(!1),handleFeedback=async type=>{setFeedback(type),onFeedback&&onFeedback(messageId,type);try{await fetch("/api/amara/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messageId,feedback:type})})}catch(error){console.error("Failed to submit feedback:",error)}};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"mt-2 flex items-center gap-1 opacity-0 transition-opacity duration-200 group-hover:opacity-100",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{"aria-label":t("thumbsUp"),className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.cn)("group rounded-md p-1.5 transition-all hover:bg-[#e2e8f0]/30","positive"===feedback&&"bg-[#64748b]/10 text-[#64748b]"),onClick:()=>handleFeedback("positive"),title:t("thumbsUp"),type:"button",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hugeicons_react__WEBPACK_IMPORTED_MODULE_2__.n,{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.cn)("h-3.5 w-3.5 transition-colors","positive"===feedback?"fill-[#64748b] text-[#64748b]":"text-[#94a3b8]/70 group-hover:text-[#94a3b8]"),icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_1__.nT})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{"aria-label":t("thumbsDown"),className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.cn)("group rounded-md p-1.5 transition-all hover:bg-[#e2e8f0]/30","negative"===feedback&&"bg-[#64748b]/10 text-[#64748b]"),onClick:()=>handleFeedback("negative"),title:t("thumbsDown"),type:"button",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hugeicons_react__WEBPACK_IMPORTED_MODULE_2__.n,{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.cn)("h-3.5 w-3.5 transition-colors","negative"===feedback?"fill-[#64748b] text-[#64748b]":"text-[#94a3b8]/70 group-hover:text-[#94a3b8]"),icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_1__.d2e})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"h-4 w-px bg-[#e2e8f0]"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{"aria-label":t("copyMessage"),className:"group rounded-md p-1.5 transition-all hover:bg-[#e2e8f0]/30",onClick:async()=>{try{await navigator.clipboard.writeText(content),setCopied(!0),setTimeout(()=>setCopied(!1),2e3)}catch(error){console.error("Failed to copy:",error)}},title:t("copyMessage"),type:"button",children:copied?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hugeicons_react__WEBPACK_IMPORTED_MODULE_2__.n,{className:"h-3.5 w-3.5 text-[#64748b]",icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_1__.zQd}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hugeicons_react__WEBPACK_IMPORTED_MODULE_2__.n,{className:"h-3.5 w-3.5 text-[#94a3b8]/70 transition-colors group-hover:text-[#94a3b8]",icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_1__.ef})}),showRetry&&onRetry&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"h-4 w-px bg-[#e2e8f0]"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{"aria-label":t("retry"),className:"group rounded-md p-1.5 transition-all hover:bg-[#e2e8f0]/30",onClick:onRetry,title:t("retry"),type:"button",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hugeicons_react__WEBPACK_IMPORTED_MODULE_2__.n,{className:"h-3.5 w-3.5 text-[#94a3b8]/70 transition-colors group-hover:text-[#94a3b8]",icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_1__.fNY})})]})]})}try{AmaraMessageActions.displayName="AmaraMessageActions",AmaraMessageActions.__docgenInfo={description:"",displayName:"AmaraMessageActions",props:{messageId:{defaultValue:null,description:"",name:"messageId",required:!0,type:{name:"string"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"string"}},onFeedback:{defaultValue:null,description:"",name:"onFeedback",required:!1,type:{name:'(messageId: string, feedback: "positive" | "negative") => void'}},onRetry:{defaultValue:null,description:"",name:"onRetry",required:!1,type:{name:"() => void"}},showRetry:{defaultValue:{value:"false"},description:"",name:"showRetry",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/amara/amara-message-actions.tsx#AmaraMessageActions"]={docgenInfo:AmaraMessageActions.__docgenInfo,name:"AmaraMessageActions",path:"src/components/amara/amara-message-actions.tsx#AmaraMessageActions"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/amara/amara-quick-replies.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>AmaraQuickReplies,V:()=>getContextualQuickReplies});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@hugeicons/core-free-icons/dist/esm/index.min.js"),_hugeicons_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@hugeicons/react/dist/esm/HugeiconsIcon.js");function AmaraQuickReplies({replies,onSelect,disabled=!1}){return 0===replies.length?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex flex-wrap gap-2",children:replies.map(reply=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button",{className:"amara-quick-reply group hover:-translate-y-0.5 inline-flex min-h-[44px] items-center gap-1.5 rounded-full border border-[#e2e8f0] bg-[#f8fafc] px-4 py-2.5 font-medium text-[#94a3b8] text-sm shadow-sm transition-all hover:border-[#64748b] hover:bg-[#64748b] hover:text-[#f8fafc] hover:shadow-md active:translate-y-0 active:scale-95 disabled:cursor-not-allowed disabled:opacity-50 sm:px-4 sm:py-2",disabled,onClick:()=>onSelect(reply),type:"button",children:[reply.icon&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-[#94a3b8] transition-colors group-hover:text-[#f8fafc]",children:reply.icon}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:reply.text})]},reply.id))})}function getContextualQuickReplies(messageCount,lastMessage,t){return 1===messageCount?[{id:"search",text:t?.("quickReply.searchProfessionals")||"Find a cleaner",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hugeicons_react__WEBPACK_IMPORTED_MODULE_2__.n,{className:"h-4 w-4",icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_1__.Bbl})},{id:"availability",text:t?.("quickReply.checkAvailability")||"Check availability",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hugeicons_react__WEBPACK_IMPORTED_MODULE_2__.n,{className:"h-4 w-4",icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_1__.vxL})},{id:"topRated",text:t?.("quickReply.topRated")||"Top rated cleaners",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hugeicons_react__WEBPACK_IMPORTED_MODULE_2__.n,{className:"h-4 w-4",icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_1__.Gg5})},{id:"nearMe",text:t?.("quickReply.nearMe")||"Cleaners near me",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hugeicons_react__WEBPACK_IMPORTED_MODULE_2__.n,{className:"h-4 w-4",icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_1__.akv})}]:lastMessage?.toLowerCase().includes("professional")||lastMessage?.toLowerCase().includes("cleaner")?[{id:"check-availability",text:t?.("quickReply.checkTheirAvailability")||"Check their availability",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hugeicons_react__WEBPACK_IMPORTED_MODULE_2__.n,{className:"h-4 w-4",icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_1__.vxL})},{id:"search-different",text:t?.("quickReply.searchDifferent")||"Search different area",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hugeicons_react__WEBPACK_IMPORTED_MODULE_2__.n,{className:"h-4 w-4",icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_1__.akv})},{id:"see-reviews",text:t?.("quickReply.seeReviews")||"See their reviews",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hugeicons_react__WEBPACK_IMPORTED_MODULE_2__.n,{className:"h-4 w-4",icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_1__.Gg5})}]:lastMessage?.toLowerCase().includes("available")?[{id:"book-now",text:t?.("quickReply.bookNow")||"Book this time"},{id:"check-other-times",text:t?.("quickReply.checkOtherTimes")||"Check other times",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hugeicons_react__WEBPACK_IMPORTED_MODULE_2__.n,{className:"h-4 w-4",icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_1__.vxL})}]:[]}try{AmaraQuickReplies.displayName="AmaraQuickReplies",AmaraQuickReplies.__docgenInfo={description:"",displayName:"AmaraQuickReplies",props:{replies:{defaultValue:null,description:"",name:"replies",required:!0,type:{name:"QuickReply[]"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(reply: QuickReply) => void"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/amara/amara-quick-replies.tsx#AmaraQuickReplies"]={docgenInfo:AmaraQuickReplies.__docgenInfo,name:"AmaraQuickReplies",path:"src/components/amara/amara-quick-replies.tsx#AmaraQuickReplies"})}catch(__react_docgen_typescript_loader_error){}try{getContextualQuickReplies.displayName="getContextualQuickReplies",getContextualQuickReplies.__docgenInfo={description:"Get context-aware quick replies based on conversation state",displayName:"getContextualQuickReplies",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/amara/amara-quick-replies.tsx#getContextualQuickReplies"]={docgenInfo:getContextualQuickReplies.__docgenInfo,name:"getContextualQuickReplies",path:"src/components/amara/amara-quick-replies.tsx#getContextualQuickReplies"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ui/card.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Zp:()=>Card,Wu:()=>CardContent,wL:()=>CardFooter,aR:()=>CardHeader,MH:()=>CardImage});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),proxy=__webpack_require__("./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs"),dist=__webpack_require__("./node_modules/class-variance-authority/dist/index.mjs");const cardHover={rest:{scale:1,y:0,transition:{type:"spring",stiffness:300,damping:25}},hover:{scale:1.01,y:-2,transition:{type:"spring",stiffness:400,damping:25}}};var utils=__webpack_require__("./src/lib/utils.ts");const cardVariants=(0,dist.F)("rounded-lg overflow-hidden transition-colors focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-900",{variants:{variant:{default:"bg-white ring-1 ring-black/5 shadow-sm dark:bg-neutral-900 dark:ring-white/10",elevated:"bg-white ring-1 ring-black/5 shadow-md dark:bg-neutral-900 dark:ring-white/10",outlined:"bg-white ring-1 ring-black/8 shadow-none dark:bg-neutral-900 dark:ring-white/12",glass:"bg-white/70 ring-1 ring-black/5 shadow-sm backdrop-blur-lg dark:bg-neutral-900/70 dark:ring-white/10"}},defaultVariants:{variant:"default"}}),Card=({variant="default",hoverable=!1,asButton=!1,href,disableMotion=!1,className,children,ref,...props})=>{const classes=(0,utils.cn)(cardVariants({variant}),(hoverable||href||asButton)&&"cursor-pointer",className),motionVariants=hoverable&&!disableMotion?{initial:"rest",whileHover:"hover",variants:cardHover,style:{willChange:"transform"}}:{};return href?(0,jsx_runtime.jsx)(proxy.P.a,{className:classes,href,ref,...motionVariants,children}):asButton?(0,jsx_runtime.jsx)(proxy.P.button,{className:classes,ref,type:"button",...motionVariants,children}):disableMotion?(0,jsx_runtime.jsx)("div",{className:classes,ref,...props,children}):(0,jsx_runtime.jsx)(proxy.P.div,{className:classes,ref,...motionVariants,children})};Card.displayName="Card";const CardHeader=({className,ref,...props})=>(0,jsx_runtime.jsx)("div",{className:(0,utils.cn)("p-6 pb-4",className),ref,...props});CardHeader.displayName="CardHeader";const CardContent=({className,ref,...props})=>(0,jsx_runtime.jsx)("div",{className:(0,utils.cn)("p-6 pt-0",className),ref,...props});CardContent.displayName="CardContent";const CardFooter=({className,ref,...props})=>(0,jsx_runtime.jsx)("div",{className:(0,utils.cn)("border-t border-black/5 p-6 pt-4 dark:border-white/10",className),ref,...props});CardFooter.displayName="CardFooter";const CardImage=({aspectRatio="16/9",className,ref,...props})=>(0,jsx_runtime.jsx)("div",{className:(0,utils.cn)("relative overflow-hidden",className),ref,style:{aspectRatio},...props});CardImage.displayName="CardImage";try{Card.displayName="Card",Card.__docgenInfo={description:"Card - Flexible container with optional animations",displayName:"Card",props:{variant:{defaultValue:{value:"default"},description:"Visual variant",name:"variant",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"elevated"'},{value:'"outlined"'},{value:'"glass"'}]}},hoverable:{defaultValue:{value:"false"},description:"Enable hover lift effect",name:"hoverable",required:!1,type:{name:"boolean"}},asButton:{defaultValue:{value:"false"},description:"Clickable card (renders as button)",name:"asButton",required:!1,type:{name:"boolean"}},href:{defaultValue:null,description:"Link href (renders as anchor)",name:"href",required:!1,type:{name:"string"}},disableMotion:{defaultValue:{value:"false"},description:"Disable motion animations",name:"disableMotion",required:!1,type:{name:"boolean"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLDivElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/card.tsx#Card"]={docgenInfo:Card.__docgenInfo,name:"Card",path:"src/components/ui/card.tsx#Card"})}catch(__react_docgen_typescript_loader_error){}try{CardHeader.displayName="CardHeader",CardHeader.__docgenInfo={description:"CardHeader - Card header section",displayName:"CardHeader",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLDivElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/card.tsx#CardHeader"]={docgenInfo:CardHeader.__docgenInfo,name:"CardHeader",path:"src/components/ui/card.tsx#CardHeader"})}catch(__react_docgen_typescript_loader_error){}try{CardContent.displayName="CardContent",CardContent.__docgenInfo={description:"CardContent - Card main content section",displayName:"CardContent",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLDivElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/card.tsx#CardContent"]={docgenInfo:CardContent.__docgenInfo,name:"CardContent",path:"src/components/ui/card.tsx#CardContent"})}catch(__react_docgen_typescript_loader_error){}try{CardFooter.displayName="CardFooter",CardFooter.__docgenInfo={description:"CardFooter - Card footer section",displayName:"CardFooter",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLDivElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/card.tsx#CardFooter"]={docgenInfo:CardFooter.__docgenInfo,name:"CardFooter",path:"src/components/ui/card.tsx#CardFooter"})}catch(__react_docgen_typescript_loader_error){}try{CardImage.displayName="CardImage",CardImage.__docgenInfo={description:"CardImage - Card image section",displayName:"CardImage",props:{aspectRatio:{defaultValue:{value:"16/9"},description:"",name:"aspectRatio",required:!1,type:{name:"string"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLDivElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/card.tsx#CardImage"]={docgenInfo:CardImage.__docgenInfo,name:"CardImage",path:"src/components/ui/card.tsx#CardImage"})}catch(__react_docgen_typescript_loader_error){}},"./src/i18n/routing.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{DT:()=>routing,N_:()=>Link,a8:()=>usePathname,rd:()=>useRouter});var next_intl_navigation__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next-intl/dist/esm/production/navigation/react-client/createNavigation.js");const routing=(0,__webpack_require__("./node_modules/next-intl/dist/esm/production/routing/defineRouting.js").A)({locales:["en","es"],defaultLocale:"en",localeCookie:{name:"NEXT_LOCALE",maxAge:31536e3}}),{Link,redirect,usePathname,useRouter}=(0,next_intl_navigation__WEBPACK_IMPORTED_MODULE_0__.A)(routing)}}]);