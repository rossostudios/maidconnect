"use strict";(self.webpackChunkcasaora=self.webpackChunkcasaora||[]).push([[67366],{"./node_modules/next/dist/client/use-merged-ref.js":(module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"useMergedRef",{enumerable:!0,get:function(){return useMergedRef}});const _react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");function useMergedRef(refA,refB){const cleanupA=(0,_react.useRef)(null),cleanupB=(0,_react.useRef)(null);return(0,_react.useCallback)(current=>{if(null===current){const cleanupFnA=cleanupA.current;cleanupFnA&&(cleanupA.current=null,cleanupFnA());const cleanupFnB=cleanupB.current;cleanupFnB&&(cleanupB.current=null,cleanupFnB())}else refA&&(cleanupA.current=applyRef(refA,current)),refB&&(cleanupB.current=applyRef(refB,current))},[refA,refB])}function applyRef(refA,current){if("function"==typeof refA){const cleanup=refA(current);return"function"==typeof cleanup?cleanup:()=>refA(null)}return refA.current=current,()=>{refA.current=null}}("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default)},"./src/components/portfolio/portfolio-gallery.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>portfolio_gallery_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),next_image=__webpack_require__("./node_modules/@storybook/nextjs/dist/images/next-image.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");function PortfolioGallery({images,featuredWork,professionalName:_professionalName}){const[selectedImage,setSelectedImage]=(0,react.useState)(null);if(0===images.length)return null;const sortedImages=[...images].sort((a,b)=>a.order-b.order);return(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[featuredWork&&(0,jsx_runtime.jsxs)("div",{className:"rounded-lg border border-[#e2e8f0] bg-[#f8fafc] p-4",children:[(0,jsx_runtime.jsx)("h3",{className:"font-semibold text-[#0f172a] text-sm",children:"Featured Work"}),(0,jsx_runtime.jsx)("p",{className:"mt-2 text-[#94a3b8] text-sm",children:featuredWork})]}),(0,jsx_runtime.jsx)("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:sortedImages.map(image=>(0,jsx_runtime.jsxs)("button",{className:"group relative aspect-square overflow-hidden rounded-lg border border-[#e2e8f0] bg-[#e2e8f0] transition hover:border-[#64748b] hover:shadow-md",onClick:()=>setSelectedImage(image),type:"button",children:[(0,jsx_runtime.jsx)(next_image.A,{alt:image.caption||"Portfolio image",className:"h-full w-full object-cover transition group-hover:scale-105",height:300,loading:"lazy",sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 300px",src:image.thumbnail_url||image.url,width:300}),image.caption&&(0,jsx_runtime.jsx)("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-[#0f172a]/70 to-transparent p-3 text-left",children:(0,jsx_runtime.jsx)("p",{className:"line-clamp-2 text-sm text-[#f8fafc]",children:image.caption})}),(0,jsx_runtime.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-[#0f172a]/0 opacity-0 transition group-hover:bg-[#0f172a]/20 group-hover:opacity-100",children:(0,jsx_runtime.jsx)("span",{className:"text-2xl text-[#f8fafc]",children:"ðŸ”"})})]},image.id))}),selectedImage&&(0,jsx_runtime.jsx)(Lightbox,{allImages:sortedImages,image:selectedImage,onClose:()=>setSelectedImage(null),onNavigate:setSelectedImage})]})}function Lightbox({image,onClose,allImages,onNavigate}){const currentIndex=allImages.findIndex(img=>img.id===image.id),hasPrevious=currentIndex>0,hasNext=currentIndex<allImages.length-1,handlePrevious=()=>{if(hasPrevious){const prevImage=allImages[currentIndex-1];prevImage&&onNavigate(prevImage)}},handleNext=()=>{if(hasNext){const nextImage=allImages[currentIndex+1];nextImage&&onNavigate(nextImage)}};return(0,jsx_runtime.jsxs)("div",{"aria-label":"Close lightbox",className:"fixed inset-0 z-50 flex items-center justify-center bg-[#0f172a]/90 p-4",onClick:onClose,onKeyDown:e=>{"Escape"===e.key&&onClose(),"ArrowLeft"===e.key&&hasPrevious&&handlePrevious(),"ArrowRight"===e.key&&hasNext&&handleNext()},role:"button",tabIndex:0,children:[(0,jsx_runtime.jsx)("button",{className:"absolute top-4 right-4 rounded-full bg-[#f8fafc]/10 p-2 text-2xl text-[#f8fafc] transition hover:bg-[#f8fafc]/20",onClick:onClose,type:"button",children:"âœ•"}),hasPrevious&&(0,jsx_runtime.jsx)("button",{className:"-translate-y-1/2 absolute top-1/2 left-4 rounded-full bg-[#f8fafc]/10 p-3 text-2xl text-[#f8fafc] transition hover:bg-[#f8fafc]/20",onClick:e=>{e.stopPropagation(),handlePrevious()},type:"button",children:"â†"}),hasNext&&(0,jsx_runtime.jsx)("button",{className:"-translate-y-1/2 absolute top-1/2 right-4 rounded-full bg-[#f8fafc]/10 p-3 text-2xl text-[#f8fafc] transition hover:bg-[#f8fafc]/20",onClick:e=>{e.stopPropagation(),handleNext()},type:"button",children:"â†’"}),(0,jsx_runtime.jsxs)("div",{className:"max-h-[90vh] max-w-5xl",role:"presentation",children:[(0,jsx_runtime.jsx)(next_image.A,{alt:image.caption||"Portfolio image",className:"max-h-[80vh] w-auto rounded-lg",height:800,loading:"lazy",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 90vw, 1200px",src:image.url,width:1200}),image.caption&&(0,jsx_runtime.jsx)("p",{className:"mt-3 text-center text-sm text-[#f8fafc]/90",children:image.caption}),(0,jsx_runtime.jsxs)("p",{className:"mt-2 text-center text-[#f8fafc]/60 text-xs",children:[currentIndex+1," of ",allImages.length]})]})]})}function PortfolioPreview({images}){if(0===images.length)return null;const previewImages=[...images].sort((a,b)=>a.order-b.order).slice(0,4),remaining=images.length-previewImages.length;return _jsx("div",{className:"grid grid-cols-4 gap-2",children:previewImages.map((image,index)=>_jsxs("div",{className:"relative aspect-square overflow-hidden rounded-md bg-[#e2e8f0]",children:[_jsx(Image,{alt:image.caption||`Portfolio ${index+1}`,className:"h-full w-full object-cover",height:100,loading:"lazy",src:image.thumbnail_url||image.url,width:100}),3===index&&remaining>0&&_jsxs("div",{className:"absolute inset-0 flex items-center justify-center bg-[#0f172a]/60 font-semibold text-sm text-[#f8fafc]",children:["+",remaining]})]},image.id))})}try{PortfolioGallery.displayName="PortfolioGallery",PortfolioGallery.__docgenInfo={description:"Display portfolio gallery in a grid layout\nSupports lightbox view for full-size images",displayName:"PortfolioGallery",props:{images:{defaultValue:null,description:"",name:"images",required:!0,type:{name:"PortfolioImage[]"}},featuredWork:{defaultValue:null,description:"",name:"featuredWork",required:!1,type:{name:"string"}},professionalName:{defaultValue:null,description:"",name:"professionalName",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/portfolio/portfolio-gallery.tsx#PortfolioGallery"]={docgenInfo:PortfolioGallery.__docgenInfo,name:"PortfolioGallery",path:"src/components/portfolio/portfolio-gallery.tsx#PortfolioGallery"})}catch(__react_docgen_typescript_loader_error){}try{PortfolioPreview.displayName="PortfolioPreview",PortfolioPreview.__docgenInfo={description:"Compact portfolio preview (show first 3-4 images)",displayName:"PortfolioPreview",props:{images:{defaultValue:null,description:"",name:"images",required:!0,type:{name:"PortfolioImage[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/portfolio/portfolio-gallery.tsx#PortfolioPreview"]={docgenInfo:PortfolioPreview.__docgenInfo,name:"PortfolioPreview",path:"src/components/portfolio/portfolio-gallery.tsx#PortfolioPreview"})}catch(__react_docgen_typescript_loader_error){}const portfolio_gallery_stories={title:"Portfolio/PortfolioGallery",component:PortfolioGallery,parameters:{layout:"padded"},tags:["autodocs"]},Default={},__namedExportsOrder=["Default"]}}]);