"use strict";(self.webpackChunkcasaora=self.webpackChunkcasaora||[]).push([[16374,24081],{"./node_modules/@hugeicons/react/dist/esm/HugeiconsIcon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>HugeiconsIcon});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none"},HugeiconsIcon=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({color="currentColor",size=24,strokeWidth,absoluteStrokeWidth=!1,className="",altIcon,showAlt=!1,icon,primaryColor,secondaryColor,disableSecondaryOpacity=!1,...rest},ref)=>{const calculatedStrokeWidth=void 0!==strokeWidth?absoluteStrokeWidth?24*Number(strokeWidth)/Number(size):strokeWidth:void 0,strokeProps=void 0!==calculatedStrokeWidth?{strokeWidth:calculatedStrokeWidth,stroke:"currentColor"}:{},elementProps={ref,...defaultAttributes,width:size,height:size,color:primaryColor||color,className,...strokeProps,...rest},svgChildren=[...showAlt&&altIcon?altIcon:icon].sort(([,a],[,b])=>{const hasOpacityA=void 0!==a.opacity;return void 0!==b.opacity?1:hasOpacityA?-1:0}).map(([tag,attrs])=>{const isSecondaryPath=void 0!==attrs.opacity,pathOpacity=isSecondaryPath&&!disableSecondaryOpacity?attrs.opacity:void 0,fillProps=secondaryColor?{...void 0!==attrs.stroke?{stroke:isSecondaryPath?secondaryColor:primaryColor||color}:{fill:isSecondaryPath?secondaryColor:primaryColor||color}}:{};return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(tag,{...attrs,...strokeProps,...fillProps,opacity:pathOpacity,key:attrs.key})});return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("svg",elementProps,svgChildren)});HugeiconsIcon.displayName="HugeiconsIcon"},"./src/components/bookings/checkout-summary.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>checkout_summary_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),index_min=__webpack_require__("./node_modules/@hugeicons/core-free-icons/dist/esm/index.min.js"),HugeiconsIcon=__webpack_require__("./node_modules/@hugeicons/react/dist/esm/HugeiconsIcon.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),tip_selector=__webpack_require__("./src/components/payments/tip-selector.tsx"),feature_flags=__webpack_require__("./src/lib/feature-flags.ts"),format=__webpack_require__("./src/lib/format.ts");function CheckoutSummary({serviceName,baseAmount,taxRate=.19,currency="COP",durationHours,hourlyRate,onTipChange,recurringDiscount,showTipping=!0}){const tippingEnabled=(0,feature_flags.G7)("enable_tipping")&&showTipping,taxAmount=Math.round(baseAmount*taxRate),[tipAmount,setTipAmount]=(0,react.useState)(0),[showDepositInfo,setShowDepositInfo]=(0,react.useState)(!1),subtotal=baseAmount,totalAmount=subtotal+taxAmount+tipAmount;return(0,jsx_runtime.jsxs)("div",{className:"space-y-6",children:[(0,jsx_runtime.jsxs)("div",{className:"rounded-2xl border border-[#e2e8f0] bg-[#f8fafc] p-6",children:[(0,jsx_runtime.jsx)("h3",{className:"mb-4 font-semibold text-[#0f172a] text-lg",children:"Booking Summary"}),(0,jsx_runtime.jsxs)("div",{className:"space-y-3",children:[(0,jsx_runtime.jsxs)("div",{className:"flex justify-between",children:[(0,jsx_runtime.jsx)("span",{className:"text-[#94a3b8] text-sm",children:"Service"}),(0,jsx_runtime.jsx)("span",{className:"font-medium text-[#0f172a] text-sm",children:serviceName})]}),durationHours&&hourlyRate&&(0,jsx_runtime.jsxs)("div",{className:"flex justify-between",children:[(0,jsx_runtime.jsx)("span",{className:"text-[#94a3b8] text-sm",children:"Duration"}),(0,jsx_runtime.jsxs)("span",{className:"text-[#0f172a] text-sm",children:[(0,format.vv)(hourlyRate,{currency})," Ã— ",durationHours,"h"]})]}),(0,jsx_runtime.jsx)("div",{className:"border-[#e2e8f0] border-t pt-3",children:(0,jsx_runtime.jsxs)("div",{className:"flex justify-between",children:[(0,jsx_runtime.jsx)("span",{className:"text-[#94a3b8] text-sm",children:"Subtotal"}),(0,jsx_runtime.jsx)("span",{className:"font-semibold text-[#0f172a] text-sm",children:(0,format.vv)(subtotal,{currency})})]})}),recurringDiscount&&recurringDiscount>0&&(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between rounded-lg bg-[#64748b]/10 px-3 py-2",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-4 w-4 text-[#64748b]",icon:index_min.zQd}),(0,jsx_runtime.jsx)("span",{className:"font-medium text-[#64748b] text-sm",children:"Recurring discount"})]}),(0,jsx_runtime.jsxs)("span",{className:"font-semibold text-[#64748b] text-sm",children:["-",(0,format.vv)(recurringDiscount,{currency})]})]}),(0,jsx_runtime.jsxs)("div",{className:"flex justify-between",children:[(0,jsx_runtime.jsxs)("span",{className:"text-[#94a3b8] text-sm",children:["Tax (",(100*taxRate).toFixed(0),"%)"]}),(0,jsx_runtime.jsx)("span",{className:"text-[#0f172a] text-sm",children:(0,format.vv)(taxAmount,{currency})})]}),tippingEnabled&&tipAmount>0&&(0,jsx_runtime.jsxs)("div",{className:"flex justify-between",children:[(0,jsx_runtime.jsx)("span",{className:"text-[#94a3b8] text-sm",children:"Tip"}),(0,jsx_runtime.jsx)("span",{className:"font-medium text-[#64748b] text-sm",children:(0,format.vv)(tipAmount,{currency})})]}),(0,jsx_runtime.jsxs)("div",{className:"flex justify-between border-[#e2e8f0] border-t pt-3",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)("span",{className:"font-bold text-[#0f172a]",children:"Total"}),(0,jsx_runtime.jsx)("button",{"aria-label":"Payment information",className:"text-[#94a3b8] transition-colors hover:text-[#0f172a]",onClick:()=>setShowDepositInfo(!showDepositInfo),type:"button",children:(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-5 w-5",icon:index_min.KSg})})]}),(0,jsx_runtime.jsx)("span",{className:"font-bold text-2xl text-[#64748b]",children:(0,format.vv)(totalAmount,{currency})})]}),showDepositInfo&&(0,jsx_runtime.jsxs)("div",{className:"rounded-lg bg-[#f8fafc] p-4 text-sm",children:[(0,jsx_runtime.jsx)("p",{className:"mb-2 font-medium text-[#64748b]",children:"How payment works"}),(0,jsx_runtime.jsx)("p",{className:"text-[#64748b] leading-relaxed",children:"We place a temporary hold (not a charge) on your payment method to secure your booking. The amount is only captured after the service is completed. If you cancel within the free cancellation window, the hold is released immediately."})]})]})]}),tippingEnabled&&(0,jsx_runtime.jsx)(tip_selector.J,{baseAmount,currency,initialTip:tipAmount,onTipChange:amount=>{setTipAmount(amount),onTipChange?.(amount)}}),(0,jsx_runtime.jsxs)("div",{className:"rounded-2xl border border-[#e2e8f0] bg-[#f8fafc] p-6",children:[(0,jsx_runtime.jsx)("h3",{className:"mb-3 font-semibold text-base text-[#0f172a]",children:"Cancellation Policy"}),(0,jsx_runtime.jsxs)("div",{className:"space-y-2 text-[#94a3b8] text-sm",children:[(0,jsx_runtime.jsxs)("p",{className:"leading-relaxed",children:["Free reschedule up to ",(0,jsx_runtime.jsx)("span",{className:"font-semibold text-[#0f172a]",children:"24 hours"})," ","before your service. Cancelling inside 24 hours may incur fees to respect your professional's time:"]}),(0,jsx_runtime.jsxs)("ul",{className:"ml-4 list-disc space-y-1.5",children:[(0,jsx_runtime.jsxs)("li",{children:[(0,jsx_runtime.jsx)("span",{className:"font-medium text-[#0f172a]",children:"24+ hours:"})," 100% refund"]}),(0,jsx_runtime.jsxs)("li",{children:[(0,jsx_runtime.jsx)("span",{className:"font-medium text-[#0f172a]",children:"12-24 hours:"})," 50% refund"]}),(0,jsx_runtime.jsxs)("li",{children:[(0,jsx_runtime.jsx)("span",{className:"font-medium text-[#0f172a]",children:"4-12 hours:"})," 25% refund"]}),(0,jsx_runtime.jsxs)("li",{children:[(0,jsx_runtime.jsx)("span",{className:"font-medium text-[#0f172a]",children:"Less than 4 hours:"})," No refund"]})]}),(0,jsx_runtime.jsx)("p",{className:"pt-2 text-[#94a3b8] text-xs italic",children:"Once the service starts, cancellation is not possible."})]})]})]})}try{CheckoutSummary.displayName="CheckoutSummary",CheckoutSummary.__docgenInfo={description:"",displayName:"CheckoutSummary",props:{serviceName:{defaultValue:null,description:"",name:"serviceName",required:!0,type:{name:"string"}},baseAmount:{defaultValue:null,description:"",name:"baseAmount",required:!0,type:{name:"number"}},taxRate:{defaultValue:{value:"0.19"},description:"",name:"taxRate",required:!1,type:{name:"number"}},currency:{defaultValue:{value:"COP"},description:"",name:"currency",required:!1,type:{name:"Currency"}},durationHours:{defaultValue:null,description:"",name:"durationHours",required:!1,type:{name:"number"}},hourlyRate:{defaultValue:null,description:"",name:"hourlyRate",required:!1,type:{name:"number"}},onTipChange:{defaultValue:null,description:"",name:"onTipChange",required:!1,type:{name:"(tipAmount: number) => void"}},recurringDiscount:{defaultValue:null,description:"",name:"recurringDiscount",required:!1,type:{name:"number"}},showTipping:{defaultValue:{value:"true"},description:"",name:"showTipping",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/bookings/checkout-summary.tsx#CheckoutSummary"]={docgenInfo:CheckoutSummary.__docgenInfo,name:"CheckoutSummary",path:"src/components/bookings/checkout-summary.tsx#CheckoutSummary"})}catch(__react_docgen_typescript_loader_error){}const checkout_summary_stories={title:"Bookings/CheckoutSummary",component:CheckoutSummary,parameters:{layout:"padded"},tags:["autodocs"]},Default={},__namedExportsOrder=["Default"]},"./src/lib/feature-flags.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G7:()=>isFeatureEnabled});var process=__webpack_require__("./node_modules/process/browser.js");const defaultFlags={show_match_wizard:!0,enable_web_vitals:!1,enhanced_trust_badges:!1,live_price_breakdown:!1,show_on_time_metrics:!1,auto_translate_chat:!0,one_tap_rebook:!0,recurring_plans:!0,rebook_nudge_system:!0,gps_check_in_out:!0,arrival_notifications:!0,time_extension_ui:!0,show_amara_assistant:!0,admin_verification_queue:!0,payout_ledger:!1,city_landing_pages:!0,show_platform_fee:!1,enable_tipping:!0,subscription_discount_badges:!1,caregiver_profiles:!1,maintenance_reminders:!1,referral_program:!0};function isFeatureEnabled(flag,userId){const envOverride=function getEnvOverride(flag){const envKey=`NEXT_PUBLIC_FEATURE_${flag.toUpperCase()}`,envValue=process.env[envKey];if(void 0!==envValue)return"true"===envValue||"1"===envValue}(flag);return void 0!==envOverride?envOverride:!(!userId||!function isBetaTester(userId,flag){const betaTesters={show_match_wizard:[],recurring_plans:[]};return betaTesters[flag]?.includes(userId)??!1}(userId,flag))||defaultFlags[flag]}}}]);