"use strict";(self.webpackChunkcasaora=self.webpackChunkcasaora||[]).push([[24081,57659],{"./node_modules/@hugeicons/react/dist/esm/HugeiconsIcon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>HugeiconsIcon});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none"},HugeiconsIcon=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({color="currentColor",size=24,strokeWidth,absoluteStrokeWidth=!1,className="",altIcon,showAlt=!1,icon,primaryColor,secondaryColor,disableSecondaryOpacity=!1,...rest},ref)=>{const calculatedStrokeWidth=void 0!==strokeWidth?absoluteStrokeWidth?24*Number(strokeWidth)/Number(size):strokeWidth:void 0,strokeProps=void 0!==calculatedStrokeWidth?{strokeWidth:calculatedStrokeWidth,stroke:"currentColor"}:{},elementProps={ref,...defaultAttributes,width:size,height:size,color:primaryColor||color,className,...strokeProps,...rest},svgChildren=[...showAlt&&altIcon?altIcon:icon].sort(([,a],[,b])=>{const hasOpacityA=void 0!==a.opacity;return void 0!==b.opacity?1:hasOpacityA?-1:0}).map(([tag,attrs])=>{const isSecondaryPath=void 0!==attrs.opacity,pathOpacity=isSecondaryPath&&!disableSecondaryOpacity?attrs.opacity:void 0,fillProps=secondaryColor?{...void 0!==attrs.stroke?{stroke:isSecondaryPath?secondaryColor:primaryColor||color}:{fill:isSecondaryPath?secondaryColor:primaryColor||color}}:{};return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(tag,{...attrs,...strokeProps,...fillProps,opacity:pathOpacity,key:attrs.key})});return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("svg",elementProps,svgChildren)});HugeiconsIcon.displayName="HugeiconsIcon"},"./node_modules/next-intl/dist/esm/production/react-client/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c3:()=>e});var use_intl__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/use-intl/dist/esm/production/react.js");function o(r,t){return(...r)=>{try{return t(...r)}catch{throw new Error(void 0)}}}const e=o(0,use_intl__WEBPACK_IMPORTED_MODULE_0__.c3);o(0,use_intl__WEBPACK_IMPORTED_MODULE_0__.kc)},"./src/components/bookings/pro-booking-calendar.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>pro_booking_calendar_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),index_min=__webpack_require__("./node_modules/@hugeicons/core-free-icons/dist/esm/index.min.js"),HugeiconsIcon=__webpack_require__("./node_modules/@hugeicons/react/dist/esm/HugeiconsIcon.js"),react_client=__webpack_require__("./node_modules/next-intl/dist/esm/production/react-client/index.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),availability_calendar=__webpack_require__("./src/components/shared/availability-calendar.tsx");function ProBookingCalendar({bookings}){const t=(0,react_client.c3)("dashboard.pro.bookingCalendar"),[selectedDate,setSelectedDate]=(0,react.useState)(new Date),bookingsByDate=(0,react.useMemo)(()=>{const map=new Map;for(const booking of bookings){if(!booking.scheduled_start)continue;const key=formatDateKey(new Date(booking.scheduled_start));map.has(key)||map.set(key,[]),map.get(key)?.push(booking)}return map},[bookings]),availability=(0,react.useMemo)(()=>{const availabilityArray=[];return bookingsByDate.forEach((dayBookings,dateKey)=>{availabilityArray.push({date:dateKey,status:"booked",availableSlots:[],bookingCount:dayBookings.length,maxBookings:dayBookings.length})}),availabilityArray},[bookingsByDate]),selectedBookings=selectedDate?bookingsByDate.get(formatDateKey(selectedDate))??[]:[];return(0,jsx_runtime.jsx)("div",{className:"rounded-xl border border-[#e2e8f0] bg-[#f8fafc]/90 p-6 shadow-sm",children:(0,jsx_runtime.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,_2fr)_minmax(0,_1fr)]",children:[(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(availability_calendar.K,{dataSource:{type:"props",availability,getDateAvailability:date=>{const key=formatDateKey(date),dayBookings=bookingsByDate.get(key);return dayBookings&&0!==dayBookings.length?{date:key,status:"booked",availableSlots:[],bookingCount:dayBookings.length,maxBookings:dayBookings.length}:null}},locale:"en-US",onDateSelect:setSelectedDate,renderDayContent:(calendarDate,dayAvailability)=>(0,jsx_runtime.jsx)(CustomDayContent,{availability:dayAvailability,bookingsCount:bookingsByDate.get(formatDateKey(calendarDate))?.length??0,date:calendarDate,t}),selectedDate,showLegend:!1,showTimeSlots:!1,showTodayButton:!0,size:"compact",theme:"professional"})}),(0,jsx_runtime.jsxs)("div",{className:"rounded-lg border border-[#e2e8f0] bg-[#f8fafc] p-4",children:[(0,jsx_runtime.jsx)("h4",{className:"font-semibold text-[#0f172a] text-sm",children:t("details")}),selectedDate&&(0,jsx_runtime.jsx)("p",{className:"mt-1 text-[#94a3b8] text-xs",children:selectedDate.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"short",day:"numeric"})}),0===selectedBookings.length?(0,jsx_runtime.jsx)("p",{className:"mt-4 text-[#94a3b8] text-sm",children:t("noBookings")}):(0,jsx_runtime.jsx)("ul",{className:"mt-4 space-y-3",children:selectedBookings.slice().sort((a,b)=>(a.scheduled_start?new Date(a.scheduled_start).getTime():0)-(b.scheduled_start?new Date(b.scheduled_start).getTime():0)).map(booking=>{const start=booking.scheduled_start?new Date(booking.scheduled_start):null,timeLabel=start?function formatTime(date){return date.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}(start):t("timeTbd"),statusLabel=(status=>{switch(status){case"pending_payment":return t("status.pendingPayment");case"authorized":return t("status.authorized");case"completed":return t("status.completed");case"canceled":return t("status.canceled");default:return status.replace(/_/g," ")}})(booking.status),amount=booking.amount_captured??booking.amount_authorized??null;return(0,jsx_runtime.jsxs)("li",{className:"rounded-md border border-[#e2e8f0] bg-[#f8fafc] p-3",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between text-[#0f172a] text-sm",children:[(0,jsx_runtime.jsx)("span",{className:"font-semibold",children:timeLabel}),amount?(0,jsx_runtime.jsx)("span",{className:"font-semibold text-[#94a3b8] text-xs",children:formatCOP(amount)}):null]}),(0,jsx_runtime.jsxs)("div",{className:"mt-1 flex items-center gap-2 text-[#94a3b8] text-xs",children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-3.5 w-3.5 text-[#64748b]",icon:index_min.p19}),(0,jsx_runtime.jsx)("span",{children:statusLabel})]})]},booking.id)})})]})]})})}function CustomDayContent({date,availability:_availability,bookingsCount,t}){return(0,jsx_runtime.jsxs)("div",{className:"flex h-full min-h-[50px] flex-col items-center justify-center",children:[(0,jsx_runtime.jsx)("span",{className:"font-semibold text-sm",children:date.getDate()}),bookingsCount>0&&(0,jsx_runtime.jsxs)("span",{className:"mt-1 rounded-full bg-[#64748b]/15 px-2 py-0.5 font-semibold text-[#64748b] text-xs",children:[bookingsCount," ",t(1===bookingsCount?"booking":"bookings")]})]})}function formatDateKey(date){return`${date.getFullYear()}-${String(date.getMonth()+1).padStart(2,"0")}-${String(date.getDate()).padStart(2,"0")}`}function formatCOP(value){return!value||Number.isNaN(value)?null:new Intl.NumberFormat("en-US",{style:"currency",currency:"COP",maximumFractionDigits:0}).format(value)}try{ProBookingCalendar.displayName="ProBookingCalendar",ProBookingCalendar.__docgenInfo={description:"Professional Booking Calendar (V2 - Unified)\n\nThis component replaces the original pro-booking-calendar.tsx with a cleaner\nimplementation that uses the unified calendar component for rendering and\nprovides a custom sidebar for booking details.\n\nKey features:\n- Uses unified calendar component for grid rendering\n- Props-based data source (bookings provided as props)\n- Custom sidebar showing booking details for selected date\n- Maintains original styling and user experience\n- Supports internationalization\n\nMigration: Replace imports of `ProBookingCalendar` from\n`@/components/bookings/pro-booking-calendar` with this component.",displayName:"ProBookingCalendar",props:{bookings:{defaultValue:null,description:"",name:"bookings",required:!0,type:{name:"CalendarBooking[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/bookings/pro-booking-calendar.tsx#ProBookingCalendar"]={docgenInfo:ProBookingCalendar.__docgenInfo,name:"ProBookingCalendar",path:"src/components/bookings/pro-booking-calendar.tsx#ProBookingCalendar"})}catch(__react_docgen_typescript_loader_error){}const pro_booking_calendar_stories={title:"Bookings/ProBookingCalendar",component:ProBookingCalendar,parameters:{layout:"padded"},tags:["autodocs"]},Default={},__namedExportsOrder=["Default"]}}]);