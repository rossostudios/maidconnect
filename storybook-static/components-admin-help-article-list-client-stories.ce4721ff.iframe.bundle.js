"use strict";(self.webpackChunkcasaora=self.webpackChunkcasaora||[]).push([[24081,78725],{"./node_modules/@hugeicons/react/dist/esm/HugeiconsIcon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>HugeiconsIcon});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none"},HugeiconsIcon=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({color="currentColor",size=24,strokeWidth,absoluteStrokeWidth=!1,className="",altIcon,showAlt=!1,icon,primaryColor,secondaryColor,disableSecondaryOpacity=!1,...rest},ref)=>{const calculatedStrokeWidth=void 0!==strokeWidth?absoluteStrokeWidth?24*Number(strokeWidth)/Number(size):strokeWidth:void 0,strokeProps=void 0!==calculatedStrokeWidth?{strokeWidth:calculatedStrokeWidth,stroke:"currentColor"}:{},elementProps={ref,...defaultAttributes,width:size,height:size,color:primaryColor||color,className,...strokeProps,...rest},svgChildren=[...showAlt&&altIcon?altIcon:icon].sort(([,a],[,b])=>{const hasOpacityA=void 0!==a.opacity;return void 0!==b.opacity?1:hasOpacityA?-1:0}).map(([tag,attrs])=>{const isSecondaryPath=void 0!==attrs.opacity,pathOpacity=isSecondaryPath&&!disableSecondaryOpacity?attrs.opacity:void 0,fillProps=secondaryColor?{...void 0!==attrs.stroke?{stroke:isSecondaryPath?secondaryColor:primaryColor||color}:{fill:isSecondaryPath?secondaryColor:primaryColor||color}}:{};return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(tag,{...attrs,...strokeProps,...fillProps,opacity:pathOpacity,key:attrs.key})});return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("svg",elementProps,svgChildren)});HugeiconsIcon.displayName="HugeiconsIcon"},"./src/app/actions/help-articles-actions.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Md:()=>createHelpArticle,ZB:()=>updateHelpArticle,pg:()=>deleteHelpArticle,vp:()=>toggleArticlePublished});var next_cache__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/nextjs/dist/export-mocks/cache/index.js"),zod__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zod/v4/classic/external.js"),_lib_supabase_server_client__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/lib/supabase/server-client.ts"),console=__webpack_require__("./node_modules/console-browserify/index.js");const HelpArticleSchema=zod__WEBPACK_IMPORTED_MODULE_1__.object({category_id:zod__WEBPACK_IMPORTED_MODULE_1__.string().uuid(),slug:zod__WEBPACK_IMPORTED_MODULE_1__.string().min(1).max(100).regex(/^[a-z0-9-]+$/,"Slug must be lowercase letters, numbers, and hyphens only"),title_en:zod__WEBPACK_IMPORTED_MODULE_1__.string().min(1).max(200),title_es:zod__WEBPACK_IMPORTED_MODULE_1__.string().min(1).max(200),excerpt_en:zod__WEBPACK_IMPORTED_MODULE_1__.string().max(500).optional().nullable(),excerpt_es:zod__WEBPACK_IMPORTED_MODULE_1__.string().max(500).optional().nullable(),content_en:zod__WEBPACK_IMPORTED_MODULE_1__.string().min(1),content_es:zod__WEBPACK_IMPORTED_MODULE_1__.string().min(1),is_published:zod__WEBPACK_IMPORTED_MODULE_1__.boolean().default(!1),display_order:zod__WEBPACK_IMPORTED_MODULE_1__.number().int().min(0).default(0),tags:zod__WEBPACK_IMPORTED_MODULE_1__.array(zod__WEBPACK_IMPORTED_MODULE_1__.string().uuid()).optional()});async function createHelpArticle(input){try{const supabase=await(0,_lib_supabase_server_client__WEBPACK_IMPORTED_MODULE_2__.d)(),{data:{user}}=await supabase.auth.getUser();if(!user)return{success:!1,error:"Unauthorized"};const{data:profile}=await supabase.from("profiles").select("role").eq("id",user.id).single();if("admin"!==profile?.role)return{success:!1,error:"Forbidden: Admin access required"};const validated=HelpArticleSchema.parse(input),{data:existingArticle}=await supabase.from("help_articles").select("id").eq("slug",validated.slug).eq("category_id",validated.category_id).single();if(existingArticle)return{success:!1,error:"An article with this slug already exists in this category"};const{data:article,error:insertError}=await supabase.from("help_articles").insert({category_id:validated.category_id,slug:validated.slug,title_en:validated.title_en,title_es:validated.title_es,excerpt_en:validated.excerpt_en??null,excerpt_es:validated.excerpt_es??null,content_en:validated.content_en,content_es:validated.content_es,is_published:validated.is_published,display_order:validated.display_order}).select("id").single();if(insertError)return console.error("[Create Article Error]",insertError),{success:!1,error:"Failed to create article"};if(validated.tags&&validated.tags.length>0&&article){const tagRelations=validated.tags.map(tagId=>({article_id:article.id,tag_id:tagId}));await supabase.from("help_article_tags_relation").insert(tagRelations)}return(0,next_cache__WEBPACK_IMPORTED_MODULE_0__.xy)("/[locale]/help"),(0,next_cache__WEBPACK_IMPORTED_MODULE_0__.xy)("/[locale]/admin/help"),{success:!0,articleId:article?.id}}catch(error){return console.error("[Create Article Error]",error),error instanceof zod__WEBPACK_IMPORTED_MODULE_1__.ZodError?{success:!1,error:error.issues[0]?.message??"Validation error"}:{success:!1,error:"An unexpected error occurred"}}}async function updateHelpArticle(articleId,input){try{const supabase=await(0,_lib_supabase_server_client__WEBPACK_IMPORTED_MODULE_2__.d)(),{data:{user}}=await supabase.auth.getUser();if(!user)return{success:!1,error:"Unauthorized"};const{data:profile}=await supabase.from("profiles").select("role").eq("id",user.id).single();if("admin"!==profile?.role)return{success:!1,error:"Forbidden: Admin access required"};const validated=HelpArticleSchema.parse(input),{data:existingArticle}=await supabase.from("help_articles").select("id").eq("slug",validated.slug).eq("category_id",validated.category_id).neq("id",articleId).single();if(existingArticle)return{success:!1,error:"Another article with this slug already exists in this category"};const{error:updateError}=await supabase.from("help_articles").update({category_id:validated.category_id,slug:validated.slug,title_en:validated.title_en,title_es:validated.title_es,excerpt_en:validated.excerpt_en??null,excerpt_es:validated.excerpt_es??null,content_en:validated.content_en,content_es:validated.content_es,is_published:validated.is_published,display_order:validated.display_order}).eq("id",articleId);if(updateError)return console.error("[Update Article Error]",updateError),{success:!1,error:"Failed to update article"};if(void 0!==validated.tags&&(await supabase.from("help_article_tags_relation").delete().eq("article_id",articleId),validated.tags.length>0)){const tagRelations=validated.tags.map(tagId=>({article_id:articleId,tag_id:tagId}));await supabase.from("help_article_tags_relation").insert(tagRelations)}return(0,next_cache__WEBPACK_IMPORTED_MODULE_0__.xy)("/[locale]/help"),(0,next_cache__WEBPACK_IMPORTED_MODULE_0__.xy)("/[locale]/admin/help"),{success:!0}}catch(error){return console.error("[Update Article Error]",error),error instanceof zod__WEBPACK_IMPORTED_MODULE_1__.ZodError?{success:!1,error:error.issues[0]?.message??"Validation error"}:{success:!1,error:"An unexpected error occurred"}}}async function deleteHelpArticle(articleId){try{const supabase=await(0,_lib_supabase_server_client__WEBPACK_IMPORTED_MODULE_2__.d)(),{data:{user}}=await supabase.auth.getUser();if(!user)return{success:!1,error:"Unauthorized"};const{data:profile}=await supabase.from("profiles").select("role").eq("id",user.id).single();if("admin"!==profile?.role)return{success:!1,error:"Forbidden: Admin access required"};const{error:deleteError}=await supabase.from("help_articles").delete().eq("id",articleId);return deleteError?(console.error("[Delete Article Error]",deleteError),{success:!1,error:"Failed to delete article"}):((0,next_cache__WEBPACK_IMPORTED_MODULE_0__.xy)("/[locale]/help"),(0,next_cache__WEBPACK_IMPORTED_MODULE_0__.xy)("/[locale]/admin/help"),{success:!0})}catch(error){return console.error("[Delete Article Error]",error),{success:!1,error:"An unexpected error occurred"}}}async function toggleArticlePublished(articleId,isPublished){try{const supabase=await(0,_lib_supabase_server_client__WEBPACK_IMPORTED_MODULE_2__.d)(),{data:{user}}=await supabase.auth.getUser();if(!user)return{success:!1,error:"Unauthorized"};const{data:profile}=await supabase.from("profiles").select("role").eq("id",user.id).single();if("admin"!==profile?.role)return{success:!1,error:"Forbidden: Admin access required"};const{error:updateError}=await supabase.from("help_articles").update({is_published:isPublished}).eq("id",articleId);return updateError?(console.error("[Toggle Published Error]",updateError),{success:!1,error:"Failed to update article status"}):((0,next_cache__WEBPACK_IMPORTED_MODULE_0__.xy)("/[locale]/help"),(0,next_cache__WEBPACK_IMPORTED_MODULE_0__.xy)("/[locale]/admin/help"),{success:!0})}catch(error){return console.error("[Toggle Published Error]",error),{success:!1,error:"An unexpected error occurred"}}}},"./src/components/admin/help/article-list-client.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>article_list_client_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),index_min=__webpack_require__("./node_modules/@hugeicons/core-free-icons/dist/esm/index.min.js"),HugeiconsIcon=__webpack_require__("./node_modules/@hugeicons/react/dist/esm/HugeiconsIcon.js"),lib=__webpack_require__("./node_modules/@tanstack/react-table/build/lib/index.mjs"),build_lib=__webpack_require__("./node_modules/@tanstack/table-core/build/lib/index.mjs"),next_link=__webpack_require__("./node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),navigation=__webpack_require__("./node_modules/@storybook/nextjs/dist/export-mocks/navigation/index.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),help_articles_actions=__webpack_require__("./src/app/actions/help-articles-actions.ts"),toast=__webpack_require__("./src/lib/toast.ts"),console=__webpack_require__("./node_modules/console-browserify/index.js");function ArticleListClient({articles,locale}){const router=(0,navigation.useRouter)(),[deletingId,setDeletingId]=(0,react.useState)(null),[togglingId,setTogglingId]=(0,react.useState)(null),[sorting,setSorting]=(0,react.useState)([]),[globalFilter,setGlobalFilter]=(0,react.useState)(""),formatDate=dateString=>{const date=new Date(dateString);return new Intl.DateTimeFormat(locale,{year:"numeric",month:"short",day:"numeric"}).format(date)},columns=(0,react.useMemo)(()=>[{accessorKey:"title",header:"es"===locale?"Título":"Title",cell:({row})=>(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:row.original.title}),(0,jsx_runtime.jsxs)("div",{className:"font-mono text-slate-600 dark:text-slate-400 text-xs",children:["/",row.original.slug]})]})},{accessorKey:"category.name",header:"es"===locale?"Categoría":"Category",cell:({row})=>(0,jsx_runtime.jsx)("span",{className:"inline-flex items-center rounded-full bg-[#e2e8f0]/30 px-2.5 py-0.5 font-medium text-slate-600 dark:text-slate-400 text-xs",children:row.original.category.name})},{accessorKey:"is_published",header:"es"===locale?"Estado":"Status",cell:({row})=>(0,jsx_runtime.jsxs)("button",{className:"inline-flex items-center gap-1.5 rounded-full px-3 py-1 font-medium text-xs transition "+(row.original.is_published?"bg-slate-900 dark:bg-slate-100/10 text-slate-900 dark:text-slate-100 hover:bg-slate-900 dark:bg-slate-100/10":"bg-[#e2e8f0]/30 text-slate-600 dark:text-slate-400 hover:bg-[#e2e8f0]"),disabled:togglingId===row.original.id,onClick:()=>(async article=>{setTogglingId(article.id);try{const result=await(0,help_articles_actions.vp)(article.id,!article.is_published);result.success?(toast.o.success(article.is_published?"es"===locale?"Artículo despublicado":"Article unpublished":"es"===locale?"Artículo publicado":"Article published"),router.refresh()):toast.o.error(result.error??("es"===locale?"Error al actualizar":"Failed to update"))}catch(error){console.error("[Toggle Published Error]",error),toast.o.error("es"===locale?"Error al actualizar estado":"Failed to update status")}finally{setTogglingId(null)}})(row.original),type:"button",children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-3.5 w-3.5",icon:row.original.is_published?index_min.bMW:index_min.tCQ}),togglingId===row.original.id?"...":row.original.is_published?"es"===locale?"Publicado":"Published":"es"===locale?"Borrador":"Draft"]}),enableSorting:!0},{accessorKey:"view_count",header:"es"===locale?"Vistas":"Views",cell:({row})=>(0,jsx_runtime.jsx)("div",{className:"text-center text-slate-600 dark:text-slate-400 text-sm",children:row.original.view_count}),enableSorting:!0},{id:"helpful_percentage",header:"es"===locale?"Útil":"Helpful",accessorFn:row=>{const total=row.helpful_count+row.not_helpful_count;return total>0?Math.round(row.helpful_count/total*100):null},cell:({getValue})=>{const percentage=getValue();return(0,jsx_runtime.jsx)("div",{className:"text-center",children:null!==percentage?(0,jsx_runtime.jsxs)("span",{className:"font-medium text-sm "+(percentage>=70?"text-slate-900 dark:text-slate-100":"text-slate-600 dark:text-slate-400"),children:[percentage,"%"]}):(0,jsx_runtime.jsx)("span",{className:"text-slate-600 dark:text-slate-400/70 text-sm",children:"-"})})},enableSorting:!0},{accessorKey:"updated_at",header:"es"===locale?"Actualizado":"Updated",cell:({row})=>(0,jsx_runtime.jsx)("div",{className:"text-slate-600 dark:text-slate-400 text-sm",children:formatDate(row.original.updated_at)}),enableSorting:!0},{id:"actions",header:"es"===locale?"Acciones":"Actions",cell:({row})=>(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,jsx_runtime.jsx)(link_default(),{className:"rounded p-2 text-slate-600 dark:text-slate-400 transition hover:bg-[#e2e8f0]/30",href:`/${locale}/help/${row.original.category.slug}/${row.original.slug}`,target:"_blank",title:"es"===locale?"Ver artículo":"View article",children:(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-4 w-4",icon:index_min.tCQ})}),(0,jsx_runtime.jsx)(link_default(),{className:"rounded p-2 text-slate-900 dark:text-slate-100 transition hover:bg-white dark:bg-slate-950",href:`/${locale}/admin/help/articles/${row.original.id}/edit`,title:"es"===locale?"Editar":"Edit",children:(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-4 w-4",icon:index_min.WHm})}),(0,jsx_runtime.jsx)("button",{className:"rounded p-2 text-slate-900 dark:text-slate-100 transition hover:bg-white dark:bg-slate-950 disabled:opacity-50",disabled:deletingId===row.original.id,onClick:()=>(async article=>{if(confirm("es"===locale?`¿Eliminar "${article.title}"? Esta acción no se puede deshacer.`:`Delete "${article.title}"? This action cannot be undone.`)){setDeletingId(article.id);try{const result=await(0,help_articles_actions.pg)(article.id);result.success?(toast.o.success("es"===locale?"Artículo eliminado":"Article deleted"),router.refresh()):toast.o.error(result.error??("es"===locale?"Error al eliminar":"Failed to delete"))}catch(error){console.error("[Delete Error]",error),toast.o.error("es"===locale?"Error al eliminar artículo":"Failed to delete article")}finally{setDeletingId(null)}}})(row.original),title:"es"===locale?"Eliminar":"Delete",type:"button",children:(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-4 w-4",icon:index_min.rvS})})]})}],[locale,deletingId,togglingId]),table=(0,lib.N4)({data:articles,columns,state:{sorting,globalFilter},onSortingChange:setSorting,onGlobalFilterChange:setGlobalFilter,getCoreRowModel:(0,build_lib.HT)(),getSortedRowModel:(0,build_lib.h5)(),getFilteredRowModel:(0,build_lib.hM)()});return 0===articles.length?(0,jsx_runtime.jsxs)("div",{className:"rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 p-12 text-center",children:[(0,jsx_runtime.jsx)("p",{className:"text-slate-600 dark:text-slate-400",children:"es"===locale?"No hay artículos todavía":"No articles yet"}),(0,jsx_runtime.jsx)(link_default(),{className:"mt-4 inline-flex items-center gap-2 rounded-lg bg-slate-900 dark:bg-slate-100 px-6 py-3 font-semibold text-white dark:text-slate-950 transition hover:bg-slate-900 dark:bg-slate-100",href:`/${locale}/admin/help/articles/new`,children:"es"===locale?"Crear Primer Artículo":"Create First Article"})]}):(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-4",children:[(0,jsx_runtime.jsx)("input",{className:"flex-1 rounded-lg border border-[#94a3b8]/40 px-4 py-2 text-sm focus:border-slate-900 dark:border-slate-100 focus:outline-none focus:ring-2 focus:ring-[#64748b]/20",onChange:e=>setGlobalFilter(e.target.value),placeholder:"es"===locale?"Buscar artículos por título, categoría...":"Search articles by title, category...",type:"text",value:globalFilter}),(0,jsx_runtime.jsxs)("div",{className:"text-slate-600 dark:text-slate-400 text-sm",children:["Total:"," ",table.getFilteredRowModel().rows.length]})]}),(0,jsx_runtime.jsx)("div",{className:"overflow-hidden rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 shadow-sm",children:(0,jsx_runtime.jsxs)("table",{className:"w-full",children:[(0,jsx_runtime.jsx)("thead",{className:"border-slate-200 dark:border-slate-800 border-b bg-white dark:bg-slate-950",children:table.getHeaderGroups().map(headerGroup=>(0,jsx_runtime.jsx)("tr",{children:headerGroup.headers.map(header=>(0,jsx_runtime.jsx)("th",{className:"px-6 py-3 text-left font-semibold text-slate-600 dark:text-slate-400 text-sm",children:header.isPlaceholder?null:(0,jsx_runtime.jsxs)("div",{className:header.column.getCanSort()?"flex cursor-pointer select-none items-center gap-2 hover:text-slate-900 dark:text-slate-100":"",onClick:header.column.getToggleSortingHandler(),children:[(0,lib.Kv)(header.column.columnDef.header,header.getContext()),header.column.getCanSort()&&(0,jsx_runtime.jsx)("span",{className:"text-slate-600 dark:text-slate-400/70",children:{asc:"↑",desc:"↓"}[header.column.getIsSorted()]??"↕"})]})},header.id))},headerGroup.id))}),(0,jsx_runtime.jsx)("tbody",{className:"divide-y divide-[#f8fafc]",children:table.getRowModel().rows.map(row=>(0,jsx_runtime.jsx)("tr",{className:"transition hover:bg-white dark:bg-slate-950",children:row.getVisibleCells().map(cell=>(0,jsx_runtime.jsx)("td",{className:"px-6 py-4",children:(0,lib.Kv)(cell.column.columnDef.cell,cell.getContext())},cell.id))},row.id))})]})})]})}try{ArticleListClient.displayName="ArticleListClient",ArticleListClient.__docgenInfo={description:"",displayName:"ArticleListClient",props:{articles:{defaultValue:null,description:"",name:"articles",required:!0,type:{name:"Article[]"}},locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"enum",value:[{value:'"en"'},{value:'"es"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/admin/help/article-list-client.tsx#ArticleListClient"]={docgenInfo:ArticleListClient.__docgenInfo,name:"ArticleListClient",path:"src/components/admin/help/article-list-client.tsx#ArticleListClient"})}catch(__react_docgen_typescript_loader_error){}const article_list_client_stories={title:"Admin/Article List Client",component:ArticleListClient,parameters:{layout:"centered"},tags:["autodocs"]},Default={args:{}},__namedExportsOrder=["Default"]},"./src/lib/supabase/server-client.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{d:()=>createSupabaseServerClient});var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@supabase/ssr/dist/module/index.js"),next_cache__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/nextjs/dist/export-mocks/cache/index.js"),next_headers__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/nextjs/dist/export-mocks/headers/index.js");async function createSupabaseServerClient(){(0,next_cache__WEBPACK_IMPORTED_MODULE_1__.Mo)();const supabaseUrl="https://hvnetxfsrtplextvtwfx.supabase.co",supabaseKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh2bmV0eGZzcnRwbGV4dHZ0d2Z4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE1ODc0NTEsImV4cCI6MjA3NzE2MzQ1MX0.7-N06om_ntUuGP1NZ0Zcqz01s975xJfiKno34aIW__o";const cookieStore=await(0,next_headers__WEBPACK_IMPORTED_MODULE_2__.UL)();return(0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createServerClient)(supabaseUrl,supabaseKey,{cookies:{getAll:()=>cookieStore.getAll(),setAll(cookiesToSet){try{cookiesToSet.forEach(({name,value,options})=>cookieStore.set(name,value,options))}catch{}}}})}},"./src/lib/toast.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{l:()=>confirm,o:()=>toast});let toastContainer=null;function showToast(message,options={}){const{duration=3e3,type="info"}=options,container=function getToastContainer(){return toastContainer&&document.body.contains(toastContainer)||(toastContainer=document.createElement("div"),toastContainer.id="toast-container",toastContainer.style.cssText="\n    position: fixed;\n    top: 20px;\n    right: 20px;\n    z-index: 9999;\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    pointer-events: none;\n  ",document.body.appendChild(toastContainer)),toastContainer}(),toast=document.createElement("div");if(toast.textContent=message,toast.style.cssText=function getToastStyles(type){return"\n    padding: 12px 20px;\n    border-radius: 8px;\n    font-family: system-ui, -apple-system, sans-serif;\n    font-size: 14px;\n    font-weight: 500;\n    box-shadow: 0 4px 12px rgba(22, 22, 22, 0.15);\n    pointer-events: auto;\n    min-width: 300px;\n    max-width: 500px;\n    word-wrap: break-word;\n    animation: slideIn 0.3s ease-out;\n  "+{success:"background-color: #FF4444A22; color: white;",error:"background-color: #FF4444A22; color: white;",info:"background-color: #FF4444A22; color: white;",warning:"background-color: #FF4444A22; color: white;"}[type]}(type),!document.getElementById("toast-animations")){const style=document.createElement("style");style.id="toast-animations",style.textContent="\n      @keyframes slideIn {\n        from {\n          transform: translateX(100%);\n          opacity: 0;\n        }\n        to {\n          transform: translateX(0);\n          opacity: 1;\n        }\n      }\n      @keyframes slideOut {\n        from {\n          transform: translateX(0);\n          opacity: 1;\n        }\n        to {\n          transform: translateX(100%);\n          opacity: 0;\n        }\n      }\n    ",document.head.appendChild(style)}container.appendChild(toast),setTimeout(()=>{toast.style.animation="slideOut 0.3s ease-in",setTimeout(()=>{toast.parentNode&&toast.parentNode.removeChild(toast),0===container.children.length&&container.parentNode&&(container.parentNode.removeChild(container),toastContainer=null)},300)},duration)}const toast={success:(message,duration)=>showToast(message,{type:"success",duration}),error:(message,duration)=>showToast(message,{type:"error",duration}),info:(message,duration)=>showToast(message,{type:"info",duration}),warning:(message,duration)=>showToast(message,{type:"warning",duration})};function confirm(message,title="Confirm"){return new Promise(resolve=>{const overlay=document.createElement("div");overlay.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background-color: rgba(22, 22, 22, 0.5);\n      z-index: 10000;\n      display: flex;\n      align-items: center;\n      justify-center;\n      animation: fadeIn 0.2s ease-out;\n    ";const modal=document.createElement("div");modal.style.cssText="\n      background-color: white;\n      border-radius: 12px;\n      padding: 24px;\n      max-width: 400px;\n      width: 90%;\n      box-shadow: 0 20px 25px -5px rgba(22, 22, 22, 0.1);\n      animation: scaleIn 0.2s ease-out;\n    ";const titleElement=document.createElement("h3");titleElement.textContent=title,titleElement.style.cssText="\n      font-size: 18px;\n      font-weight: 600;\n      color: #116611616;\n      margin-bottom: 12px;\n    ";const messageElement=document.createElement("p");messageElement.textContent=message,messageElement.style.cssText="\n      font-size: 14px;\n      color: #116611616;\n      margin-bottom: 20px;\n      line-height: 1.5;\n    ";const buttonContainer=document.createElement("div");buttonContainer.style.cssText="\n      display: flex;\n      gap: 12px;\n      justify-content: flex-end;\n    ";const cancelButton=document.createElement("button");cancelButton.textContent="Cancel",cancelButton.style.cssText="\n      padding: 8px 16px;\n      border-radius: 8px;\n      border: 2px solid #EE44EE2E3;\n      background-color: white;\n      color: #116611616;\n      font-weight: 600;\n      font-size: 14px;\n      cursor: pointer;\n      transition: all 0.2s;\n    ",cancelButton.onmouseover=()=>{cancelButton.style.borderColor="#AA88AAAAC",cancelButton.style.color="#AA88AAAAC"},cancelButton.onmouseout=()=>{cancelButton.style.borderColor="#EE44EE2E3",cancelButton.style.color="#116611616"};const confirmButton=document.createElement("button");confirmButton.textContent="Confirm",confirmButton.style.cssText="\n      padding: 8px 16px;\n      border-radius: 8px;\n      border: none;\n      background-color: #AA88AAAAC;\n      color: white;\n      font-weight: 600;\n      font-size: 14px;\n      cursor: pointer;\n      transition: all 0.2s;\n    ",confirmButton.onmouseover=()=>{confirmButton.style.backgroundColor="#AA88AAAAC"},confirmButton.onmouseout=()=>{confirmButton.style.backgroundColor="#AA88AAAAC"};const cleanup=()=>{overlay.style.animation="fadeOut 0.2s ease-in",setTimeout(()=>{overlay.parentNode&&overlay.parentNode.removeChild(overlay)},200)};if(cancelButton.onclick=()=>{cleanup(),resolve(!1)},confirmButton.onclick=()=>{cleanup(),resolve(!0)},!document.getElementById("modal-animations")){const style=document.createElement("style");style.id="modal-animations",style.textContent="\n        @keyframes fadeIn {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n        @keyframes fadeOut {\n          from { opacity: 1; }\n          to { opacity: 0; }\n        }\n        @keyframes scaleIn {\n          from {\n            transform: scale(0.9);\n            opacity: 0;\n          }\n          to {\n            transform: scale(1);\n            opacity: 1;\n          }\n        }\n      ",document.head.appendChild(style)}buttonContainer.appendChild(cancelButton),buttonContainer.appendChild(confirmButton),modal.appendChild(titleElement),modal.appendChild(messageElement),modal.appendChild(buttonContainer),overlay.appendChild(modal),document.body.appendChild(overlay),confirmButton.focus()})}}}]);