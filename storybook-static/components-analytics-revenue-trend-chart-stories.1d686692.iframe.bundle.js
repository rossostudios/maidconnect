"use strict";(self.webpackChunkcasaora=self.webpackChunkcasaora||[]).push([[24081,51498],{"./node_modules/@hugeicons/react/dist/esm/HugeiconsIcon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>HugeiconsIcon});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none"},HugeiconsIcon=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({color="currentColor",size=24,strokeWidth,absoluteStrokeWidth=!1,className="",altIcon,showAlt=!1,icon,primaryColor,secondaryColor,disableSecondaryOpacity=!1,...rest},ref)=>{const calculatedStrokeWidth=void 0!==strokeWidth?absoluteStrokeWidth?24*Number(strokeWidth)/Number(size):strokeWidth:void 0,strokeProps=void 0!==calculatedStrokeWidth?{strokeWidth:calculatedStrokeWidth,stroke:"currentColor"}:{},elementProps={ref,...defaultAttributes,width:size,height:size,color:primaryColor||color,className,...strokeProps,...rest},svgChildren=[...showAlt&&altIcon?altIcon:icon].sort(([,a],[,b])=>{const hasOpacityA=void 0!==a.opacity;return void 0!==b.opacity?1:hasOpacityA?-1:0}).map(([tag,attrs])=>{const isSecondaryPath=void 0!==attrs.opacity,pathOpacity=isSecondaryPath&&!disableSecondaryOpacity?attrs.opacity:void 0,fillProps=secondaryColor?{...void 0!==attrs.stroke?{stroke:isSecondaryPath?secondaryColor:primaryColor||color}:{fill:isSecondaryPath?secondaryColor:primaryColor||color}}:{};return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(tag,{...attrs,...strokeProps,...fillProps,opacity:pathOpacity,key:attrs.key})});return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("svg",elementProps,svgChildren)});HugeiconsIcon.displayName="HugeiconsIcon"},"./node_modules/next-intl/dist/esm/production/react-client/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c3:()=>e});var use_intl__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/use-intl/dist/esm/production/react.js");function o(r,t){return(...r)=>{try{return t(...r)}catch{throw new Error(void 0)}}}const e=o(0,use_intl__WEBPACK_IMPORTED_MODULE_0__.c3);o(0,use_intl__WEBPACK_IMPORTED_MODULE_0__.kc)},"./src/components/analytics/revenue-trend-chart.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={title:"Analytics/RevenueTrendChart",component:__webpack_require__("./src/components/analytics/revenue-trend-chart.tsx").g,parameters:{layout:"padded"},tags:["autodocs"]},Default={},__namedExportsOrder=["Default"]},"./src/components/analytics/revenue-trend-chart.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{g:()=>RevenueTrendChart});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@hugeicons/core-free-icons/dist/esm/index.min.js"),_hugeicons_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@hugeicons/react/dist/esm/HugeiconsIcon.js"),next_intl__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/next-intl/dist/esm/production/react-client/index.js");function RevenueTrendChart({trend,periodDays=30}){const t=(0,next_intl__WEBPACK_IMPORTED_MODULE_3__.c3)("components.revenueTrendChart"),formatCurrency=amount=>amount>=1e6?`$${(amount/1e6).toFixed(1)}M`:`$${(amount/1e3).toFixed(0)}k`,totalRevenue=trend.reduce((sum,point)=>sum+point.revenueCop,0),totalBookings=trend.reduce((sum,point)=>sum+point.bookingsCount,0),growth=(()=>{if(trend.length<2)return 0;const midpoint=Math.floor(trend.length/2),firstHalfTotal=trend.slice(0,midpoint).reduce((sum,point)=>sum+point.revenueCop,0),secondHalfTotal=trend.slice(midpoint).reduce((sum,point)=>sum+point.revenueCop,0);return 0===firstHalfTotal?secondHalfTotal>0?100:0:(secondHalfTotal-firstHalfTotal)/firstHalfTotal*100})(),isPositiveGrowth=growth>=0,maxRevenue=Math.max(...trend.map(p=>p.revenueCop),1);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"rounded-[24px] border-2 border-[#e2e8f0] bg-[#f8fafc] p-6 shadow-sm",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"font-semibold text-[#0f172a] text-lg",children:t("title")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-[#94a3b8] text-sm",children:t("period",{days:periodDays})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-2",children:[isPositiveGrowth?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hugeicons_react__WEBPACK_IMPORTED_MODULE_2__.n,{className:"h-5 w-5 text-[#64748b]",icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_1__.p_k}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hugeicons_react__WEBPACK_IMPORTED_MODULE_2__.n,{className:"h-5 w-5 text-[#64748b]",icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_1__.eWi}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{className:"font-semibold text-sm text-[#64748b]",children:[isPositiveGrowth?"+":"",growth.toFixed(1),"%"]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"mb-6 grid gap-4 md:grid-cols-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"rounded-xl bg-[#f8fafc] p-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"mb-1 text-[#94a3b8] text-xs",children:t("totalRevenue")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"font-bold text-2xl text-[#64748b]",children:formatCurrency(totalRevenue)})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"rounded-xl bg-[#f8fafc] p-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"mb-1 text-[#94a3b8] text-xs",children:t("totalBookings")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"font-bold text-2xl text-[#0f172a]",children:totalBookings})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"rounded-xl bg-[#f8fafc] p-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"mb-1 text-[#94a3b8] text-xs",children:t("averagePerBooking")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"font-bold text-2xl text-[#0f172a]",children:totalBookings>0?formatCurrency(totalRevenue/totalBookings):"$0"})]})]}),trend.length>0?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"relative",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex items-end justify-between gap-1",style:{height:200},children:trend.map((point,index)=>{const barHeight=point.revenueCop/maxRevenue*200,date=new Date(point.date);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"group relative flex flex-1 flex-col items-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"w-full rounded-t-md bg-gradient-to-t from-[#64748b] to-[#64748b] transition-all hover:opacity-80",style:{height:`${barHeight}px`}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"-top-16 -translate-x-1/2 pointer-events-none absolute left-1/2 z-10 hidden rounded-lg bg-[#0f172a] px-3 py-2 text-[#f8fafc] text-xs shadow-lg group-hover:block",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"font-semibold",children:formatCurrency(point.revenueCop)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p",{className:"text-[#e2e8f0]",children:[point.bookingsCount," ",t("bookings")]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-[#e2e8f0]",children:date.toLocaleDateString()}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"-bottom-1 -translate-x-1/2 absolute left-1/2 h-2 w-2 rotate-45 bg-[#0f172a]"})]}),(index%5==0||index===trend.length-1)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p",{className:"mt-2 text-[#94a3b8] text-[10px]",children:[date.getDate(),"/",date.getMonth()+1]})]},index)})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"absolute right-0 bottom-0 left-0 h-px bg-[#e2e8f0]"})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-[#94a3b8] text-sm",children:t("noData")})})]})}try{RevenueTrendChart.displayName="RevenueTrendChart",RevenueTrendChart.__docgenInfo={description:"Revenue Trend Chart Component\n\nDisplays a simple line chart showing revenue trends over time.\nIncludes growth percentage and visual indicators.",displayName:"RevenueTrendChart",props:{trend:{defaultValue:null,description:"",name:"trend",required:!0,type:{name:"RevenueTrendDataPoint[]"}},periodDays:{defaultValue:{value:"30"},description:"",name:"periodDays",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/analytics/revenue-trend-chart.tsx#RevenueTrendChart"]={docgenInfo:RevenueTrendChart.__docgenInfo,name:"RevenueTrendChart",path:"src/components/analytics/revenue-trend-chart.tsx#RevenueTrendChart"})}catch(__react_docgen_typescript_loader_error){}}}]);