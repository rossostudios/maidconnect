"use strict";(self.webpackChunkcasaora=self.webpackChunkcasaora||[]).push([[24081,32799],{"./node_modules/@hugeicons/react/dist/esm/HugeiconsIcon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>HugeiconsIcon});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none"},HugeiconsIcon=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({color="currentColor",size=24,strokeWidth,absoluteStrokeWidth=!1,className="",altIcon,showAlt=!1,icon,primaryColor,secondaryColor,disableSecondaryOpacity=!1,...rest},ref)=>{const calculatedStrokeWidth=void 0!==strokeWidth?absoluteStrokeWidth?24*Number(strokeWidth)/Number(size):strokeWidth:void 0,strokeProps=void 0!==calculatedStrokeWidth?{strokeWidth:calculatedStrokeWidth,stroke:"currentColor"}:{},elementProps={ref,...defaultAttributes,width:size,height:size,color:primaryColor||color,className,...strokeProps,...rest},svgChildren=[...showAlt&&altIcon?altIcon:icon].sort(([,a],[,b])=>{const hasOpacityA=void 0!==a.opacity;return void 0!==b.opacity?1:hasOpacityA?-1:0}).map(([tag,attrs])=>{const isSecondaryPath=void 0!==attrs.opacity,pathOpacity=isSecondaryPath&&!disableSecondaryOpacity?attrs.opacity:void 0,fillProps=secondaryColor?{...void 0!==attrs.stroke?{stroke:isSecondaryPath?secondaryColor:primaryColor||color}:{fill:isSecondaryPath?secondaryColor:primaryColor||color}}:{};return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(tag,{...attrs,...strokeProps,...fillProps,opacity:pathOpacity,key:attrs.key})});return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("svg",elementProps,svgChildren)});HugeiconsIcon.displayName="HugeiconsIcon"},"./src/components/referrals/referral-card.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>referral_card_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),index_min=__webpack_require__("./node_modules/@hugeicons/core-free-icons/dist/esm/index.min.js"),HugeiconsIcon=__webpack_require__("./node_modules/@hugeicons/react/dist/esm/HugeiconsIcon.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),format=__webpack_require__("./src/lib/format.ts"),console=__webpack_require__("./node_modules/console-browserify/index.js");function ReferralCard({code,usesCount,totalCreditsEarned,referrerReward,refereeReward}){const[copied,setCopied]=(0,react.useState)(!1),handleShare=platform=>{const shareUrl=`${window.location.origin}/auth/sign-up?ref=${code}`,message=`Join Casaora and get ${(0,format.Kq)(refereeReward/100)} off your first booking! Use my code: ${code}`,urls={whatsapp:`https://wa.me/?text=${encodeURIComponent(`${message} ${shareUrl}`)}`,twitter:`https://twitter.com/intent/tweet?text=${encodeURIComponent(message)}&url=${encodeURIComponent(shareUrl)}`,facebook:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(shareUrl)}`};window.open(urls[platform],"_blank","width=600,height=400")};return(0,jsx_runtime.jsxs)("div",{className:"rounded-2xl border border-[#e2e8f0] bg-gradient-to-br from-[#f8fafc] to-[bg-[#f8fafc]] p-8 shadow-[0_10px_40px_rgba(22,22,22,0.04)]",children:[(0,jsx_runtime.jsxs)("div",{className:"mb-6 flex items-start justify-between",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsxs)("div",{className:"mb-2 flex items-center gap-2",children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-6 w-6 text-[#64748b]",icon:index_min.okO}),(0,jsx_runtime.jsx)("h2",{className:"font-bold text-2xl text-[#0f172a]",children:"Your Referral Code"})]}),(0,jsx_runtime.jsx)("p",{className:"text-[#94a3b8] text-sm",children:"Share with friends and you both earn rewards"})]}),(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-8 w-8 text-[#64748b]",icon:index_min.QTh})]}),(0,jsx_runtime.jsxs)("div",{className:"mb-6 rounded-xl border-2 border-[#64748b] border-dashed bg-[#f8fafc] p-6",children:[(0,jsx_runtime.jsx)("div",{className:"mb-2 text-center text-[#94a3b8] text-xs uppercase tracking-wider",children:"Your Code"}),(0,jsx_runtime.jsx)("div",{className:"mb-4 text-center font-bold text-4xl text-[#0f172a] tracking-wider",children:code}),(0,jsx_runtime.jsx)("button",{className:"flex w-full items-center justify-center gap-2 rounded-lg bg-[#64748b] px-4 py-3 font-semibold text-sm text-[#f8fafc] transition hover:bg-[#64748b] active:scale-95 disabled:opacity-50",onClick:async()=>{try{const shareUrl=`${window.location.origin}/auth/sign-up?ref=${code}`;await navigator.clipboard.writeText(shareUrl),setCopied(!0),setTimeout(()=>setCopied(!1),2e3)}catch(error){console.error("Failed to copy:",error)}},type:"button",children:copied?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-4 w-4",icon:index_min.zQd}),"Copied!"]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-4 w-4",icon:index_min.ef}),"Copy Link"]})})]}),(0,jsx_runtime.jsxs)("div",{className:"mb-6 rounded-xl bg-[#64748b]/5 p-5",children:[(0,jsx_runtime.jsx)("h3",{className:"mb-3 font-semibold text-[#0f172a] text-sm",children:"How it works:"}),(0,jsx_runtime.jsxs)("ul",{className:"space-y-2",children:[(0,jsx_runtime.jsxs)("li",{className:"flex items-start gap-3",children:[(0,jsx_runtime.jsx)("div",{className:"mt-0.5 flex h-5 w-5 flex-shrink-0 items-center justify-center rounded-full bg-[#64748b] text-[#f8fafc] text-xs",children:"1"}),(0,jsx_runtime.jsxs)("p",{className:"text-[#94a3b8] text-sm",children:[(0,jsx_runtime.jsx)("span",{className:"font-semibold",children:"Share your code"})," with friends via WhatsApp, social media, or email"]})]}),(0,jsx_runtime.jsxs)("li",{className:"flex items-start gap-3",children:[(0,jsx_runtime.jsx)("div",{className:"mt-0.5 flex h-5 w-5 flex-shrink-0 items-center justify-center rounded-full bg-[#64748b] text-[#f8fafc] text-xs",children:"2"}),(0,jsx_runtime.jsxs)("p",{className:"text-[#94a3b8] text-sm",children:[(0,jsx_runtime.jsxs)("span",{className:"font-semibold",children:["They get ",(0,format.Kq)(refereeReward/100)]})," off their first booking"]})]}),(0,jsx_runtime.jsxs)("li",{className:"flex items-start gap-3",children:[(0,jsx_runtime.jsx)("div",{className:"mt-0.5 flex h-5 w-5 flex-shrink-0 items-center justify-center rounded-full bg-[#64748b] text-[#f8fafc] text-xs",children:"3"}),(0,jsx_runtime.jsxs)("p",{className:"text-[#94a3b8] text-sm",children:[(0,jsx_runtime.jsxs)("span",{className:"font-semibold",children:["You earn ",(0,format.Kq)(referrerReward/100)]})," in credits when they complete their first booking"]})]})]})]}),(0,jsx_runtime.jsxs)("div",{className:"mb-6 grid gap-4 sm:grid-cols-2",children:[(0,jsx_runtime.jsxs)("div",{className:"rounded-xl bg-[#f8fafc] p-4",children:[(0,jsx_runtime.jsxs)("div",{className:"mb-1 flex items-center gap-2 text-[#94a3b8] text-xs",children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-4 w-4",icon:index_min.K6s}),"People Referred"]}),(0,jsx_runtime.jsx)("div",{className:"font-bold text-2xl text-[#0f172a]",children:usesCount})]}),(0,jsx_runtime.jsxs)("div",{className:"rounded-xl bg-[#f8fafc] p-4",children:[(0,jsx_runtime.jsxs)("div",{className:"mb-1 flex items-center gap-2 text-[#94a3b8] text-xs",children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-4 w-4",icon:index_min.okO}),"Credits Earned"]}),(0,jsx_runtime.jsx)("div",{className:"font-bold text-2xl text-[#0f172a]",children:(0,format.Kq)(totalCreditsEarned/100)})]})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("div",{className:"mb-3 text-center text-[#94a3b8] text-xs uppercase tracking-wider",children:"Share via"}),(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,jsx_runtime.jsxs)("button",{className:"flex flex-col items-center justify-center gap-2 rounded-xl border border-[#e2e8f0] bg-[#f8fafc] p-4 transition hover:border-[#64748b] hover:bg-[#64748b]/5 active:scale-95",onClick:()=>handleShare("whatsapp"),type:"button",children:[(0,jsx_runtime.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-[#64748b]",children:(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-5 w-5 text-[#f8fafc]",icon:index_min.Ord})}),(0,jsx_runtime.jsx)("span",{className:"font-medium text-[#0f172a] text-xs",children:"WhatsApp"})]}),(0,jsx_runtime.jsxs)("button",{className:"flex flex-col items-center justify-center gap-2 rounded-xl border border-[#e2e8f0] bg-[#f8fafc] p-4 transition hover:border-[#64748b] hover:bg-[#64748b]/5 active:scale-95",onClick:()=>handleShare("twitter"),type:"button",children:[(0,jsx_runtime.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-[#64748b]",children:(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-5 w-5 text-[#f8fafc]",icon:index_min.Ord})}),(0,jsx_runtime.jsx)("span",{className:"font-medium text-[#0f172a] text-xs",children:"Twitter"})]}),(0,jsx_runtime.jsxs)("button",{className:"flex flex-col items-center justify-center gap-2 rounded-xl border border-[#e2e8f0] bg-[#f8fafc] p-4 transition hover:border-[#64748b] hover:bg-[#64748b]/5 active:scale-95",onClick:()=>handleShare("facebook"),type:"button",children:[(0,jsx_runtime.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-[#64748b]",children:(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-5 w-5 text-[#f8fafc]",icon:index_min.Ord})}),(0,jsx_runtime.jsx)("span",{className:"font-medium text-[#0f172a] text-xs",children:"Facebook"})]})]})]}),(0,jsx_runtime.jsx)("div",{className:"mt-6 rounded-lg bg-[#f8fafc] p-4",children:(0,jsx_runtime.jsx)("p",{className:"text-center text-[#94a3b8] text-xs leading-relaxed",children:"Credits expire after 1 year. Your friend must complete their first booking for you to earn rewards. Unlimited referrals allowed."})})]})}try{ReferralCard.displayName="ReferralCard",ReferralCard.__docgenInfo={description:"ReferralCard - Share code, earn rewards\n\nResearch insights applied:\n- 90%+ of successful programs use double-sided incentives\n- Clear value proposition increases sharing by 397%\n- Easy copy/share reduces friction\n- Visual rewards display motivates sharing",displayName:"ReferralCard",props:{code:{defaultValue:null,description:"",name:"code",required:!0,type:{name:"string"}},usesCount:{defaultValue:null,description:"",name:"usesCount",required:!0,type:{name:"number"}},totalCreditsEarned:{defaultValue:null,description:"",name:"totalCreditsEarned",required:!0,type:{name:"number"}},referrerReward:{defaultValue:null,description:"",name:"referrerReward",required:!0,type:{name:"number"}},refereeReward:{defaultValue:null,description:"",name:"refereeReward",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/referrals/referral-card.tsx#ReferralCard"]={docgenInfo:ReferralCard.__docgenInfo,name:"ReferralCard",path:"src/components/referrals/referral-card.tsx#ReferralCard"})}catch(__react_docgen_typescript_loader_error){}const referral_card_stories={title:"Referrals/ReferralCard",component:ReferralCard,parameters:{layout:"padded"},tags:["autodocs"]},Default={},__namedExportsOrder=["Default"]},"./src/lib/format.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function formatCurrency(amount,options={}){const{locale="es-CO",currency="COP",minimumFractionDigits=0,maximumFractionDigits="COP"===currency?0:2}=options,safeAmount=amount??0;return Number.isFinite(safeAmount)?new Intl.NumberFormat(locale,{style:"currency",currency,minimumFractionDigits,maximumFractionDigits}).format(safeAmount):new Intl.NumberFormat(locale,{style:"currency",currency,minimumFractionDigits,maximumFractionDigits}).format(0)}function formatCOP(amount){return formatCurrency(amount,{locale:"es-CO",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0})}function formatDate(date,options={}){if(!date)return"";const{locale="en-US",weekday,year="numeric",month="short",day="numeric"}=options;try{const dateObj="string"==typeof date?new Date(date):date;return!dateObj||Number.isNaN(dateObj.getTime())?"":dateObj.toLocaleDateString(locale,{weekday,year,month,day})}catch{return""}}__webpack_require__.d(__webpack_exports__,{Kq:()=>formatCOP,Yq:()=>formatDate,vv:()=>formatCurrency})}}]);