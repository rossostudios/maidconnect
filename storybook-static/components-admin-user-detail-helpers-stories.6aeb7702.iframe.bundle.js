"use strict";(self.webpackChunkcasaora=self.webpackChunkcasaora||[]).push([[28027],{"./node_modules/next/dist/client/use-merged-ref.js":(module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"useMergedRef",{enumerable:!0,get:function(){return useMergedRef}});const _react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");function useMergedRef(refA,refB){const cleanupA=(0,_react.useRef)(null),cleanupB=(0,_react.useRef)(null);return(0,_react.useCallback)(current=>{if(null===current){const cleanupFnA=cleanupA.current;cleanupFnA&&(cleanupA.current=null,cleanupFnA());const cleanupFnB=cleanupB.current;cleanupFnB&&(cleanupB.current=null,cleanupFnB())}else refA&&(cleanupA.current=applyRef(refA,current)),refB&&(cleanupB.current=applyRef(refB,current))},[refA,refB])}function applyRef(refA,current){if("function"==typeof refA){const cleanup=refA(current);return"function"==typeof cleanup?cleanup:()=>refA(null)}return refA.current=current,()=>{refA.current=null}}("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default)},"./src/components/admin/user-detail-helpers.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>user_detail_helpers_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),next_image=__webpack_require__("./node_modules/@storybook/nextjs/dist/images/next-image.js");function UserProfileHeader({user,activeSuspension,onManageSuspension}){return(0,jsx_runtime.jsxs)("div",{className:"mb-6 flex items-start justify-between",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-4",children:[(0,jsx_runtime.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-[#e2e8f0]",children:user.avatar_url?(0,jsx_runtime.jsx)(next_image.A,{alt:user.full_name||"User",className:"h-16 w-16 rounded-full object-cover",height:64,src:user.avatar_url,width:64}):(0,jsx_runtime.jsx)("span",{className:"type-ui-lg font-medium text-slate-600 dark:text-slate-400",children:(user.full_name||"?").charAt(0).toUpperCase()})}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("h2",{className:"type-ui-md font-semibold text-slate-900 dark:text-slate-100",children:user.full_name||"Unnamed User"}),(0,jsx_runtime.jsx)("p",{className:"type-body-sm text-slate-600 dark:text-slate-400",children:user.email}),(0,jsx_runtime.jsx)("span",{className:"type-ui-sm mt-2 inline-block rounded-lg bg-[bg-slate-900 dark:bg-slate-100/10] px-3 py-1 font-medium text-slate-900 dark:text-slate-100 capitalize",children:user.role})]})]}),(0,jsx_runtime.jsx)("button",{className:"type-ui-sm rounded-lg bg-slate-900 dark:bg-slate-100 px-4 py-2 font-medium text-white dark:text-slate-950 transition-colors hover:bg-slate-900 dark:bg-slate-100",onClick:onManageSuspension,type:"button",children:activeSuspension?"Manage Suspension":"Suspend/Ban"})]})}function SuspensionAlert({suspension}){const isPermanent="permanent"===suspension.type;return _jsxs("div",{className:"mb-6 rounded-lg border border-slate-900 dark:border-slate-100/30 bg-slate-900 dark:bg-slate-100/10 p-4",children:[_jsx("p",{className:"type-ui-sm mb-2 font-medium text-slate-900 dark:text-slate-100",children:isPermanent?"Banned":"Suspended"}),_jsxs("p",{className:"type-body-sm mb-1 text-slate-900 dark:text-slate-100",children:["Reason: ",suspension.reason]}),_jsxs("p",{className:"type-body-sm text-slate-900 dark:text-slate-100",children:["By: ",suspension.suspended_by.full_name||"Admin"]}),suspension.expires_at&&_jsx("p",{className:"type-body-sm mt-1 text-slate-900 dark:text-slate-100",children:formatSuspensionDuration(suspension.expires_at)})]})}function UserDetailsGrid({user}){return _jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_jsxs("div",{children:[_jsx("p",{className:"type-ui-sm mb-1 font-medium text-slate-900 dark:text-slate-100",children:"Phone"}),_jsx("p",{className:"type-body-sm text-slate-600 dark:text-slate-400",children:user.phone||"—"})]}),_jsxs("div",{children:[_jsx("p",{className:"type-ui-sm mb-1 font-medium text-slate-900 dark:text-slate-100",children:"City"}),_jsx("p",{className:"type-body-sm text-slate-600 dark:text-slate-400",children:user.city||"—"})]}),_jsxs("div",{children:[_jsx("p",{className:"type-ui-sm mb-1 font-medium text-slate-900 dark:text-slate-100",children:"Address"}),_jsx("p",{className:"type-body-sm text-slate-600 dark:text-slate-400",children:user.address||"—"})]}),_jsxs("div",{children:[_jsx("p",{className:"type-ui-sm mb-1 font-medium text-slate-900 dark:text-slate-100",children:"Joined"}),_jsx("p",{className:"type-body-sm text-slate-600 dark:text-slate-400",children:new Date(user.created_at).toLocaleDateString()})]})]})}function SuspensionHistoryList({suspensionHistory}){return 0===suspensionHistory.length?_jsx("p",{className:"type-body-sm text-slate-600 dark:text-slate-400",children:"No suspension history"}):_jsx("div",{className:"space-y-4",children:suspensionHistory.map(suspension=>_jsx(SuspensionHistoryCard,{suspension},suspension.id))})}function SuspensionHistoryCard({suspension}){const isPermanent="permanent"===suspension.suspension_type;return _jsxs("div",{className:"rounded-lg border border-slate-200 dark:border-slate-800 p-4",children:[_jsxs("div",{className:"mb-2 flex items-center justify-between",children:[_jsx("span",{className:"rounded px-2 py-1 font-medium text-xs bg-slate-900 dark:bg-slate-100/10 text-slate-900 dark:text-slate-100",children:isPermanent?"Banned":"Suspended"}),suspension.lifted_at&&_jsx("span",{className:"rounded bg-slate-900 dark:bg-slate-100/10 px-2 py-1 font-medium text-slate-900 dark:text-slate-100 text-xs",children:"Lifted"})]}),_jsxs("p",{className:"type-body-sm mb-1 text-slate-900 dark:text-slate-100",children:["Reason: ",suspension.reason]}),_jsxs("p",{className:"type-body-sm text-slate-600 dark:text-slate-400",children:["Date: ",new Date(suspension.suspended_at).toLocaleDateString()]}),suspension.lifted_at&&_jsxs("p",{className:"type-body-sm text-slate-600 dark:text-slate-400",children:["Lifted: ",new Date(suspension.lifted_at).toLocaleDateString()]})]})}function UserStatsCard({stats}){return _jsxs("div",{className:"rounded-2xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 p-6",children:[_jsx("h3",{className:"type-ui-md mb-4 font-semibold text-slate-900 dark:text-slate-100",children:"Stats"}),_jsxs("div",{className:"space-y-4",children:[stats.bookings&&_jsxs(_Fragment,{children:[_jsxs("div",{children:[_jsx("p",{className:"type-ui-sm font-medium text-slate-900 dark:text-slate-100",children:"Total Bookings"}),_jsx("p",{className:"type-ui-lg font-bold text-slate-900 dark:text-slate-100",children:stats.bookings.total})]}),_jsxs("div",{children:[_jsx("p",{className:"type-ui-sm font-medium text-slate-900 dark:text-slate-100",children:"Completed"}),_jsx("p",{className:"type-ui-lg font-bold text-slate-900 dark:text-slate-100",children:stats.bookings.completed})]})]}),_jsxs("div",{children:[_jsx("p",{className:"type-ui-sm font-medium text-slate-900 dark:text-slate-100",children:"Disputes"}),_jsx("p",{className:"type-ui-lg font-bold text-slate-900 dark:text-slate-100",children:stats.disputes})]})]})]})}try{UserProfileHeader.displayName="UserProfileHeader",UserProfileHeader.__docgenInfo={description:"",displayName:"UserProfileHeader",props:{user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"User"}},activeSuspension:{defaultValue:null,description:"",name:"activeSuspension",required:!0,type:{name:"Suspension"}},onManageSuspension:{defaultValue:null,description:"",name:"onManageSuspension",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/admin/user-detail-helpers.tsx#UserProfileHeader"]={docgenInfo:UserProfileHeader.__docgenInfo,name:"UserProfileHeader",path:"src/components/admin/user-detail-helpers.tsx#UserProfileHeader"})}catch(__react_docgen_typescript_loader_error){}try{SuspensionAlert.displayName="SuspensionAlert",SuspensionAlert.__docgenInfo={description:"",displayName:"SuspensionAlert",props:{suspension:{defaultValue:null,description:"",name:"suspension",required:!0,type:{name:"Suspension"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/admin/user-detail-helpers.tsx#SuspensionAlert"]={docgenInfo:SuspensionAlert.__docgenInfo,name:"SuspensionAlert",path:"src/components/admin/user-detail-helpers.tsx#SuspensionAlert"})}catch(__react_docgen_typescript_loader_error){}try{UserDetailsGrid.displayName="UserDetailsGrid",UserDetailsGrid.__docgenInfo={description:"",displayName:"UserDetailsGrid",props:{user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"User"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/admin/user-detail-helpers.tsx#UserDetailsGrid"]={docgenInfo:UserDetailsGrid.__docgenInfo,name:"UserDetailsGrid",path:"src/components/admin/user-detail-helpers.tsx#UserDetailsGrid"})}catch(__react_docgen_typescript_loader_error){}try{SuspensionHistoryList.displayName="SuspensionHistoryList",SuspensionHistoryList.__docgenInfo={description:"",displayName:"SuspensionHistoryList",props:{suspensionHistory:{defaultValue:null,description:"",name:"suspensionHistory",required:!0,type:{name:"SuspensionHistoryItem[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/admin/user-detail-helpers.tsx#SuspensionHistoryList"]={docgenInfo:SuspensionHistoryList.__docgenInfo,name:"SuspensionHistoryList",path:"src/components/admin/user-detail-helpers.tsx#SuspensionHistoryList"})}catch(__react_docgen_typescript_loader_error){}try{UserStatsCard.displayName="UserStatsCard",UserStatsCard.__docgenInfo={description:"",displayName:"UserStatsCard",props:{stats:{defaultValue:null,description:"",name:"stats",required:!0,type:{name:"{ bookings: { total: number; completed: number; }; disputes: number; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/admin/user-detail-helpers.tsx#UserStatsCard"]={docgenInfo:UserStatsCard.__docgenInfo,name:"UserStatsCard",path:"src/components/admin/user-detail-helpers.tsx#UserStatsCard"})}catch(__react_docgen_typescript_loader_error){}const user_detail_helpers_stories={title:"Admin/User Profile Header",component:UserProfileHeader,parameters:{layout:"centered"},tags:["autodocs"]},Default={args:{}},__namedExportsOrder=["Default"]}}]);