"use strict";(self.webpackChunkcasaora=self.webpackChunkcasaora||[]).push([[4571,52136],{"./src/components/help/article-tags.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>ArticleTags});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),next_link__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/link.js"),next_link__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_1__),_lib_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/lib/utils.ts");const colorMap={blue:"bg-blue-100 text-blue-700 hover:bg-blue-200",green:"bg-green-100 text-green-700 hover:bg-green-200",red:"bg-red-100 text-red-700 hover:bg-red-200",orange:"bg-orange-100 text-orange-700 hover:bg-orange-200",purple:"bg-purple-100 text-purple-700 hover:bg-purple-200",gray:"bg-slate-100 text-slate-700 hover:bg-slate-200",pink:"bg-pink-100 text-pink-700 hover:bg-pink-200",indigo:"bg-indigo-100 text-indigo-700 hover:bg-indigo-200"};function ArticleTags({tags,locale,className}){return tags&&0!==tags.length?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex flex-wrap gap-2",className),children:tags.map(tag=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_link__WEBPACK_IMPORTED_MODULE_1___default(),{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("rounded-full px-3 py-1 font-medium text-sm transition",colorMap[tag.color]||colorMap.gray),href:`/${locale}/help?tag=${tag.slug}`,children:"es"===locale?tag.name_es:tag.name_en},tag.id))}):null}try{ArticleTags.displayName="ArticleTags",ArticleTags.__docgenInfo={description:"",displayName:"ArticleTags",props:{tags:{defaultValue:null,description:"",name:"tags",required:!0,type:{name:"ArticleTag[]"}},locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/help/article-tags.tsx#ArticleTags"]={docgenInfo:ArticleTags.__docgenInfo,name:"ArticleTags",path:"src/components/help/article-tags.tsx#ArticleTags"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/help/article-viewer.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>ArticleViewer});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),index_min=__webpack_require__("./node_modules/@hugeicons/core-free-icons/dist/esm/index.min.js"),HugeiconsIcon=__webpack_require__("./node_modules/@hugeicons/react/dist/esm/HugeiconsIcon.js"),dist=__webpack_require__("./node_modules/@portabletext/react/dist/index.js"),next_link=__webpack_require__("./node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),react_client=__webpack_require__("./node_modules/next-intl/dist/esm/production/react-client/index.js"),react=__webpack_require__("./node_modules/use-intl/dist/esm/production/react.js"),compiled_react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),article_tags=__webpack_require__("./src/components/help/article-tags.tsx"),next_image=__webpack_require__("./node_modules/@storybook/nextjs/dist/images/next-image.js"),image_url_umd=__webpack_require__("./node_modules/@sanity/image-url/lib/browser/image-url.umd.js"),image_url_umd_default=__webpack_require__.n(image_url_umd),client=__webpack_require__("./src/lib/sanity/client.ts");const builder=image_url_umd_default()(client.Sn);const portableTextComponents={block:{h1:({children})=>(0,jsx_runtime.jsx)("h1",{className:"scroll-m-20 text-4xl font-bold tracking-tight lg:text-5xl mb-6",children}),h2:({children})=>(0,jsx_runtime.jsx)("h2",{className:"scroll-m-20 border-b pb-2 text-3xl font-semibold tracking-tight first:mt-0 mb-4 mt-8",children}),h3:({children})=>(0,jsx_runtime.jsx)("h3",{className:"scroll-m-20 text-2xl font-semibold tracking-tight mb-4 mt-6",children}),h4:({children})=>(0,jsx_runtime.jsx)("h4",{className:"scroll-m-20 text-xl font-semibold tracking-tight mb-3 mt-4",children}),normal:({children})=>(0,jsx_runtime.jsx)("p",{className:"leading-7 [&:not(:first-child)]:mt-4 text-[#AA88AAAAC]",children}),blockquote:({children})=>(0,jsx_runtime.jsx)("blockquote",{className:"mt-6 border-l-4 border-[#FF4444A22] pl-6 italic text-[#AA88AAAAC]",children})},list:{bullet:({children})=>(0,jsx_runtime.jsx)("ul",{className:"my-6 ml-6 list-disc [&>li]:mt-2 text-[#AA88AAAAC]",children}),number:({children})=>(0,jsx_runtime.jsx)("ol",{className:"my-6 ml-6 list-decimal [&>li]:mt-2 text-[#AA88AAAAC]",children})},listItem:{bullet:({children})=>(0,jsx_runtime.jsx)("li",{className:"leading-7",children}),number:({children})=>(0,jsx_runtime.jsx)("li",{className:"leading-7",children})},marks:{strong:({children})=>(0,jsx_runtime.jsx)("strong",{className:"font-semibold text-[#116611616]",children}),em:({children})=>(0,jsx_runtime.jsx)("em",{className:"italic",children}),code:({children})=>(0,jsx_runtime.jsx)("code",{className:"relative rounded bg-[#EE44EE2E3]/30 px-[0.3rem] py-[0.2rem] font-mono text-sm font-semibold text-[#116611616]",children}),underline:({children})=>(0,jsx_runtime.jsx)("u",{className:"underline",children}),"strike-through":({children})=>(0,jsx_runtime.jsx)("s",{className:"line-through",children}),link:({children,value})=>{const href=value?.href||"#",blank=value?.blank;return href.startsWith("http")?(0,jsx_runtime.jsx)("a",{href,target:blank?"_blank":void 0,rel:blank?"noopener noreferrer":void 0,className:"font-medium text-[#FF4444A22] underline underline-offset-4 hover:text-[#FF4444A22]",children}):(0,jsx_runtime.jsx)(link_default(),{href,className:"font-medium text-[#FF4444A22] underline underline-offset-4 hover:text-[#FF4444A22]",children})},internalLink:({children,value})=>{const reference=value?.reference;let href="#";return"helpArticle"===reference?._type?href=`/help/${reference.category?.slug?.current}/${reference.slug?.current}`:"changelog"===reference?._type?href=`/changelog/${reference.slug?.current}`:"roadmapItem"===reference?._type?href=`/roadmap#${reference.slug?.current}`:"page"===reference?._type&&(href=`/${reference.slug?.current}`),(0,jsx_runtime.jsx)(link_default(),{href,className:"font-medium text-[#FF4444A22] underline underline-offset-4 hover:text-[#FF4444A22]",children})}},types:{image:({value})=>{if(!value?.asset)return null;const imageUrl=function urlFor(source){return builder.image(source)}(value).width(800).url(),blurDataUrl=function getBlurDataUrl(source){return builder.image(source).width(20).height(20).blur(50).quality(20).format("jpg").url()}(value),alt=value?.alt||value?.caption||"Content image";return(0,jsx_runtime.jsxs)("figure",{className:"my-8",children:[(0,jsx_runtime.jsx)("div",{className:"relative aspect-video overflow-hidden rounded-lg border border-[#EE44EE2E3]",children:(0,jsx_runtime.jsx)(next_image.A,{src:imageUrl,alt,fill:!0,className:"object-cover",placeholder:"blur",blurDataURL:blurDataUrl,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 80vw, 800px"})}),value?.caption&&(0,jsx_runtime.jsx)("figcaption",{className:"mt-2 text-center text-sm text-[#AA88AAAAC]",children:value.caption})]})},code:({value})=>{const{code,language,filename}=value||{};return(0,jsx_runtime.jsxs)("div",{className:"my-6",children:[filename&&(0,jsx_runtime.jsx)("div",{className:"rounded-t-lg bg-[#116611616] px-4 py-2 text-sm text-[#AA88AAAAC]/50 font-mono",children:filename}),(0,jsx_runtime.jsx)("pre",{className:`overflow-x-auto p-4 ${filename?"rounded-b-lg":"rounded-lg"} bg-[#116611616]`,children:(0,jsx_runtime.jsx)("code",{className:`text-sm text-[#FFEEFF8E8] font-mono language-${language||"plaintext"}`,children:code})})]})}}};function SanityPortableText({value,components}){return _jsx(PortableText,{value,components:components||portableTextComponents})}try{SanityPortableText.displayName="SanityPortableText",SanityPortableText.__docgenInfo={description:"Wrapper component for Portable Text rendering",displayName:"SanityPortableText",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}},components:{defaultValue:null,description:"",name:"components",required:!1,type:{name:"Partial<PortableTextReactComponents>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/sanity/portable-text.tsx#SanityPortableText"]={docgenInfo:SanityPortableText.__docgenInfo,name:"SanityPortableText",path:"src/lib/sanity/portable-text.tsx#SanityPortableText"})}catch(__react_docgen_typescript_loader_error){}try{portableTextComponents.displayName="portableTextComponents",portableTextComponents.__docgenInfo={description:"Portable Text components for rendering rich text content from Sanity\nCustomizes how different block types are rendered",displayName:"portableTextComponents",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/sanity/portable-text.tsx#portableTextComponents"]={docgenInfo:portableTextComponents.__docgenInfo,name:"portableTextComponents",path:"src/lib/sanity/portable-text.tsx#portableTextComponents"})}catch(__react_docgen_typescript_loader_error){}var browser_client=__webpack_require__("./src/lib/supabase/browser-client.ts"),toast=__webpack_require__("./src/lib/toast.ts"),utils=__webpack_require__("./src/lib/utils.ts"),console=__webpack_require__("./node_modules/console-browserify/index.js");const articleTheme={shell:"mx-auto w-full max-w-4xl space-y-10 px-4 sm:px-0",metaCard:"flex flex-wrap items-center gap-4 rounded-2xl border border-[#e2e8f0] bg-[#f8fafc]/90 px-4 py-3 text-sm text-[#94a3b8]",gradientCard:"rounded-3xl border border-[#e2e8f0] bg-gradient-to-br from-[#f8fafc] via-[#f8fafc] to-[bg-[#f8fafc]] px-6 py-5"};function ArticleViewer({article,articleId,categorySlug,categoryName,isAdmin=!1,relatedArticles=[],showRelatedArticles=!0}){const t=(0,react_client.c3)("help.article"),locale=(0,react.Ym)(),[feedbackSubmitted,setFeedbackSubmitted]=(0,compiled_react.useState)(!1),[feedbackType,setFeedbackType]=(0,compiled_react.useState)(null),[showFeedbackForm,setShowFeedbackForm]=(0,compiled_react.useState)(!1),[feedbackText,setFeedbackText]=(0,compiled_react.useState)(""),[submitting,setSubmitting]=(0,compiled_react.useState)(!1),[selectedQuickResponse,setSelectedQuickResponse]=(0,compiled_react.useState)(null),contentRef=(0,compiled_react.useRef)(null),quickResponses="en"===locale?["Too technical","Missing steps","Outdated info","Confusing","Wrong article"]:["Muy técnico","Faltan pasos","Info desactualizada","Confuso","Artículo equivocado"],readTime=function calculateReadTime(content){const wordCount=content.map(block=>"block"===block._type&&Array.isArray(block.children)?block.children.filter(child=>"span"===child._type).map(child=>child.text||"").join(" "):"").join(" ").trim().split(/\s+/).length;return Math.ceil(wordCount/200)}(article.content),recentlyUpdated=function isRecentlyUpdated(updatedAt){const thirtyDaysAgo=new Date;return thirtyDaysAgo.setDate(thirtyDaysAgo.getDate()-30),new Date(updatedAt)>thirtyDaysAgo}(article.updated_at),handleFeedback=async isHelpful=>{if(!feedbackSubmitted){setSubmitting(!0);try{const supabase=(0,browser_client.createSupabaseBrowserClient)();let sessionId=localStorage.getItem("help_session_id");sessionId||(sessionId=crypto.randomUUID(),localStorage.setItem("help_session_id",sessionId));const{data:{user}}=await supabase.auth.getUser(),{error}=await supabase.from("help_article_feedback").insert({article_id:article._id,user_id:user?.id||null,session_id:user?null:sessionId,is_helpful:isHelpful,feedback_text:feedbackText||null});error?"23505"===error.code?toast.o.info(t("feedback.alreadySubmitted")):(console.error("Feedback error:",error),toast.o.error(t("feedback.error"))):(setFeedbackSubmitted(!0),setFeedbackType(isHelpful?"helpful":"not_helpful"),isHelpful||feedbackText||setShowFeedbackForm(!0))}catch(error){console.error("Feedback submission failed:",error),toast.o.error(t("feedback.error"))}finally{setSubmitting(!1)}}};return(0,compiled_react.useEffect)(()=>{const contentElement=contentRef.current;if(!contentElement)return;contentElement.querySelectorAll(".back-to-top-btn").forEach(btn=>btn.remove());const backToTopBtn=document.createElement("div");backToTopBtn.className="back-to-top-btn mt-8 mb-8 flex justify-center sm:justify-end",backToTopBtn.innerHTML=`\n      <button\n        type="button"\n        class="inline-flex items-center gap-2 rounded-lg border border-[#e2e8f0] bg-[#f8fafc] px-4 py-2 text-sm font-medium text-[#94a3b8] transition hover:border-[#94a3b8]/40 hover:bg-[#f8fafc] hover:text-[#0f172a]"\n        aria-label="${"en"===locale?"Back to top":"Volver arriba"}"\n      >\n        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" />\n        </svg>\n        <span>${"en"===locale?"Back to top":"Volver arriba"}</span>\n      </button>\n    `;const button=backToTopBtn.querySelector("button");return button?.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),contentElement.appendChild(backToTopBtn),()=>{contentElement.querySelectorAll(".back-to-top-btn").forEach(btn=>btn.remove())}},[article.content,locale]),(0,jsx_runtime.jsxs)("div",{className:articleTheme.shell,children:[(0,jsx_runtime.jsxs)("nav",{className:"flex items-center gap-2 text-[#94a3b8] text-sm",children:[(0,jsx_runtime.jsx)(link_default(),{className:"hover:text-[#64748b]",href:`/${locale}/help`,children:t("breadcrumb.home")}),(0,jsx_runtime.jsx)("span",{children:"/"}),(0,jsx_runtime.jsx)(link_default(),{className:"hover:text-[#64748b]",href:`/${locale}/help/${categorySlug}`,children:categoryName})]}),(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[(0,jsx_runtime.jsx)("h1",{className:"font-semibold text-3xl text-[#0f172a] tracking-tight md:text-[40px] md:leading-tight",children:article.title}),isAdmin&&articleId&&(0,jsx_runtime.jsxs)(link_default(),{className:"inline-flex shrink-0 items-center gap-2 rounded-2xl border border-[#e2e8f0] bg-[#f8fafc] px-4 py-2 font-medium text-[#94a3b8] text-xs shadow-sm transition hover:border-[#64748b]/40 hover:text-[#64748b]",href:`/${locale}/admin/help/articles/${articleId}/edit`,children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-3.5 w-3.5",icon:index_min.nIA}),(0,jsx_runtime.jsx)("span",{children:"en"===locale?"Edit":"Editar"})]})]}),article.tags&&article.tags.length>0&&(0,jsx_runtime.jsx)(article_tags.c,{locale,tags:article.tags}),(0,jsx_runtime.jsxs)("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,2fr)_320px]",children:[(0,jsx_runtime.jsxs)("div",{className:articleTheme.metaCard,children:[recentlyUpdated&&(0,jsx_runtime.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full bg-[#64748b]/10 px-3 py-1 font-semibold text-[#64748b] text-xs",children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-3.5 w-3.5",icon:index_min.XL2}),t("meta.recentlyUpdated")]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-4 w-4 text-[#94a3b8]/70",icon:index_min.vxL}),(0,jsx_runtime.jsx)("span",{children:t("meta.updated",{date:(dateString=>{const date=new Date(dateString);return new Intl.DateTimeFormat(locale,{year:"numeric",month:"long",day:"numeric"}).format(date)})(article.updated_at)})})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-4 w-4 text-[#94a3b8]/70",icon:index_min.tCQ}),(0,jsx_runtime.jsx)("span",{children:t("meta.views",{count:article.view_count})})]})]}),(0,jsx_runtime.jsxs)("div",{className:(0,utils.cn)(articleTheme.gradientCard,"lg:sticky lg:top-6"),children:[(0,jsx_runtime.jsxs)("div",{className:"mb-3 flex items-center gap-2",children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-5 w-5 text-[#94a3b8]",icon:index_min.jEv}),(0,jsx_runtime.jsx)("h3",{className:"font-semibold text-lg text-[#0f172a]",children:"en"===locale?"Need to Know":"Lo que necesitas saber"})]}),(0,jsx_runtime.jsxs)("div",{className:"space-y-3 text-[#94a3b8] text-sm",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-start gap-2",children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"mt-0.5 h-4 w-4 text-[#94a3b8]",icon:index_min.p19}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("span",{className:"font-medium",children:"en"===locale?"Read time:":"Tiempo de lectura:"})," ",readTime," ","min"]})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-start gap-2",children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"mt-0.5 h-4 w-4 text-[#64748b]",icon:index_min.XL2}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("span",{className:"font-medium",children:"en"===locale?"You'll learn:":"Aprenderás:"})," ","en"===locale?"Step-by-step guide to complete this task":"Guía paso a paso para completar esta tarea"]})]}),relatedArticles.length>0&&(0,jsx_runtime.jsxs)("div",{className:"flex items-start gap-2",children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"mt-0.5 h-4 w-4 text-[#64748b]",icon:index_min.Z9U}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("span",{className:"font-medium",children:"en"===locale?"Related:":"Relacionado:"})," ",relatedArticles.length," ","en"===locale?"articles":"artículos"]})]})]})]})]})]}),(0,jsx_runtime.jsx)("div",{className:"prose prose-lg w-full max-w-none prose-a:text-[#64748b] prose-headings:text-[#0f172a] prose-p:text-[#0f172a]",ref:contentRef,children:(0,jsx_runtime.jsx)(dist.RK,{value:article.content,components:portableTextComponents})}),(0,jsx_runtime.jsxs)("div",{className:"rounded-3xl border border-[#e2e8f0] bg-[#f8fafc]/80 px-6 py-8",children:[feedbackSubmitted?(0,jsx_runtime.jsxs)("div",{className:"rounded-lg bg-[#64748b]/10 p-6 text-[#64748b]",children:[(0,jsx_runtime.jsx)("p",{className:"mb-2 font-semibold text-lg",children:t("helpful"===feedbackType?"feedback.thanksHelpful":"feedback.thanksNotHelpful")}),(0,jsx_runtime.jsx)("p",{className:"text-[#64748b] text-sm",children:"en"===locale?"Your feedback helps us improve our help center.":"Tu retroalimentación nos ayuda a mejorar nuestro centro de ayuda."})]}):(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("h3",{className:"mb-6 font-semibold text-[#0f172a] text-xl",children:"en"===locale?"Did this article help you complete your task?":"¿Este artículo te ayudó a completar tu tarea?"}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,jsx_runtime.jsxs)("button",{className:"flex items-center gap-2 rounded-lg border border-[#94a3b8]/40 bg-[#f8fafc] px-6 py-3 font-medium text-[#94a3b8] transition hover:border-[#64748b] hover:bg-[#64748b]/10 hover:text-[#64748b] disabled:opacity-50",disabled:submitting,onClick:()=>handleFeedback(!0),type:"button",children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-5 w-5",icon:index_min.nT}),t("feedback.helpful")]}),(0,jsx_runtime.jsxs)("button",{className:"flex items-center gap-2 rounded-lg border border-[#94a3b8]/40 bg-[#f8fafc] px-6 py-3 font-medium text-[#94a3b8] transition hover:border-[#64748b]/100 hover:bg-[#64748b]/10 hover:text-[#64748b] disabled:opacity-50",disabled:submitting,onClick:()=>{setShowFeedbackForm(!0),handleFeedback(!1)},type:"button",children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-5 w-5",icon:index_min.d2e}),t("feedback.notHelpful")]})]})]}),showFeedbackForm&&!feedbackSubmitted&&(0,jsx_runtime.jsxs)("div",{className:"mt-6 rounded-lg border border-[#e2e8f0] bg-[#f8fafc] p-6",children:[(0,jsx_runtime.jsx)("h4",{className:"mb-4 font-semibold text-[#0f172a] text-lg",children:"en"===locale?"What stopped you from completing your task?":"¿Qué te impidió completar tu tarea?"}),(0,jsx_runtime.jsxs)("div",{className:"mb-4",children:[(0,jsx_runtime.jsx)("p",{className:"mb-3 text-[#94a3b8] text-sm",children:"en"===locale?"Quick responses:":"Respuestas rápidas:"}),(0,jsx_runtime.jsx)("div",{className:"flex flex-wrap gap-2",children:quickResponses.map(response=>(0,jsx_runtime.jsx)("button",{className:(0,utils.cn)("rounded-full border px-4 py-2 text-sm transition-all",selectedQuickResponse===response?"border-[#64748b] bg-[#64748b]/10 text-[#64748b]":"border-[#94a3b8]/40 bg-[#f8fafc] text-[#94a3b8] hover:border-[#94a3b8] hover:bg-[#f8fafc]"),onClick:()=>{setSelectedQuickResponse(response),setFeedbackText(response)},type:"button",children:response},response))})]}),(0,jsx_runtime.jsxs)("div",{className:"mb-4",children:[(0,jsx_runtime.jsx)("label",{className:"mb-2 block font-medium text-[#94a3b8] text-sm",children:"en"===locale?"Additional details (optional):":"Detalles adicionales (opcional):"}),(0,jsx_runtime.jsx)("textarea",{className:"w-full rounded-lg border border-[#94a3b8]/40 p-3 text-sm focus:border-[#64748b] focus:outline-none focus:ring-2 focus:ring-[#64748b]/20",onChange:e=>setFeedbackText(e.target.value),placeholder:"en"===locale?"Tell us more about your experience...":"Cuéntanos más sobre tu experiencia...",rows:4,value:selectedQuickResponse===feedbackText?"":feedbackText})]}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,jsx_runtime.jsx)("button",{className:"rounded-lg bg-[#64748b] px-6 py-2 font-medium text-sm text-[#f8fafc] transition hover:bg-[#64748b] disabled:opacity-50",disabled:submitting||!feedbackText,onClick:async()=>{if(feedbackText.trim()){setSubmitting(!0);try{const supabase=(0,browser_client.createSupabaseBrowserClient)(),sessionId=localStorage.getItem("help_session_id"),{data:{user}}=await supabase.auth.getUser();await supabase.from("help_article_feedback").update({feedback_text:feedbackText}).match({article_id:article._id,...user?{user_id:user.id}:{session_id:sessionId}}),setShowFeedbackForm(!1)}catch(error){console.error("Feedback update failed:",error)}finally{setSubmitting(!1)}}else setShowFeedbackForm(!1)},type:"button",children:submitting?"en"===locale?"Submitting...":"Enviando...":t("feedback.submit")}),(0,jsx_runtime.jsx)("button",{className:"rounded-lg border border-[#94a3b8]/40 bg-[#f8fafc] px-6 py-2 font-medium text-[#94a3b8] text-sm transition hover:bg-[#f8fafc]",onClick:()=>setShowFeedbackForm(!1),type:"button",children:t("feedback.skip")})]})]})]}),showRelatedArticles&&relatedArticles.length>0&&(0,jsx_runtime.jsxs)("div",{className:"mx-auto mb-12 max-w-3xl",children:[(0,jsx_runtime.jsx)("h3",{className:"mb-6 font-semibold text-[#0f172a] text-xl",children:t("related.title")}),(0,jsx_runtime.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:relatedArticles.map(related=>(0,jsx_runtime.jsxs)(link_default(),{className:"group rounded-2xl border border-[#e2e8f0] bg-[#f8fafc]/80 p-5 transition hover:border-[#64748b]/40 hover:shadow-md",href:`/${locale}/help/${related.category_slug}/${related.slug}`,children:[(0,jsx_runtime.jsx)("h4",{className:"mb-2 font-semibold text-[#0f172a] group-hover:text-[#64748b]",children:related.title}),related.excerpt&&(0,jsx_runtime.jsx)("p",{className:"text-[#94a3b8] text-sm",children:related.excerpt}),(0,jsx_runtime.jsxs)("div",{className:"mt-3 flex items-center text-[#64748b] text-sm",children:[(0,jsx_runtime.jsx)("span",{children:t("related.readMore")}),(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"ml-1 h-4 w-4",icon:index_min.eXO})]})]},related.id))})]}),(0,jsx_runtime.jsxs)("div",{className:(0,utils.cn)(articleTheme.gradientCard,"text-center"),children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"mx-auto mb-4 h-12 w-12 text-[#64748b]",icon:index_min.s7I}),(0,jsx_runtime.jsx)("h3",{className:"mb-2 font-semibold text-[#0f172a] text-xl",children:t("contact.title")}),(0,jsx_runtime.jsx)("p",{className:"mb-6 text-[#94a3b8]",children:t("contact.description")}),(0,jsx_runtime.jsxs)(link_default(),{className:"inline-flex items-center gap-2 rounded-xl bg-[#64748b] px-6 py-3 font-semibold text-[#f8fafc] transition hover:bg-[#64748b]",href:`/${locale}/contact`,children:[t("contact.button"),(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-5 w-5",icon:index_min.eXO})]})]})]})}try{ArticleViewer.displayName="ArticleViewer",ArticleViewer.__docgenInfo={description:"",displayName:"ArticleViewer",props:{article:{defaultValue:null,description:"",name:"article",required:!0,type:{name:"HelpArticle"}},articleId:{defaultValue:null,description:"",name:"articleId",required:!1,type:{name:"string"}},categorySlug:{defaultValue:null,description:"",name:"categorySlug",required:!0,type:{name:"string"}},categoryName:{defaultValue:null,description:"",name:"categoryName",required:!0,type:{name:"string"}},isAdmin:{defaultValue:{value:"false"},description:"",name:"isAdmin",required:!1,type:{name:"boolean"}},relatedArticles:{defaultValue:{value:"[]"},description:"",name:"relatedArticles",required:!1,type:{name:"RelatedArticle[]"}},showRelatedArticles:{defaultValue:{value:"true"},description:"",name:"showRelatedArticles",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/help/article-viewer.tsx#ArticleViewer"]={docgenInfo:ArticleViewer.__docgenInfo,name:"ArticleViewer",path:"src/components/help/article-viewer.tsx#ArticleViewer"})}catch(__react_docgen_typescript_loader_error){}},"./src/lib/sanity/client.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{LT:()=>serverClient,Sn:()=>client});var next_sanity__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@sanity/client/dist/index.browser.js");const client=(0,next_sanity__WEBPACK_IMPORTED_MODULE_0__.UU)({projectId:"7j0vrfmg",dataset:"production",apiVersion:"2025-01-10",useCdn:!0,perspective:"published"}),serverClient=(0,next_sanity__WEBPACK_IMPORTED_MODULE_0__.UU)({projectId:"7j0vrfmg",dataset:"production",apiVersion:"2025-01-10",useCdn:!1,token:"skGDIwanwjDYeb6N2sLX2DoXCkyQumNxmNoNx3Clv634pRdo8P8LlrwBRonCKqzdS2b3gFUfKtJFlzlqOj6Ds1MVgNbpL92EIdC5ZPCKsVNtPGZIVHajXw1KCU7Sy3TOosOuVQOrL9l0Tj4YXFww4mXimRJ0tJoWOuGFKWTff38vte5hsWLH",perspective:"published"});(0,next_sanity__WEBPACK_IMPORTED_MODULE_0__.UU)({projectId:"7j0vrfmg",dataset:"production",apiVersion:"2025-01-10",useCdn:!1,token:"skcPEf1f8pSJLRNYolx3WoYbJcsBrlVCAJYNpSr8MzjUrVFknY1aEzmjsnPsxQvJJHT7KPMYcpLLV63SRWV0QBMuOdPgt4y0lpNth2MKNRXwsGTtoKOqlXufZ6k7T3ICC4Uihh1JgwikqUpb1EGVxKrRL6Q4eBm3hAmsKxSTNOg1GYkfQ7NG"})},"./src/lib/supabase/browser-client.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{createSupabaseBrowserClient:()=>createSupabaseBrowserClient});var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@supabase/ssr/dist/module/index.js");function createSupabaseBrowserClient(){const supabaseUrl="https://hvnetxfsrtplextvtwfx.supabase.co",supabaseKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh2bmV0eGZzcnRwbGV4dHZ0d2Z4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE1ODc0NTEsImV4cCI6MjA3NzE2MzQ1MX0.7-N06om_ntUuGP1NZ0Zcqz01s975xJfiKno34aIW__o";return(0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createBrowserClient)(supabaseUrl,supabaseKey)}},"./src/lib/toast.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{l:()=>confirm,o:()=>toast});let toastContainer=null;function showToast(message,options={}){const{duration=3e3,type="info"}=options,container=function getToastContainer(){return toastContainer&&document.body.contains(toastContainer)||(toastContainer=document.createElement("div"),toastContainer.id="toast-container",toastContainer.style.cssText="\n    position: fixed;\n    top: 20px;\n    right: 20px;\n    z-index: 9999;\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    pointer-events: none;\n  ",document.body.appendChild(toastContainer)),toastContainer}(),toast=document.createElement("div");if(toast.textContent=message,toast.style.cssText=function getToastStyles(type){return"\n    padding: 12px 20px;\n    border-radius: 8px;\n    font-family: system-ui, -apple-system, sans-serif;\n    font-size: 14px;\n    font-weight: 500;\n    box-shadow: 0 4px 12px rgba(22, 22, 22, 0.15);\n    pointer-events: auto;\n    min-width: 300px;\n    max-width: 500px;\n    word-wrap: break-word;\n    animation: slideIn 0.3s ease-out;\n  "+{success:"background-color: #FF4444A22; color: white;",error:"background-color: #FF4444A22; color: white;",info:"background-color: #FF4444A22; color: white;",warning:"background-color: #FF4444A22; color: white;"}[type]}(type),!document.getElementById("toast-animations")){const style=document.createElement("style");style.id="toast-animations",style.textContent="\n      @keyframes slideIn {\n        from {\n          transform: translateX(100%);\n          opacity: 0;\n        }\n        to {\n          transform: translateX(0);\n          opacity: 1;\n        }\n      }\n      @keyframes slideOut {\n        from {\n          transform: translateX(0);\n          opacity: 1;\n        }\n        to {\n          transform: translateX(100%);\n          opacity: 0;\n        }\n      }\n    ",document.head.appendChild(style)}container.appendChild(toast),setTimeout(()=>{toast.style.animation="slideOut 0.3s ease-in",setTimeout(()=>{toast.parentNode&&toast.parentNode.removeChild(toast),0===container.children.length&&container.parentNode&&(container.parentNode.removeChild(container),toastContainer=null)},300)},duration)}const toast={success:(message,duration)=>showToast(message,{type:"success",duration}),error:(message,duration)=>showToast(message,{type:"error",duration}),info:(message,duration)=>showToast(message,{type:"info",duration}),warning:(message,duration)=>showToast(message,{type:"warning",duration})};function confirm(message,title="Confirm"){return new Promise(resolve=>{const overlay=document.createElement("div");overlay.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background-color: rgba(22, 22, 22, 0.5);\n      z-index: 10000;\n      display: flex;\n      align-items: center;\n      justify-center;\n      animation: fadeIn 0.2s ease-out;\n    ";const modal=document.createElement("div");modal.style.cssText="\n      background-color: white;\n      border-radius: 12px;\n      padding: 24px;\n      max-width: 400px;\n      width: 90%;\n      box-shadow: 0 20px 25px -5px rgba(22, 22, 22, 0.1);\n      animation: scaleIn 0.2s ease-out;\n    ";const titleElement=document.createElement("h3");titleElement.textContent=title,titleElement.style.cssText="\n      font-size: 18px;\n      font-weight: 600;\n      color: #116611616;\n      margin-bottom: 12px;\n    ";const messageElement=document.createElement("p");messageElement.textContent=message,messageElement.style.cssText="\n      font-size: 14px;\n      color: #116611616;\n      margin-bottom: 20px;\n      line-height: 1.5;\n    ";const buttonContainer=document.createElement("div");buttonContainer.style.cssText="\n      display: flex;\n      gap: 12px;\n      justify-content: flex-end;\n    ";const cancelButton=document.createElement("button");cancelButton.textContent="Cancel",cancelButton.style.cssText="\n      padding: 8px 16px;\n      border-radius: 8px;\n      border: 2px solid #EE44EE2E3;\n      background-color: white;\n      color: #116611616;\n      font-weight: 600;\n      font-size: 14px;\n      cursor: pointer;\n      transition: all 0.2s;\n    ",cancelButton.onmouseover=()=>{cancelButton.style.borderColor="#AA88AAAAC",cancelButton.style.color="#AA88AAAAC"},cancelButton.onmouseout=()=>{cancelButton.style.borderColor="#EE44EE2E3",cancelButton.style.color="#116611616"};const confirmButton=document.createElement("button");confirmButton.textContent="Confirm",confirmButton.style.cssText="\n      padding: 8px 16px;\n      border-radius: 8px;\n      border: none;\n      background-color: #AA88AAAAC;\n      color: white;\n      font-weight: 600;\n      font-size: 14px;\n      cursor: pointer;\n      transition: all 0.2s;\n    ",confirmButton.onmouseover=()=>{confirmButton.style.backgroundColor="#AA88AAAAC"},confirmButton.onmouseout=()=>{confirmButton.style.backgroundColor="#AA88AAAAC"};const cleanup=()=>{overlay.style.animation="fadeOut 0.2s ease-in",setTimeout(()=>{overlay.parentNode&&overlay.parentNode.removeChild(overlay)},200)};if(cancelButton.onclick=()=>{cleanup(),resolve(!1)},confirmButton.onclick=()=>{cleanup(),resolve(!0)},!document.getElementById("modal-animations")){const style=document.createElement("style");style.id="modal-animations",style.textContent="\n        @keyframes fadeIn {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n        @keyframes fadeOut {\n          from { opacity: 1; }\n          to { opacity: 0; }\n        }\n        @keyframes scaleIn {\n          from {\n            transform: scale(0.9);\n            opacity: 0;\n          }\n          to {\n            transform: scale(1);\n            opacity: 1;\n          }\n        }\n      ",document.head.appendChild(style)}buttonContainer.appendChild(cancelButton),buttonContainer.appendChild(confirmButton),modal.appendChild(titleElement),modal.appendChild(messageElement),modal.appendChild(buttonContainer),overlay.appendChild(modal),document.body.appendChild(overlay),confirmButton.focus()})}}}]);