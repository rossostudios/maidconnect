"use strict";(self.webpackChunkcasaora=self.webpackChunkcasaora||[]).push([[11522,19221,24081],{"./node_modules/@hugeicons/react/dist/esm/HugeiconsIcon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>HugeiconsIcon});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none"},HugeiconsIcon=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({color="currentColor",size=24,strokeWidth,absoluteStrokeWidth=!1,className="",altIcon,showAlt=!1,icon,primaryColor,secondaryColor,disableSecondaryOpacity=!1,...rest},ref)=>{const calculatedStrokeWidth=void 0!==strokeWidth?absoluteStrokeWidth?24*Number(strokeWidth)/Number(size):strokeWidth:void 0,strokeProps=void 0!==calculatedStrokeWidth?{strokeWidth:calculatedStrokeWidth,stroke:"currentColor"}:{},elementProps={ref,...defaultAttributes,width:size,height:size,color:primaryColor||color,className,...strokeProps,...rest},svgChildren=[...showAlt&&altIcon?altIcon:icon].sort(([,a],[,b])=>{const hasOpacityA=void 0!==a.opacity;return void 0!==b.opacity?1:hasOpacityA?-1:0}).map(([tag,attrs])=>{const isSecondaryPath=void 0!==attrs.opacity,pathOpacity=isSecondaryPath&&!disableSecondaryOpacity?attrs.opacity:void 0,fillProps=secondaryColor?{...void 0!==attrs.stroke?{stroke:isSecondaryPath?secondaryColor:primaryColor||color}:{fill:isSecondaryPath?secondaryColor:primaryColor||color}}:{};return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(tag,{...attrs,...strokeProps,...fillProps,opacity:pathOpacity,key:attrs.key})});return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("svg",elementProps,svgChildren)});HugeiconsIcon.displayName="HugeiconsIcon"},"./node_modules/@radix-ui/react-presence/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>Presence});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@radix-ui/react-compose-refs/dist/index.mjs"),_radix_ui_react_use_layout_effect__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@radix-ui/react-use-layout-effect/dist/index.mjs");var Presence=props=>{const{present,children}=props,presence=function usePresence(present){const[node,setNode]=react__WEBPACK_IMPORTED_MODULE_0__.useState(),stylesRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),prevPresentRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(present),prevAnimationNameRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef("none"),initialState=present?"mounted":"unmounted",[state,send]=function useStateMachine(initialState,machine){return react__WEBPACK_IMPORTED_MODULE_0__.useReducer((state,event)=>machine[state][event]??state,initialState)}(initialState,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{const currentAnimationName=getAnimationName(stylesRef.current);prevAnimationNameRef.current="mounted"===state?currentAnimationName:"none"},[state]),(0,_radix_ui_react_use_layout_effect__WEBPACK_IMPORTED_MODULE_2__.N)(()=>{const styles=stylesRef.current,wasPresent=prevPresentRef.current;if(wasPresent!==present){const prevAnimationName=prevAnimationNameRef.current,currentAnimationName=getAnimationName(styles);if(present)send("MOUNT");else if("none"===currentAnimationName||"none"===styles?.display)send("UNMOUNT");else{send(wasPresent&&prevAnimationName!==currentAnimationName?"ANIMATION_OUT":"UNMOUNT")}prevPresentRef.current=present}},[present,send]),(0,_radix_ui_react_use_layout_effect__WEBPACK_IMPORTED_MODULE_2__.N)(()=>{if(node){let timeoutId;const ownerWindow=node.ownerDocument.defaultView??window,handleAnimationEnd=event=>{const isCurrentAnimation=getAnimationName(stylesRef.current).includes(CSS.escape(event.animationName));if(event.target===node&&isCurrentAnimation&&(send("ANIMATION_END"),!prevPresentRef.current)){const currentFillMode=node.style.animationFillMode;node.style.animationFillMode="forwards",timeoutId=ownerWindow.setTimeout(()=>{"forwards"===node.style.animationFillMode&&(node.style.animationFillMode=currentFillMode)})}},handleAnimationStart=event=>{event.target===node&&(prevAnimationNameRef.current=getAnimationName(stylesRef.current))};return node.addEventListener("animationstart",handleAnimationStart),node.addEventListener("animationcancel",handleAnimationEnd),node.addEventListener("animationend",handleAnimationEnd),()=>{ownerWindow.clearTimeout(timeoutId),node.removeEventListener("animationstart",handleAnimationStart),node.removeEventListener("animationcancel",handleAnimationEnd),node.removeEventListener("animationend",handleAnimationEnd)}}send("ANIMATION_END")},[node,send]),{isPresent:["mounted","unmountSuspended"].includes(state),ref:react__WEBPACK_IMPORTED_MODULE_0__.useCallback(node2=>{stylesRef.current=node2?getComputedStyle(node2):null,setNode(node2)},[])}}(present),child="function"==typeof children?children({present:presence.isPresent}):react__WEBPACK_IMPORTED_MODULE_0__.Children.only(children),ref=(0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_1__.s)(presence.ref,function getElementRef(element){let getter=Object.getOwnPropertyDescriptor(element.props,"ref")?.get,mayWarn=getter&&"isReactWarning"in getter&&getter.isReactWarning;if(mayWarn)return element.ref;if(getter=Object.getOwnPropertyDescriptor(element,"ref")?.get,mayWarn=getter&&"isReactWarning"in getter&&getter.isReactWarning,mayWarn)return element.props.ref;return element.props.ref||element.ref}(child));return"function"==typeof children||presence.isPresent?react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(child,{ref}):null};function getAnimationName(styles){return styles?.animationName||"none"}Presence.displayName="Presence"},"./src/components/reviews/rating-prompt-modal.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={title:"Reviews/RatingPromptModal",component:__webpack_require__("./src/components/reviews/rating-prompt-modal.tsx").RatingPromptModal,parameters:{layout:"padded"},tags:["autodocs"]},Default={},__namedExportsOrder=["Default"]},"./src/components/reviews/rating-prompt-modal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{RatingPromptModal:()=>RatingPromptModal});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),cache=__webpack_require__("./node_modules/@storybook/nextjs/dist/export-mocks/cache/index.js");var server_client=__webpack_require__("./src/lib/supabase/server-client.ts");async function submitCustomerReviewAction(_prevState,formData){try{const customerId=formData.get("customerId"),bookingId=formData.get("bookingId"),ratingValue=formData.get("rating"),title=formData.get("title")??null,comment=formData.get("comment")??null,punctualityRatingValue=formData.get("punctualityRating"),communicationRatingValue=formData.get("communicationRating"),respectfulnessRatingValue=formData.get("respectfulnessRating"),inputValidation=function validateReviewInput(input){if(!input.customerId)return{success:!1,error:"Missing customer information."};if(!input.bookingId)return{success:!1,error:"Missing booking information."};const rating=input.rating?Number.parseInt(input.rating,10):Number.NaN;return!Number.isFinite(rating)||rating<1||rating>5?{success:!1,error:"Please provide a rating between 1 and 5."}:{success:!0}}({customerId,bookingId,rating:ratingValue,punctualityRating:punctualityRatingValue,communicationRating:communicationRatingValue,respectfulnessRating:respectfulnessRatingValue});if(!inputValidation.success)return{status:"error",message:inputValidation.error};const supabase=await(0,server_client.d)(),{data:{user},error:authError}=await supabase.auth.getUser();if(authError)return{status:"error",message:"Unable to verify your session. Please sign in again."};if(!user)return{status:"error",message:"Please sign in to leave a review."};const authResult=await async function validateBookingAuthorization(supabase,bookingId,customerId,professionalId){const{data:booking,error:bookingError}=await supabase.from("bookings").select("id, professional_id, customer_id, status").eq("id",bookingId).eq("professional_id",professionalId).eq("customer_id",customerId).maybeSingle();return bookingError||!booking?{success:!1,error:"Booking not found or you're not authorized."}:"completed"!==booking.status?{success:!1,error:"Can only review completed bookings."}:{success:!0,booking}}(supabase,bookingId,customerId,user.id);if(!authResult.success)return{status:"error",message:authResult.error};const ratings=function parseReviewRatings(input){return{rating:input.rating?Number.parseInt(input.rating,10):0,punctualityRating:input.punctualityRating?Number.parseInt(input.punctualityRating,10):null,communicationRating:input.communicationRating?Number.parseInt(input.communicationRating,10):null,respectfulnessRating:input.respectfulnessRating?Number.parseInt(input.respectfulnessRating,10):null}}({customerId,bookingId,rating:ratingValue,punctualityRating:punctualityRatingValue,communicationRating:communicationRatingValue,respectfulnessRating:respectfulnessRatingValue}),{error}=await supabase.from("customer_reviews").insert({customer_id:customerId,professional_id:user.id,booking_id:bookingId,rating:ratings.rating,title,comment,punctuality_rating:ratings.punctualityRating,communication_rating:ratings.communicationRating,respectfulness_rating:ratings.respectfulnessRating});return error?"23505"===error.code?{status:"error",message:"You've already reviewed this customer for this booking."}:{status:"error",message:"We couldn't save your review. Please try again."}:((0,cache.xy)("/[locale]/dashboard/pro"),{status:"success",message:"Customer review submitted successfully!"})}catch(_error){return{status:"error",message:"Unexpected error while submitting review."}}}var form_modal=__webpack_require__("./src/components/shared/form-modal.tsx"),use_modal_form=__webpack_require__("./src/hooks/use-modal-form.ts");const StarRating=({value,onChange,label,disabled=!1})=>{const[hoveredRating,setHoveredRating]=(0,react.useState)(0),displayRating=hoveredRating||value;return(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[label&&(0,jsx_runtime.jsxs)("span",{className:"text-[#94a3b8] text-sm",children:[label,":"]}),(0,jsx_runtime.jsx)("div",{className:"flex gap-1",children:[1,2,3,4,5].map(star=>(0,jsx_runtime.jsx)("button",{className:"text-2xl transition-transform hover:scale-110 disabled:cursor-not-allowed disabled:opacity-60",disabled,onClick:()=>onChange(star),onMouseEnter:()=>setHoveredRating(star),onMouseLeave:()=>setHoveredRating(0),type:"button",children:star<=displayRating?"⭐":"☆"},star))})]})};function RatingPromptModal({isOpen,onClose,customerId,customerName,bookingId}){const form=(0,use_modal_form.F)({initialData:{rating:0,title:"",comment:"",punctualityRating:0,communicationRating:0,respectfulnessRating:0},resetOnClose:!0});return(0,jsx_runtime.jsxs)(form_modal.k,{cancelLabel:"Skip for now",closeOnBackdropClick:!form.isSubmitting,closeOnEscape:!form.isSubmitting,description:"Your feedback helps maintain a trusted community. This review is private and only visible to you and the customer.",isOpen,isSubmitting:form.isSubmitting,onClose,onSubmit:async()=>{if(0===form.formData.rating)return void form.setError("Please select a rating");const formData=new FormData;formData.append("customerId",customerId),formData.append("bookingId",bookingId),formData.append("rating",form.formData.rating.toString()),form.formData.title&&formData.append("title",form.formData.title),form.formData.comment&&formData.append("comment",form.formData.comment),form.formData.punctualityRating>0&&formData.append("punctualityRating",form.formData.punctualityRating.toString()),form.formData.communicationRating>0&&formData.append("communicationRating",form.formData.communicationRating.toString()),form.formData.respectfulnessRating>0&&formData.append("respectfulnessRating",form.formData.respectfulnessRating.toString());try{const result=await submitCustomerReviewAction(0,formData);"success"===result.status?(form.setMessage(result.message||"Review submitted!","success"),setTimeout(()=>{onClose()},2e3)):form.setError(result.message||"Failed to submit review")}catch(_error){form.setError("Failed to submit review")}},size:"lg",isSubmitDisabled:0===form.formData.rating,submitLabel:form.isSubmitting?"Submitting...":"Submit Review",title:`Rate Your Experience with ${customerName}`,children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("div",{className:"mb-2 block font-medium text-[#0f172a] text-sm",children:"Overall Rating *"}),(0,jsx_runtime.jsx)(StarRating,{disabled:form.isSubmitting,onChange:val=>form.updateField("rating",val),value:form.formData.rating})]}),(0,jsx_runtime.jsxs)("div",{className:"space-y-2 rounded-lg border border-[#e2e8f0] bg-[#f8fafc] p-4",children:[(0,jsx_runtime.jsx)("p",{className:"font-semibold text-[#94a3b8] text-xs uppercase tracking-wide",children:"Optional: Rate by category"}),(0,jsx_runtime.jsx)(StarRating,{disabled:form.isSubmitting,label:"Punctuality",onChange:val=>form.updateField("punctualityRating",val),value:form.formData.punctualityRating}),(0,jsx_runtime.jsx)(StarRating,{disabled:form.isSubmitting,label:"Communication",onChange:val=>form.updateField("communicationRating",val),value:form.formData.communicationRating}),(0,jsx_runtime.jsx)(StarRating,{disabled:form.isSubmitting,label:"Respectfulness",onChange:val=>form.updateField("respectfulnessRating",val),value:form.formData.respectfulnessRating})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"mb-2 block font-medium text-[#0f172a] text-sm",htmlFor:"title",children:"Title (optional)"}),(0,jsx_runtime.jsx)("input",{className:"w-full rounded-lg border border-[#e2e8f0] px-3 py-2 text-sm focus:border-[#64748b] focus:outline-none focus:ring-2 focus:ring-[#64748b]/20",disabled:form.isSubmitting,id:"title",onChange:e=>form.updateField("title",e.target.value),placeholder:"Sum up your experience in one line",type:"text",value:form.formData.title})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"mb-2 block font-medium text-[#0f172a] text-sm",htmlFor:"comment",children:"Comment (optional)"}),(0,jsx_runtime.jsx)("textarea",{className:"w-full rounded-lg border border-[#e2e8f0] px-3 py-2 text-sm focus:border-[#64748b] focus:outline-none focus:ring-2 focus:ring-[#64748b]/20",disabled:form.isSubmitting,id:"comment",onChange:e=>form.updateField("comment",e.target.value),placeholder:"Share details about your experience (e.g., were they on time? responsive? respectful of your time?)",rows:4,value:form.formData.comment})]}),form.message&&(0,jsx_runtime.jsx)("div",{className:"rounded-lg p-3 text-sm "+(form.success,"bg-[#64748b]/10 text-[#64748b]"),children:form.message})]})}try{RatingPromptModal.displayName="RatingPromptModal",RatingPromptModal.__docgenInfo={description:"",displayName:"RatingPromptModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},customerId:{defaultValue:null,description:"",name:"customerId",required:!0,type:{name:"string"}},customerName:{defaultValue:null,description:"",name:"customerName",required:!0,type:{name:"string"}},bookingId:{defaultValue:null,description:"",name:"bookingId",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/reviews/rating-prompt-modal.tsx#RatingPromptModal"]={docgenInfo:RatingPromptModal.__docgenInfo,name:"RatingPromptModal",path:"src/components/reviews/rating-prompt-modal.tsx#RatingPromptModal"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/shared/base-modal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{d:()=>BaseModal});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_components_ui_dialog__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/ui/dialog.tsx");const sizeClasses={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl","2xl":"max-w-6xl"};function BaseModal({isOpen,onClose,title,children,className,size="md",showCloseButton:_showCloseButton=!0}){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_1__.lG,{open:isOpen,onOpenChange:open=>!open&&onClose(),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_1__.Cf,{className:sizeClasses[size],children:[title&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_1__.c7,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_1__.L3,{children:title})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className,children})]})})}try{BaseModal.displayName="BaseModal",BaseModal.__docgenInfo={description:"",displayName:"BaseModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},size:{defaultValue:{value:"md"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"2xl"'}]}},closeOnBackdropClick:{defaultValue:null,description:"",name:"closeOnBackdropClick",required:!1,type:{name:"boolean"}},closeOnEscape:{defaultValue:null,description:"",name:"closeOnEscape",required:!1,type:{name:"boolean"}},showCloseButton:{defaultValue:{value:"true"},description:"",name:"showCloseButton",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/shared/base-modal.tsx#BaseModal"]={docgenInfo:BaseModal.__docgenInfo,name:"BaseModal",path:"src/components/shared/base-modal.tsx#BaseModal"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/shared/form-modal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{k:()=>FormModal});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_base_modal__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/shared/base-modal.tsx"),_lib_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/lib/utils.ts");function FormModal({children,onSubmit,submitLabel="Submit",cancelLabel="Cancel",isLoading=!1,isSubmitting=!1,isSubmitDisabled=!1,showActions=!0,customActions,onClose,...props}){const loading=isLoading||isSubmitting;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_base_modal__WEBPACK_IMPORTED_MODULE_1__.d,{onClose,...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{children}),customActions||(showActions?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"button",onClick:onClose,disabled:loading,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("rounded-lg border border-[slate-200] bg-white px-4 py-2 text-sm font-medium text-[slate-900]","hover:bg-[slate-50] transition-colors","disabled:opacity-50 disabled:cursor-not-allowed"),children:cancelLabel}),onSubmit&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"button",onClick:onSubmit,disabled:isSubmitDisabled||loading,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("rounded-lg bg-[slate-600] px-4 py-2 text-sm font-medium text-white","hover:bg-slate-100 transition-colors","disabled:opacity-50 disabled:cursor-not-allowed"),children:loading?"Loading...":submitLabel})]}):null)]})})}try{FormModal.displayName="FormModal",FormModal.__docgenInfo={description:"",displayName:"FormModal",props:{onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"() => void"}},submitLabel:{defaultValue:{value:"Submit"},description:"",name:"submitLabel",required:!1,type:{name:"string"}},cancelLabel:{defaultValue:{value:"Cancel"},description:"",name:"cancelLabel",required:!1,type:{name:"string"}},isLoading:{defaultValue:{value:"false"},description:"",name:"isLoading",required:!1,type:{name:"boolean"}},isSubmitting:{defaultValue:{value:"false"},description:"",name:"isSubmitting",required:!1,type:{name:"boolean"}},isSubmitDisabled:{defaultValue:{value:"false"},description:"",name:"isSubmitDisabled",required:!1,type:{name:"boolean"}},showActions:{defaultValue:{value:"true"},description:"",name:"showActions",required:!1,type:{name:"boolean"}},customActions:{defaultValue:null,description:"",name:"customActions",required:!1,type:{name:"ReactNode"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"2xl"'}]}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},closeOnBackdropClick:{defaultValue:null,description:"",name:"closeOnBackdropClick",required:!1,type:{name:"boolean"}},closeOnEscape:{defaultValue:null,description:"",name:"closeOnEscape",required:!1,type:{name:"boolean"}},showCloseButton:{defaultValue:null,description:"",name:"showCloseButton",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/shared/form-modal.tsx#FormModal"]={docgenInfo:FormModal.__docgenInfo,name:"FormModal",path:"src/components/shared/form-modal.tsx#FormModal"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ui/dialog.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Cf:()=>DialogContent,L3:()=>DialogTitle,c7:()=>DialogHeader,lG:()=>Dialog,rr:()=>DialogDescription});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@radix-ui/react-dialog/dist/index.mjs"),_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@hugeicons/core-free-icons/dist/esm/index.min.js"),_hugeicons_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@hugeicons/react/dist/esm/HugeiconsIcon.js"),_lib_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/lib/utils.ts");const Dialog=_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.bL,DialogTrigger=_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.l9,DialogPortal=_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.ZL,DialogClose=_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.bm,DialogOverlay=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.hJ,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.cn)("fixed inset-0 z-50 bg-[#0f172a]/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",className),...props}));DialogOverlay.displayName=_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.hJ.displayName;const DialogContent=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({className,children,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(DialogPortal,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DialogOverlay,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.UC,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-[#e2e8f0] bg-[#f8fafc] p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",className),...props,children:[children,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.bm,{className:"absolute top-4 right-4 rounded-sm opacity-70 ring-offset-[#f8fafc] transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-[#0f172a] focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-[#e2e8f0]/30 data-[state=open]:text-[#94a3b8]",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hugeicons_react__WEBPACK_IMPORTED_MODULE_4__.n,{className:"h-4 w-4",icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_3__.bJi}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));DialogContent.displayName=_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.UC.displayName;const DialogHeader=({className,...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.cn)("flex flex-col space-y-1.5 text-center sm:text-left",className),...props});DialogHeader.displayName="DialogHeader";const DialogFooter=({className,...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",className),...props});DialogFooter.displayName="DialogFooter";const DialogTitle=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.hE,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.cn)("font-semibold text-[#0f172a] text-lg leading-none tracking-tight",className),...props}));DialogTitle.displayName=_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.hE.displayName;const DialogDescription=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.VY,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.cn)("text-[#94a3b8] text-sm",className),...props}));DialogDescription.displayName=_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.VY.displayName;try{Dialog.displayName="Dialog",Dialog.__docgenInfo={description:"",displayName:"Dialog",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/dialog.tsx#Dialog"]={docgenInfo:Dialog.__docgenInfo,name:"Dialog",path:"src/components/ui/dialog.tsx#Dialog"})}catch(__react_docgen_typescript_loader_error){}try{DialogPortal.displayName="DialogPortal",DialogPortal.__docgenInfo={description:"",displayName:"DialogPortal",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/dialog.tsx#DialogPortal"]={docgenInfo:DialogPortal.__docgenInfo,name:"DialogPortal",path:"src/components/ui/dialog.tsx#DialogPortal"})}catch(__react_docgen_typescript_loader_error){}try{DialogOverlay.displayName="DialogOverlay",DialogOverlay.__docgenInfo={description:"",displayName:"DialogOverlay",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/dialog.tsx#DialogOverlay"]={docgenInfo:DialogOverlay.__docgenInfo,name:"DialogOverlay",path:"src/components/ui/dialog.tsx#DialogOverlay"})}catch(__react_docgen_typescript_loader_error){}try{DialogClose.displayName="DialogClose",DialogClose.__docgenInfo={description:"",displayName:"DialogClose",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/dialog.tsx#DialogClose"]={docgenInfo:DialogClose.__docgenInfo,name:"DialogClose",path:"src/components/ui/dialog.tsx#DialogClose"})}catch(__react_docgen_typescript_loader_error){}try{DialogTrigger.displayName="DialogTrigger",DialogTrigger.__docgenInfo={description:"",displayName:"DialogTrigger",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/dialog.tsx#DialogTrigger"]={docgenInfo:DialogTrigger.__docgenInfo,name:"DialogTrigger",path:"src/components/ui/dialog.tsx#DialogTrigger"})}catch(__react_docgen_typescript_loader_error){}try{DialogContent.displayName="DialogContent",DialogContent.__docgenInfo={description:"",displayName:"DialogContent",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/dialog.tsx#DialogContent"]={docgenInfo:DialogContent.__docgenInfo,name:"DialogContent",path:"src/components/ui/dialog.tsx#DialogContent"})}catch(__react_docgen_typescript_loader_error){}try{DialogHeader.displayName="DialogHeader",DialogHeader.__docgenInfo={description:"",displayName:"DialogHeader",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/dialog.tsx#DialogHeader"]={docgenInfo:DialogHeader.__docgenInfo,name:"DialogHeader",path:"src/components/ui/dialog.tsx#DialogHeader"})}catch(__react_docgen_typescript_loader_error){}try{DialogFooter.displayName="DialogFooter",DialogFooter.__docgenInfo={description:"",displayName:"DialogFooter",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/dialog.tsx#DialogFooter"]={docgenInfo:DialogFooter.__docgenInfo,name:"DialogFooter",path:"src/components/ui/dialog.tsx#DialogFooter"})}catch(__react_docgen_typescript_loader_error){}try{DialogTitle.displayName="DialogTitle",DialogTitle.__docgenInfo={description:"",displayName:"DialogTitle",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/dialog.tsx#DialogTitle"]={docgenInfo:DialogTitle.__docgenInfo,name:"DialogTitle",path:"src/components/ui/dialog.tsx#DialogTitle"})}catch(__react_docgen_typescript_loader_error){}try{DialogDescription.displayName="DialogDescription",DialogDescription.__docgenInfo={description:"",displayName:"DialogDescription",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/dialog.tsx#DialogDescription"]={docgenInfo:DialogDescription.__docgenInfo,name:"DialogDescription",path:"src/components/ui/dialog.tsx#DialogDescription"})}catch(__react_docgen_typescript_loader_error){}},"./src/hooks/use-modal-form.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>useModalForm});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");function useModalForm({initialData,resetOnClose:_resetOnClose=!0,onSuccess,onError}){const[formData,setFormData]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialData),[isSubmitting,setIsSubmitting]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[error,setError]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[success,setSuccess]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[message,setMessageState]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);return{formData,setFormData,updateField:(field,value)=>{setFormData(prev=>({...prev,[field]:value}))},isSubmitting,error,setError,success,message,setMessage:(msg,type="success")=>{setMessageState(msg),"success"===type?(setSuccess(!0),setError(null)):(setError(msg),setSuccess(!1))},reset:()=>{setFormData(initialData),setIsSubmitting(!1),setError(null),setSuccess(!1),setMessageState(null)},handleSubmit:async(submitFn,options)=>{setIsSubmitting(!0),setError(null),setSuccess(!1),setMessageState(null);try{const result=await submitFn(formData);return setSuccess(!0),options?.successMessage&&setMessageState(options.successMessage),onSuccess&&onSuccess(result),result}catch(err){const errorMessage=err instanceof Error?err.message:"An error occurred";throw setError(errorMessage),setMessageState(errorMessage),onError&&err instanceof Error&&onError(err),err}finally{setIsSubmitting(!1)}}}}},"./src/lib/supabase/server-client.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{d:()=>createSupabaseServerClient});var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@supabase/ssr/dist/module/index.js"),next_cache__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/nextjs/dist/export-mocks/cache/index.js"),next_headers__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/nextjs/dist/export-mocks/headers/index.js");async function createSupabaseServerClient(){(0,next_cache__WEBPACK_IMPORTED_MODULE_1__.Mo)();const supabaseUrl="https://hvnetxfsrtplextvtwfx.supabase.co",supabaseKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh2bmV0eGZzcnRwbGV4dHZ0d2Z4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE1ODc0NTEsImV4cCI6MjA3NzE2MzQ1MX0.7-N06om_ntUuGP1NZ0Zcqz01s975xJfiKno34aIW__o";const cookieStore=await(0,next_headers__WEBPACK_IMPORTED_MODULE_2__.UL)();return(0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createServerClient)(supabaseUrl,supabaseKey,{cookies:{getAll:()=>cookieStore.getAll(),setAll(cookiesToSet){try{cookiesToSet.forEach(({name,value,options})=>cookieStore.set(name,value,options))}catch{}}}})}},"./src/lib/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function cn(...classes){return classes.filter(Boolean).join(" ")}__webpack_require__.d(__webpack_exports__,{cn:()=>cn})}}]);