"use strict";(self.webpackChunkcasaora=self.webpackChunkcasaora||[]).push([[46436,52136],{"./src/components/keyboard-shortcuts/keyboard-badge.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>KeyboardBadge});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_lib_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/lib/utils.ts");function KeyboardBadge({keys,className,size="md"}){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_1__.cn)("flex items-center gap-1",className),children:keys.map((key,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{className:"flex items-center gap-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("kbd",{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_1__.cn)("inline-flex items-center justify-center rounded-lg border border-[#e2e8f0] bg-[#f8fafc] font-medium font-mono text-[#94a3b8] shadow-sm","sm"===size&&"min-w-[28px] px-2.5 py-1.5 text-xs","md"===size&&"min-w-[32px] px-3 py-1.5 text-sm"),children:key}),"then"===key&&index<keys.length-1?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"px-1 text-[#94a3b8] text-xs",children:"then"}):null]},`${key}-${index}`))})}function KeyBadge({keyLabel,className}){return _jsx(KeyboardBadge,{className,keys:[keyLabel]})}try{KeyboardBadge.displayName="KeyboardBadge",KeyboardBadge.__docgenInfo={description:"",displayName:"KeyboardBadge",props:{keys:{defaultValue:null,description:"",name:"keys",required:!0,type:{name:"string[]"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},size:{defaultValue:{value:"md"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"sm"'},{value:'"md"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/keyboard-shortcuts/keyboard-badge.tsx#KeyboardBadge"]={docgenInfo:KeyboardBadge.__docgenInfo,name:"KeyboardBadge",path:"src/components/keyboard-shortcuts/keyboard-badge.tsx#KeyboardBadge"})}catch(__react_docgen_typescript_loader_error){}try{KeyBadge.displayName="KeyBadge",KeyBadge.__docgenInfo={description:"Single Key Badge (for simpler use cases)",displayName:"KeyBadge",props:{keyLabel:{defaultValue:null,description:"",name:"keyLabel",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/keyboard-shortcuts/keyboard-badge.tsx#KeyBadge"]={docgenInfo:KeyBadge.__docgenInfo,name:"KeyBadge",path:"src/components/keyboard-shortcuts/keyboard-badge.tsx#KeyBadge"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/navigation/dashboard-mobile-nav.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{q:()=>DashboardMobileNav});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@hugeicons/core-free-icons/dist/esm/index.min.js"),_hugeicons_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@hugeicons/react/dist/esm/HugeiconsIcon.js"),_hooks_use_notification_unread_count__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/hooks/use-notification-unread-count.ts"),_hooks_use_unread_count__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/hooks/use-unread-count.ts"),_i18n_routing__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/i18n/routing.ts");function DashboardMobileNav({userRole,dashboardHref,bookingsHref,messagesHref,profileHref,onNotificationsClick}){const pathname=(0,_i18n_routing__WEBPACK_IMPORTED_MODULE_5__.a8)(),{unreadCount}=(0,_hooks_use_unread_count__WEBPACK_IMPORTED_MODULE_4__.U)(),{unreadCount:notificationUnreadCount}=(0,_hooks_use_notification_unread_count__WEBPACK_IMPORTED_MODULE_3__.b)(),isActive=href=>{if(href.includes("#")){const basePath=href.split("#")[0];return pathname===basePath}return href.includes("bookings")?pathname.includes("bookings"):href.includes("messages")?pathname.includes("messages"):pathname===href},navItems=[{href:dashboardHref,label:"Home",icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_1__.wfd,active:pathname===dashboardHref},{href:bookingsHref,label:"customer"===userRole?"Bookings":"Jobs",icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_1__.vxL,active:isActive(bookingsHref)},{href:messagesHref,label:"Messages",icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_1__.s7I,active:isActive(messagesHref),badge:unreadCount},{href:null,label:"Alerts",icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_1__.Hl8,active:!1,badge:notificationUnreadCount,onClick:onNotificationsClick},{href:profileHref,label:"Profile",icon:_hugeicons_core_free_icons__WEBPACK_IMPORTED_MODULE_1__.nys,active:isActive(profileHref)}];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-40 border-t border-slate-200 bg-white shadow-[0_-4px_12px_rgba(0,0,0,0.05)] md:hidden",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"mx-auto flex max-w-screen-xl",children:navItems.map(item=>{const IconComponent=item.icon,isItemActive=item.active;return item.onClick?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button",{className:"relative flex flex-1 flex-col items-center justify-center gap-1 py-3 transition-colors active:scale-95",onClick:item.onClick,type:"button",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"relative",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hugeicons_react__WEBPACK_IMPORTED_MODULE_2__.n,{className:"h-6 w-6 "+(isItemActive?"text-slate-900":"text-slate-600"),icon:IconComponent}),void 0!==item.badge&&item.badge>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"absolute -right-1 -top-1 flex h-5 min-w-[18px] items-center justify-center rounded-full bg-slate-900 px-1.5 text-[10px] font-bold text-white",children:item.badge>9?"9+":item.badge})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-xs "+(isItemActive?"font-semibold text-slate-900":"text-slate-600"),children:item.label})]},item.label):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_i18n_routing__WEBPACK_IMPORTED_MODULE_5__.N_,{className:"relative flex flex-1 flex-col items-center justify-center gap-1 py-3 transition-colors active:scale-95",href:item.href,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"relative",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hugeicons_react__WEBPACK_IMPORTED_MODULE_2__.n,{className:"h-6 w-6 "+(isItemActive?"text-slate-900":"text-slate-600"),icon:IconComponent}),void 0!==item.badge&&item.badge>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"absolute -right-1 -top-1 flex h-5 min-w-[18px] items-center justify-center rounded-full bg-slate-900 px-1.5 text-[10px] font-bold text-white",children:item.badge>9?"9+":item.badge})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-xs "+(isItemActive?"font-semibold text-slate-900":"text-slate-600"),children:item.label})]},item.label)})})})}try{DashboardMobileNav.displayName="DashboardMobileNav",DashboardMobileNav.__docgenInfo={description:"",displayName:"DashboardMobileNav",props:{userRole:{defaultValue:null,description:"",name:"userRole",required:!0,type:{name:"enum",value:[{value:'"customer"'},{value:'"professional"'}]}},dashboardHref:{defaultValue:null,description:"",name:"dashboardHref",required:!0,type:{name:"string"}},bookingsHref:{defaultValue:null,description:"",name:"bookingsHref",required:!0,type:{name:"string"}},messagesHref:{defaultValue:null,description:"",name:"messagesHref",required:!0,type:{name:"string"}},profileHref:{defaultValue:null,description:"",name:"profileHref",required:!0,type:{name:"string"}},onNotificationsClick:{defaultValue:null,description:"",name:"onNotificationsClick",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/navigation/dashboard-mobile-nav.tsx#DashboardMobileNav"]={docgenInfo:DashboardMobileNav.__docgenInfo,name:"DashboardMobileNav",path:"src/components/navigation/dashboard-mobile-nav.tsx#DashboardMobileNav"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/navigation/dashboard-navigation.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CustomerDesktop:()=>CustomerDesktop,ProfessionalDesktop:()=>ProfessionalDesktop,WithAllBadges:()=>WithAllBadges,WithUnreadMessages:()=>WithUnreadMessages,__namedExportsOrder:()=>__namedExportsOrder,default:()=>dashboard_navigation_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),index_min=__webpack_require__("./node_modules/@hugeicons/core-free-icons/dist/esm/index.min.js"),HugeiconsIcon=__webpack_require__("./node_modules/@hugeicons/react/dist/esm/HugeiconsIcon.js"),dynamic=__webpack_require__("./node_modules/next/dynamic.js"),dynamic_default=__webpack_require__.n(dynamic),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),search=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/search.js"),message_circle=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/message-circle.js"),bell=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/bell.js"),keyboard_badge=__webpack_require__("./src/components/keyboard-shortcuts/keyboard-badge.tsx"),dashboard_mobile_nav=__webpack_require__("./src/components/navigation/dashboard-mobile-nav.tsx"),keyboard_shortcuts_provider=__webpack_require__("./src/components/providers/keyboard-shortcuts-provider.tsx"),use_notification_unread_count=__webpack_require__("./src/hooks/use-notification-unread-count.ts"),use_unread_count=__webpack_require__("./src/hooks/use-unread-count.ts"),routing=__webpack_require__("./src/i18n/routing.ts");const NotificationsSheet=dynamic_default()(()=>Promise.all([__webpack_require__.e(27075),__webpack_require__.e(17738),__webpack_require__.e(90223)]).then(__webpack_require__.bind(__webpack_require__,"./src/components/notifications/notifications-sheet.tsx")).then(mod=>mod.NotificationsSheet),{loadableGenerated:{webpack:()=>["./src/components/notifications/notifications-sheet.tsx"]},ssr:!1});function DashboardNavigation({navLinks,userRole}){const pathname=(0,routing.a8)(),{unreadCount}=(0,use_unread_count.U)(),{unreadCount:notificationUnreadCount,refresh}=(0,use_notification_unread_count.b)(),[isNotificationsOpen,setIsNotificationsOpen]=(0,react.useState)(!1),{openCommandPalette}=(0,keyboard_shortcuts_provider.r)(),[isMac,setIsMac]=(0,react.useState)(!1);(0,react.useEffect)(()=>{setIsMac(navigator.platform.toUpperCase().indexOf("MAC")>=0)},[]);const messagesHref="customer"===userRole?"/dashboard/customer/messages":"/dashboard/pro/messages",dashboardHref="customer"===userRole?"/dashboard/customer":"/dashboard/pro",bookingsHref="customer"===userRole?"/dashboard/customer/bookings":"/dashboard/pro/bookings",profileHref="customer"===userRole?"/dashboard/customer":"/dashboard/pro";return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("nav",{className:"hidden items-center gap-6 text-sm font-medium text-slate-900 md:flex",children:[navLinks.map(item=>{const active=(href=>{if(href.includes("#")){const basePath=href.split("#")[0];return pathname===basePath}return pathname===href})(item.href);return(0,jsx_runtime.jsx)(routing.N_,{className:"relative pb-1 transition hover:text-slate-700 "+(active?"font-semibold text-slate-900 after:absolute after:bottom-0 after:left-0 after:right-0 after:h-0.5 after:bg-slate-900 after:content-['']":""),href:item.href,children:item.label},item.href)}),(0,jsx_runtime.jsxs)("button",{"aria-label":"Search",className:"group ml-2 flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-3 py-1.5 text-slate-600 transition hover:border-slate-300 hover:bg-slate-50 hover:text-slate-900",onClick:openCommandPalette,type:"button",children:[(0,jsx_runtime.jsx)(search.A,{className:"h-4 w-4"}),(0,jsx_runtime.jsx)("span",{className:"text-xs",children:"Search"}),(0,jsx_runtime.jsx)(keyboard_badge.p,{className:"ml-1",keys:[isMac?"âŒ˜":"Ctrl","K"],size:"sm"})]}),(0,jsx_runtime.jsxs)(routing.N_,{"aria-label":"Messages"+(unreadCount>0?` (${unreadCount} unread)`:""),className:"relative rounded-lg p-1.5 transition hover:bg-slate-100 hover:text-slate-900 "+(pathname===messagesHref?"bg-slate-100 text-slate-900":"text-slate-700"),href:messagesHref,children:[(0,jsx_runtime.jsx)(message_circle.A,{className:"h-5 w-5"}),unreadCount>0&&(0,jsx_runtime.jsx)("span",{className:"absolute right-0 top-0 flex h-4 min-w-[16px] items-center justify-center rounded-full bg-slate-900 px-1 text-[10px] font-bold text-white",children:unreadCount>9?"9+":unreadCount})]}),(0,jsx_runtime.jsxs)("button",{"aria-label":"Notifications"+(notificationUnreadCount>0?` (${notificationUnreadCount} unread)`:""),className:"relative rounded-lg p-1.5 text-slate-700 transition hover:bg-slate-100 hover:text-slate-900",onClick:()=>setIsNotificationsOpen(!0),type:"button",children:[(0,jsx_runtime.jsx)(bell.A,{className:"h-5 w-5"}),notificationUnreadCount>0&&(0,jsx_runtime.jsx)("span",{className:"absolute right-0 top-0 flex h-4 min-w-[16px] items-center justify-center rounded-full bg-slate-900 px-1 text-[10px] font-bold text-white",children:notificationUnreadCount>9?"9+":notificationUnreadCount})]}),(0,jsx_runtime.jsxs)(routing.N_,{"aria-label":"Sign out",className:"flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-3 py-1.5 text-slate-600 transition hover:border-slate-300 hover:bg-slate-50 hover:text-slate-900",href:"/auth/sign-out",children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-4 w-4",icon:index_min.hc1}),(0,jsx_runtime.jsx)("span",{className:"text-xs",children:"Sign out"})]})]}),(0,jsx_runtime.jsx)(dashboard_mobile_nav.q,{bookingsHref,dashboardHref,messagesHref,onNotificationsClick:()=>setIsNotificationsOpen(!0),profileHref,userRole}),(0,jsx_runtime.jsx)(NotificationsSheet,{isOpen:isNotificationsOpen,onClose:()=>{setIsNotificationsOpen(!1),refresh()}})]})}try{DashboardNavigation.displayName="DashboardNavigation",DashboardNavigation.__docgenInfo={description:"",displayName:"DashboardNavigation",props:{navLinks:{defaultValue:null,description:"",name:"navLinks",required:!0,type:{name:"NavLink[]"}},userRole:{defaultValue:null,description:"",name:"userRole",required:!0,type:{name:"enum",value:[{value:'"customer"'},{value:'"professional"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/navigation/dashboard-navigation.tsx#DashboardNavigation"]={docgenInfo:DashboardNavigation.__docgenInfo,name:"DashboardNavigation",path:"src/components/navigation/dashboard-navigation.tsx#DashboardNavigation"})}catch(__react_docgen_typescript_loader_error){}const dashboard_navigation_stories={title:"Navigation/DashboardNavigation",component:DashboardNavigation,parameters:{layout:"padded"},tags:["autodocs"],argTypes:{userRole:{control:"select",options:["customer","professional"],description:"The user's role"}}},customerNavLinks=[{href:"/dashboard/customer",label:"Overview"},{href:"/dashboard/customer/bookings",label:"Bookings"},{href:"/dashboard/customer#addresses",label:"Addresses"},{href:"/dashboard/customer#favorites",label:"Favorites"}],proNavLinks=[{href:"/dashboard/pro",label:"Overview"},{href:"/dashboard/pro/bookings",label:"Jobs"},{href:"/dashboard/pro/availability",label:"Availability"},{href:"/dashboard/pro/profile",label:"Profile"}],CustomerDesktop={args:{userRole:"customer",navLinks:customerNavLinks},decorators:[Story=>(0,jsx_runtime.jsx)("div",{className:"w-full bg-white p-4 border-b border-slate-200",children:(0,jsx_runtime.jsx)(Story,{})})]},ProfessionalDesktop={args:{userRole:"professional",navLinks:proNavLinks},decorators:[Story=>(0,jsx_runtime.jsx)("div",{className:"w-full bg-white p-4 border-b border-slate-200",children:(0,jsx_runtime.jsx)(Story,{})})]},WithUnreadMessages={args:{userRole:"customer",navLinks:customerNavLinks},decorators:[Story=>(0,jsx_runtime.jsx)("div",{className:"w-full bg-white p-4 border-b border-slate-200",children:(0,jsx_runtime.jsx)(Story,{})})],parameters:{mockData:{unreadCount:5,notificationUnreadCount:0}}},WithAllBadges={args:{userRole:"professional",navLinks:proNavLinks},decorators:[Story=>(0,jsx_runtime.jsx)("div",{className:"w-full bg-white p-4 border-b border-slate-200",children:(0,jsx_runtime.jsx)(Story,{})})],parameters:{mockData:{unreadCount:10,notificationUnreadCount:5}}},__namedExportsOrder=["CustomerDesktop","ProfessionalDesktop","WithUnreadMessages","WithAllBadges"]},"./src/components/providers/keyboard-shortcuts-provider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{r:()=>useKeyboardShortcutsContext});__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js");var dynamic=__webpack_require__("./node_modules/next/dynamic.js"),dynamic_default=__webpack_require__.n(dynamic),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");__webpack_require__("./src/i18n/routing.ts");__webpack_require__("./src/lib/supabase/browser-client.ts");const CommandPalette=dynamic_default()(()=>Promise.all([__webpack_require__.e(81133),__webpack_require__.e(65251),__webpack_require__.e(78520),__webpack_require__.e(42616),__webpack_require__.e(3545)]).then(__webpack_require__.bind(__webpack_require__,"./src/components/command-palette/command-palette.tsx")).then(mod=>({default:mod.CommandPalette})),{loadableGenerated:{webpack:()=>["./src/components/command-palette/command-palette.tsx"]},ssr:!1}),KeyboardShortcutsPanel=dynamic_default()(()=>Promise.all([__webpack_require__.e(81133),__webpack_require__.e(94136)]).then(__webpack_require__.bind(__webpack_require__,"./src/components/keyboard-shortcuts/keyboard-shortcuts-panel.tsx")).then(mod=>({default:mod.KeyboardShortcutsPanel})),{loadableGenerated:{webpack:()=>["./src/components/keyboard-shortcuts/keyboard-shortcuts-panel.tsx"]},ssr:!1}),KeyboardShortcutsContext=(0,react.createContext)(void 0);function useKeyboardShortcutsContext(){const context=(0,react.useContext)(KeyboardShortcutsContext);if(!context)throw new Error("useKeyboardShortcutsContext must be used within KeyboardShortcutsProvider");return context}function KeyboardShortcutsProvider({children}){const[role,setRole]=useState(),[dashboardPath,setDashboardPath]=useState();useEffect(()=>{const supabase=createSupabaseBrowserClient(),getUser=async()=>{const{data:{user}}=await supabase.auth.getUser();if(!user)return setRole(void 0),void setDashboardPath(void 0);const{data:profile}=await supabase.from("profiles").select("role").eq("id",user.id).single();profile?.role&&(setRole(profile.role),"customer"===profile.role?setDashboardPath("/dashboard/customer"):"professional"===profile.role?setDashboardPath("/dashboard/pro"):"admin"===profile.role&&setDashboardPath("/dashboard/admin"))};getUser();const{data:{subscription}}=supabase.auth.onAuthStateChange(()=>{getUser()});return()=>{subscription.unsubscribe()}},[]);const shortcuts=useKeyboardShortcuts({role,dashboardPath}),contextValue={openCommandPalette:shortcuts.openCommandPalette,openShortcutsPanel:shortcuts.openShortcutsPanel,closeCommandPalette:shortcuts.closeCommandPalette,closeShortcutsPanel:shortcuts.closeShortcutsPanel,toggleShortcutsPanel:shortcuts.toggleShortcutsPanel};return _jsxs(KeyboardShortcutsContext.Provider,{value:contextValue,children:[children,shortcuts.commandPaletteOpen&&_jsx(CommandPalette,{dashboardPath,onClose:shortcuts.closeCommandPalette,open:shortcuts.commandPaletteOpen,role}),shortcuts.shortcutsPanelOpen&&_jsx(KeyboardShortcutsPanel,{onClose:shortcuts.closeShortcutsPanel,open:shortcuts.shortcutsPanelOpen,role})]})}try{KeyboardShortcutsProvider.displayName="KeyboardShortcutsProvider",KeyboardShortcutsProvider.__docgenInfo={description:"",displayName:"KeyboardShortcutsProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/providers/keyboard-shortcuts-provider.tsx#KeyboardShortcutsProvider"]={docgenInfo:KeyboardShortcutsProvider.__docgenInfo,name:"KeyboardShortcutsProvider",path:"src/components/providers/keyboard-shortcuts-provider.tsx#KeyboardShortcutsProvider"})}catch(__react_docgen_typescript_loader_error){}},"./src/hooks/use-notification-unread-count.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>useNotificationUnreadCount});var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@tanstack/react-query/build/modern/useQuery.js"),_tanstack_react_query__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),console=__webpack_require__("./node_modules/console-browserify/index.js");function useNotificationUnreadCount(){const queryClient=(0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_1__.jE)(),{data,isLoading,error,refetch}=(0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_0__.I)({queryKey:["notifications","unread-count"],queryFn:async()=>{const response=await fetch("/api/notifications/unread-count");if(!response.ok)throw new Error("Failed to fetch unread count");return(await response.json()).unreadCount||0},staleTime:3e4,refetchInterval:6e4,refetchOnWindowFocus:!1});return(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{Promise.all([__webpack_require__.e(60921),__webpack_require__.e(52136)]).then(__webpack_require__.bind(__webpack_require__,"./src/lib/supabase/browser-client.ts")).then(({createSupabaseBrowserClient})=>{const supabase=createSupabaseBrowserClient(),channel=supabase.channel("notification-unread-count-updates").on("postgres_changes",{event:"*",schema:"public",table:"notifications"},()=>{queryClient.invalidateQueries({queryKey:["notifications","unread-count"]})}).subscribe(status=>{"CHANNEL_ERROR"===status&&console.warn("Notification channel error")});return()=>{supabase.removeChannel(channel)}})},[queryClient]),{unreadCount:data??0,isLoading,error:error?error instanceof Error?error.message:"Unknown error":null,refresh:()=>refetch()}}},"./src/hooks/use-unread-count.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U:()=>useUnreadCount});var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@tanstack/react-query/build/modern/useQuery.js"),_tanstack_react_query__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),console=__webpack_require__("./node_modules/console-browserify/index.js");function useUnreadCount(){const queryClient=(0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_1__.jE)(),{data,isLoading,error,refetch}=(0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_0__.I)({queryKey:["messages","unread-count"],queryFn:async()=>{const response=await fetch("/api/messages/unread-count");if(!response.ok)throw new Error("Failed to fetch unread count");return(await response.json()).unreadCount||0},staleTime:3e4,refetchInterval:6e4,refetchOnWindowFocus:!1});return(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{Promise.all([__webpack_require__.e(60921),__webpack_require__.e(52136)]).then(__webpack_require__.bind(__webpack_require__,"./src/lib/supabase/browser-client.ts")).then(({createSupabaseBrowserClient})=>{const supabase=createSupabaseBrowserClient(),channel=supabase.channel("unread-count-updates").on("postgres_changes",{event:"*",schema:"public",table:"conversations"},()=>{queryClient.invalidateQueries({queryKey:["messages","unread-count"]})}).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},()=>{queryClient.invalidateQueries({queryKey:["messages","unread-count"]})}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages"},()=>{queryClient.invalidateQueries({queryKey:["messages","unread-count"]})}).subscribe(status=>{"CHANNEL_ERROR"===status&&console.warn("Messages unread count channel error")});return()=>{supabase.removeChannel(channel)}})},[queryClient]),{unreadCount:data??0,isLoading,error:error?error instanceof Error?error.message:"Unknown error":null,refresh:()=>refetch()}}},"./src/i18n/routing.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{DT:()=>routing,N_:()=>Link,a8:()=>usePathname,rd:()=>useRouter});var next_intl_navigation__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next-intl/dist/esm/production/navigation/react-client/createNavigation.js");const routing=(0,__webpack_require__("./node_modules/next-intl/dist/esm/production/routing/defineRouting.js").A)({locales:["en","es"],defaultLocale:"en",localeCookie:{name:"NEXT_LOCALE",maxAge:31536e3}}),{Link,redirect,usePathname,useRouter}=(0,next_intl_navigation__WEBPACK_IMPORTED_MODULE_0__.A)(routing)},"./src/lib/supabase/browser-client.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{createSupabaseBrowserClient:()=>createSupabaseBrowserClient});var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@supabase/ssr/dist/module/index.js");function createSupabaseBrowserClient(){const supabaseUrl="https://hvnetxfsrtplextvtwfx.supabase.co",supabaseKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh2bmV0eGZzcnRwbGV4dHZ0d2Z4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE1ODc0NTEsImV4cCI6MjA3NzE2MzQ1MX0.7-N06om_ntUuGP1NZ0Zcqz01s975xJfiKno34aIW__o";return(0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createBrowserClient)(supabaseUrl,supabaseKey)}},"./src/lib/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function cn(...classes){return classes.filter(Boolean).join(" ")}__webpack_require__.d(__webpack_exports__,{cn:()=>cn})}}]);