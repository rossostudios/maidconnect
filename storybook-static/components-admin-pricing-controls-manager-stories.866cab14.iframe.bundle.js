"use strict";(self.webpackChunkcasaora=self.webpackChunkcasaora||[]).push([[29857,52136],{"./src/components/admin/pricing-controls-manager.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>pricing_controls_manager_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),format=__webpack_require__("./src/lib/format.ts"),browser_client=__webpack_require__("./src/lib/supabase/browser-client.ts"),toast=__webpack_require__("./src/lib/toast.ts"),console=__webpack_require__("./node_modules/console-browserify/index.js");function PricingControlsManager({initialRules}){const[rules,setRules]=(0,react.useState)(initialRules),[isCreating,setIsCreating]=(0,react.useState)(!1),[editingRule,setEditingRule]=(0,react.useState)(null);return(0,jsx_runtime.jsxs)("div",{className:"space-y-6",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between",children:[(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsxs)("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:[rules.filter(r=>r.is_active).length," active rules · ",rules.length," total"]})}),(0,jsx_runtime.jsx)("button",{className:"rounded-lg bg-slate-900 dark:bg-slate-100 px-6 py-3 font-semibold text-white dark:text-slate-950 transition hover:bg-slate-900 dark:bg-slate-100",onClick:()=>setIsCreating(!0),children:"+ Create New Rule"})]}),(0,jsx_runtime.jsx)("div",{className:"overflow-hidden rounded-2xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950",children:(0,jsx_runtime.jsxs)("table",{className:"w-full",children:[(0,jsx_runtime.jsx)("thead",{className:"bg-white dark:bg-slate-950",children:(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900 dark:text-slate-100 text-sm",children:"Scope"}),(0,jsx_runtime.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900 dark:text-slate-100 text-sm",children:"Commission"}),(0,jsx_runtime.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900 dark:text-slate-100 text-sm",children:"Price Range"}),(0,jsx_runtime.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900 dark:text-slate-100 text-sm",children:"Effective"}),(0,jsx_runtime.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900 dark:text-slate-100 text-sm",children:"Status"}),(0,jsx_runtime.jsx)("th",{className:"px-6 py-4 text-left font-semibold text-slate-900 dark:text-slate-100 text-sm",children:"Actions"})]})}),(0,jsx_runtime.jsx)("tbody",{className:"divide-y divide-[#e2e8f0]",children:0===rules.length?(0,jsx_runtime.jsx)("tr",{children:(0,jsx_runtime.jsx)("td",{className:"px-6 py-12 text-center text-slate-600 dark:text-slate-400",colSpan:6,children:"No pricing rules configured"})}):rules.map(rule=>(0,jsx_runtime.jsxs)("tr",{className:rule.is_active?"":"opacity-50",children:[(0,jsx_runtime.jsx)("td",{className:"px-6 py-4",children:(0,jsx_runtime.jsxs)("div",{className:"text-sm",children:[(0,jsx_runtime.jsx)("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:rule.service_category||(0,jsx_runtime.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"All Categories"})}),(0,jsx_runtime.jsx)("div",{className:"text-slate-600 dark:text-slate-400",children:rule.city||(0,jsx_runtime.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"All Cities"})})]})}),(0,jsx_runtime.jsx)("td",{className:"px-6 py-4",children:(0,jsx_runtime.jsxs)("div",{className:"text-sm",children:[(0,jsx_runtime.jsxs)("div",{className:"font-semibold text-slate-900 dark:text-slate-100",children:[(100*rule.commission_rate).toFixed(1),"%"]}),rule.background_check_fee_cop>0&&(0,jsx_runtime.jsxs)("div",{className:"text-slate-600 dark:text-slate-400",children:["+",(0,format.vv)(rule.background_check_fee_cop,{currency:"COP"})," BG check"]})]})}),(0,jsx_runtime.jsx)("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-400 text-sm",children:rule.min_price_cop||rule.max_price_cop?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[rule.min_price_cop?(0,format.vv)(rule.min_price_cop,{currency:"COP"}):"—"," ","to"," ",rule.max_price_cop?(0,format.vv)(rule.max_price_cop,{currency:"COP"}):"—"]}):(0,jsx_runtime.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"No limits"})}),(0,jsx_runtime.jsxs)("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-400 text-sm",children:[(0,jsx_runtime.jsx)("div",{children:new Date(rule.effective_from).toLocaleDateString()}),rule.effective_until&&(0,jsx_runtime.jsxs)("div",{className:"text-xs",children:["until ",new Date(rule.effective_until).toLocaleDateString()]})]}),(0,jsx_runtime.jsx)("td",{className:"px-6 py-4",children:(0,jsx_runtime.jsx)("span",{className:"inline-flex rounded-full px-3 py-1 font-semibold text-xs "+(rule.is_active?"bg-slate-900 dark:bg-slate-100/10 text-slate-900 dark:text-slate-100":"bg-[#e2e8f0]/30 text-slate-600 dark:text-slate-400"),children:rule.is_active?"Active":"Inactive"})}),(0,jsx_runtime.jsx)("td",{className:"px-6 py-4",children:(0,jsx_runtime.jsxs)("div",{className:"flex gap-2",children:[(0,jsx_runtime.jsx)("button",{className:"font-medium text-slate-900 dark:text-slate-100 text-sm hover:underline",onClick:()=>setEditingRule(rule),children:"Edit"}),(0,jsx_runtime.jsx)("button",{className:"font-medium text-slate-600 dark:text-slate-400 text-sm hover:underline",onClick:()=>(async(ruleId,currentState)=>{const supabase=(0,browser_client.createSupabaseBrowserClient)(),{error}=await supabase.from("pricing_controls").update({is_active:!currentState}).eq("id",ruleId);error?toast.o.error("Failed to update rule"):(setRules(rules.map(r=>r.id===ruleId?{...r,is_active:!currentState}:r)),toast.o.success(currentState?"Rule deactivated":"Rule activated"))})(rule.id,rule.is_active),children:rule.is_active?"Deactivate":"Activate"})]})})]},rule.id))})]})}),(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[(0,jsx_runtime.jsxs)("div",{className:"rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 p-6",children:[(0,jsx_runtime.jsx)("h3",{className:"mb-2 font-semibold text-slate-900 dark:text-slate-100",children:"Rule Priority"}),(0,jsx_runtime.jsxs)("ol",{className:"list-inside list-decimal space-y-1 text-slate-600 dark:text-slate-400 text-sm",children:[(0,jsx_runtime.jsx)("li",{children:"Category + City match"}),(0,jsx_runtime.jsx)("li",{children:"Category only"}),(0,jsx_runtime.jsx)("li",{children:"City only"}),(0,jsx_runtime.jsx)("li",{children:"Default (all)"})]})]}),(0,jsx_runtime.jsxs)("div",{className:"rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 p-6",children:[(0,jsx_runtime.jsx)("h3",{className:"mb-2 font-semibold text-slate-900 dark:text-slate-100",children:"Commission Range"}),(0,jsx_runtime.jsxs)("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:["Platform standard: 15-20%",(0,jsx_runtime.jsx)("br",{}),"Current default: 18%",(0,jsx_runtime.jsx)("br",{}),"Allowed: 10-30%"]})]}),(0,jsx_runtime.jsxs)("div",{className:"rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 p-6",children:[(0,jsx_runtime.jsx)("h3",{className:"mb-2 font-semibold text-slate-900 dark:text-slate-100",children:"Late Cancel Policy"}),(0,jsx_runtime.jsxs)("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:["Default: 24 hours",(0,jsx_runtime.jsx)("br",{}),"Fee: 50% of booking",(0,jsx_runtime.jsx)("br",{}),"Configurable per rule"]})]})]}),(isCreating||editingRule)&&(0,jsx_runtime.jsx)(PricingRuleModal,{onClose:()=>{setIsCreating(!1),setEditingRule(null)},onSave:newRule=>{setRules(editingRule?rules.map(r=>r.id===newRule.id?newRule:r):[newRule,...rules]),setIsCreating(!1),setEditingRule(null)},rule:editingRule})]})}function PricingRuleModal({rule,onClose,onSave}){const[isLoading,setIsLoading]=(0,react.useState)(!1),[formData,setFormData]=(0,react.useState)({service_category:rule?.service_category||"",city:rule?.city||"",commission_rate:rule?100*rule.commission_rate:18,background_check_fee_cop:rule?.background_check_fee_cop||0,min_price_cop:rule?.min_price_cop||null,max_price_cop:rule?.max_price_cop||null,deposit_percentage:rule?.deposit_percentage?100*rule.deposit_percentage:null,late_cancel_hours:rule?.late_cancel_hours||24,late_cancel_fee_percentage:rule?100*rule.late_cancel_fee_percentage:50,effective_from:rule?.effective_from||(new Date).toISOString().split("T")[0],effective_until:rule?.effective_until||"",notes:rule?.notes||""});return(0,jsx_runtime.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-y-auto bg-[#0f172a]/50 p-4",children:(0,jsx_runtime.jsxs)("div",{className:"my-8 w-full max-w-3xl rounded-2xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 p-8",children:[(0,jsx_runtime.jsxs)("h2",{className:"mb-6 font-bold text-2xl text-slate-900 dark:text-slate-100",children:[rule?"Edit":"Create"," Pricing Rule"]}),(0,jsx_runtime.jsxs)("form",{className:"space-y-6",onSubmit:async e=>{e.preventDefault(),setIsLoading(!0);try{const supabase=(0,browser_client.createSupabaseBrowserClient)();if(formData.commission_rate<10||formData.commission_rate>30)return toast.o.error("Commission rate must be between 10% and 30%"),void setIsLoading(!1);if(null!==formData.min_price_cop&&null!==formData.max_price_cop&&formData.min_price_cop>formData.max_price_cop)return toast.o.error("Minimum price cannot exceed maximum price"),void setIsLoading(!1);const payload={service_category:formData.service_category||null,city:formData.city||null,commission_rate:formData.commission_rate/100,background_check_fee_cop:formData.background_check_fee_cop,min_price_cop:formData.min_price_cop,max_price_cop:formData.max_price_cop,deposit_percentage:formData.deposit_percentage?formData.deposit_percentage/100:null,late_cancel_hours:formData.late_cancel_hours,late_cancel_fee_percentage:formData.late_cancel_fee_percentage/100,effective_from:formData.effective_from,effective_until:formData.effective_until||null,notes:formData.notes||null,is_active:!0};if(rule){const{data,error}=await supabase.from("pricing_controls").update(payload).eq("id",rule.id).select().single();if(error)throw error;toast.o.success("Pricing rule updated"),onSave(data)}else{const{data,error}=await supabase.from("pricing_controls").insert(payload).select().single();if(error)throw error;toast.o.success("Pricing rule created"),onSave(data)}}catch(error){console.error("Failed to save pricing rule:",error),toast.o.error("Failed to save pricing rule"),setIsLoading(!1)}},children:[(0,jsx_runtime.jsxs)("div",{className:"rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 p-6",children:[(0,jsx_runtime.jsx)("h3",{className:"mb-4 font-semibold text-slate-900 dark:text-slate-100",children:'Scope (leave blank for "All")'}),(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"mb-2 block font-medium text-slate-900 dark:text-slate-100 text-sm",children:"Service Category"}),(0,jsx_runtime.jsxs)("select",{className:"w-full rounded-lg border border-slate-200 dark:border-slate-800 px-4 py-3 text-sm focus:border-slate-900 dark:border-slate-100 focus:outline-none focus:ring-2 focus:ring-[#64748b]/20",onChange:e=>setFormData({...formData,service_category:e.target.value}),value:formData.service_category,children:[(0,jsx_runtime.jsx)("option",{value:"",children:"All Categories"}),["cleaning","cooking","childcare","elderly_care","pet_care","gardening","laundry"].map(cat=>(0,jsx_runtime.jsx)("option",{value:cat,children:cat.replace(/_/g," ").replace(/\b\w/g,l=>l.toUpperCase())},cat))]})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"mb-2 block font-medium text-slate-900 dark:text-slate-100 text-sm",children:"City"}),(0,jsx_runtime.jsxs)("select",{className:"w-full rounded-lg border border-slate-200 dark:border-slate-800 px-4 py-3 text-sm focus:border-slate-900 dark:border-slate-100 focus:outline-none focus:ring-2 focus:ring-[#64748b]/20",onChange:e=>setFormData({...formData,city:e.target.value}),value:formData.city,children:[(0,jsx_runtime.jsx)("option",{value:"",children:"All Cities"}),["Bogotá","Medellín","Cali","Barranquilla","Cartagena","Bucaramanga","Pereira"].map(city=>(0,jsx_runtime.jsx)("option",{value:city,children:city},city))]})]})]})]}),(0,jsx_runtime.jsxs)("div",{className:"rounded-lg border border-slate-200 dark:border-slate-800 p-6",children:[(0,jsx_runtime.jsx)("h3",{className:"mb-4 font-semibold text-slate-900 dark:text-slate-100",children:"Commission & Fees"}),(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"mb-2 block font-medium text-slate-900 dark:text-slate-100 text-sm",children:"Commission Rate (%) *"}),(0,jsx_runtime.jsx)("input",{className:"w-full rounded-lg border border-slate-200 dark:border-slate-800 px-4 py-3 text-sm focus:border-slate-900 dark:border-slate-100 focus:outline-none focus:ring-2 focus:ring-[#64748b]/20",max:"30",min:"10",onChange:e=>setFormData({...formData,commission_rate:Number.parseFloat(e.target.value)}),required:!0,step:"0.1",type:"number",value:formData.commission_rate}),(0,jsx_runtime.jsx)("p",{className:"mt-1 text-slate-600 dark:text-slate-400 text-xs",children:"Range: 10-30%"})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"mb-2 block font-medium text-slate-900 dark:text-slate-100 text-sm",children:"Background Check Fee (COP)"}),(0,jsx_runtime.jsx)("input",{className:"w-full rounded-lg border border-slate-200 dark:border-slate-800 px-4 py-3 text-sm focus:border-slate-900 dark:border-slate-100 focus:outline-none focus:ring-2 focus:ring-[#64748b]/20",min:"0",onChange:e=>setFormData({...formData,background_check_fee_cop:Number.parseInt(e.target.value,10)||0}),step:"1000",type:"number",value:formData.background_check_fee_cop})]})]})]}),(0,jsx_runtime.jsxs)("div",{className:"rounded-lg border border-slate-200 dark:border-slate-800 p-6",children:[(0,jsx_runtime.jsx)("h3",{className:"mb-4 font-semibold text-slate-900 dark:text-slate-100",children:"Price Limits (Optional)"}),(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"mb-2 block font-medium text-slate-900 dark:text-slate-100 text-sm",children:"Minimum Price (COP)"}),(0,jsx_runtime.jsx)("input",{className:"w-full rounded-lg border border-slate-200 dark:border-slate-800 px-4 py-3 text-sm focus:border-slate-900 dark:border-slate-100 focus:outline-none focus:ring-2 focus:ring-[#64748b]/20",min:"0",onChange:e=>setFormData({...formData,min_price_cop:e.target.value?Number.parseInt(e.target.value,10):null}),placeholder:"No minimum",step:"1000",type:"number",value:formData.min_price_cop||""})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"mb-2 block font-medium text-slate-900 dark:text-slate-100 text-sm",children:"Maximum Price (COP)"}),(0,jsx_runtime.jsx)("input",{className:"w-full rounded-lg border border-slate-200 dark:border-slate-800 px-4 py-3 text-sm focus:border-slate-900 dark:border-slate-100 focus:outline-none focus:ring-2 focus:ring-[#64748b]/20",min:"0",onChange:e=>setFormData({...formData,max_price_cop:e.target.value?Number.parseInt(e.target.value,10):null}),placeholder:"No maximum",step:"1000",type:"number",value:formData.max_price_cop||""})]})]})]}),(0,jsx_runtime.jsxs)("div",{className:"rounded-lg border border-slate-200 dark:border-slate-800 p-6",children:[(0,jsx_runtime.jsx)("h3",{className:"mb-4 font-semibold text-slate-900 dark:text-slate-100",children:"Deposit & Cancellation Policy"}),(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"mb-2 block font-medium text-slate-900 dark:text-slate-100 text-sm",children:"Deposit (%)"}),(0,jsx_runtime.jsx)("input",{className:"w-full rounded-lg border border-slate-200 dark:border-slate-800 px-4 py-3 text-sm focus:border-slate-900 dark:border-slate-100 focus:outline-none focus:ring-2 focus:ring-[#64748b]/20",max:"100",min:"0",onChange:e=>setFormData({...formData,deposit_percentage:e.target.value?Number.parseFloat(e.target.value):null}),placeholder:"Default",step:"5",type:"number",value:formData.deposit_percentage||""})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"mb-2 block font-medium text-slate-900 dark:text-slate-100 text-sm",children:"Late Cancel (hours)"}),(0,jsx_runtime.jsx)("input",{className:"w-full rounded-lg border border-slate-200 dark:border-slate-800 px-4 py-3 text-sm focus:border-slate-900 dark:border-slate-100 focus:outline-none focus:ring-2 focus:ring-[#64748b]/20",min:"0",onChange:e=>setFormData({...formData,late_cancel_hours:Number.parseInt(e.target.value,10)||24}),step:"1",type:"number",value:formData.late_cancel_hours})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"mb-2 block font-medium text-slate-900 dark:text-slate-100 text-sm",children:"Late Cancel Fee (%)"}),(0,jsx_runtime.jsx)("input",{className:"w-full rounded-lg border border-slate-200 dark:border-slate-800 px-4 py-3 text-sm focus:border-slate-900 dark:border-slate-100 focus:outline-none focus:ring-2 focus:ring-[#64748b]/20",max:"100",min:"0",onChange:e=>setFormData({...formData,late_cancel_fee_percentage:Number.parseFloat(e.target.value)||50}),step:"5",type:"number",value:formData.late_cancel_fee_percentage})]})]})]}),(0,jsx_runtime.jsxs)("div",{className:"rounded-lg border border-slate-200 dark:border-slate-800 p-6",children:[(0,jsx_runtime.jsx)("h3",{className:"mb-4 font-semibold text-slate-900 dark:text-slate-100",children:"Effective Dates"}),(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"mb-2 block font-medium text-slate-900 dark:text-slate-100 text-sm",children:"Effective From *"}),(0,jsx_runtime.jsx)("input",{className:"w-full rounded-lg border border-slate-200 dark:border-slate-800 px-4 py-3 text-sm focus:border-slate-900 dark:border-slate-100 focus:outline-none focus:ring-2 focus:ring-[#64748b]/20",onChange:e=>setFormData({...formData,effective_from:e.target.value}),required:!0,type:"date",value:formData.effective_from})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"mb-2 block font-medium text-slate-900 dark:text-slate-100 text-sm",children:"Effective Until"}),(0,jsx_runtime.jsx)("input",{className:"w-full rounded-lg border border-slate-200 dark:border-slate-800 px-4 py-3 text-sm focus:border-slate-900 dark:border-slate-100 focus:outline-none focus:ring-2 focus:ring-[#64748b]/20",onChange:e=>setFormData({...formData,effective_until:e.target.value}),placeholder:"No end date",type:"date",value:formData.effective_until})]})]})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"mb-2 block font-medium text-slate-900 dark:text-slate-100 text-sm",children:"Notes (Optional)"}),(0,jsx_runtime.jsx)("textarea",{className:"w-full rounded-lg border border-slate-200 dark:border-slate-800 px-4 py-3 text-sm focus:border-slate-900 dark:border-slate-100 focus:outline-none focus:ring-2 focus:ring-[#64748b]/20",onChange:e=>setFormData({...formData,notes:e.target.value}),placeholder:"Internal notes about this pricing rule...",rows:3,value:formData.notes})]}),(0,jsx_runtime.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,jsx_runtime.jsx)("button",{className:"rounded-lg border border-slate-200 dark:border-slate-800 px-6 py-3 font-semibold text-slate-900 dark:text-slate-100 transition hover:border-slate-900 dark:border-slate-100 disabled:opacity-50",disabled:isLoading,onClick:onClose,type:"button",children:"Cancel"}),(0,jsx_runtime.jsx)("button",{className:"rounded-lg bg-slate-900 dark:bg-slate-100 px-6 py-3 font-semibold text-white dark:text-slate-950 transition hover:bg-slate-900 dark:bg-slate-100 disabled:opacity-50",disabled:isLoading,type:"submit",children:isLoading?"Saving...":rule?"Update Rule":"Create Rule"})]})]})]})})}try{PricingControlsManager.displayName="PricingControlsManager",PricingControlsManager.__docgenInfo={description:"",displayName:"PricingControlsManager",props:{initialRules:{defaultValue:null,description:"",name:"initialRules",required:!0,type:{name:"PricingRule[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/admin/pricing-controls-manager.tsx#PricingControlsManager"]={docgenInfo:PricingControlsManager.__docgenInfo,name:"PricingControlsManager",path:"src/components/admin/pricing-controls-manager.tsx#PricingControlsManager"})}catch(__react_docgen_typescript_loader_error){}const pricing_controls_manager_stories={title:"Admin/Pricing Controls Manager",component:PricingControlsManager,parameters:{layout:"centered"},tags:["autodocs"]},Default={args:{}},__namedExportsOrder=["Default"]},"./src/lib/format.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function formatCurrency(amount,options={}){const{locale="es-CO",currency="COP",minimumFractionDigits=0,maximumFractionDigits="COP"===currency?0:2}=options,safeAmount=amount??0;return Number.isFinite(safeAmount)?new Intl.NumberFormat(locale,{style:"currency",currency,minimumFractionDigits,maximumFractionDigits}).format(safeAmount):new Intl.NumberFormat(locale,{style:"currency",currency,minimumFractionDigits,maximumFractionDigits}).format(0)}function formatCOP(amount){return formatCurrency(amount,{locale:"es-CO",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0})}function formatDate(date,options={}){if(!date)return"";const{locale="en-US",weekday,year="numeric",month="short",day="numeric"}=options;try{const dateObj="string"==typeof date?new Date(date):date;return!dateObj||Number.isNaN(dateObj.getTime())?"":dateObj.toLocaleDateString(locale,{weekday,year,month,day})}catch{return""}}__webpack_require__.d(__webpack_exports__,{Kq:()=>formatCOP,Yq:()=>formatDate,vv:()=>formatCurrency})},"./src/lib/supabase/browser-client.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{createSupabaseBrowserClient:()=>createSupabaseBrowserClient});var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@supabase/ssr/dist/module/index.js");function createSupabaseBrowserClient(){const supabaseUrl="https://hvnetxfsrtplextvtwfx.supabase.co",supabaseKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh2bmV0eGZzcnRwbGV4dHZ0d2Z4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE1ODc0NTEsImV4cCI6MjA3NzE2MzQ1MX0.7-N06om_ntUuGP1NZ0Zcqz01s975xJfiKno34aIW__o";return(0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createBrowserClient)(supabaseUrl,supabaseKey)}},"./src/lib/toast.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{l:()=>confirm,o:()=>toast});let toastContainer=null;function showToast(message,options={}){const{duration=3e3,type="info"}=options,container=function getToastContainer(){return toastContainer&&document.body.contains(toastContainer)||(toastContainer=document.createElement("div"),toastContainer.id="toast-container",toastContainer.style.cssText="\n    position: fixed;\n    top: 20px;\n    right: 20px;\n    z-index: 9999;\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    pointer-events: none;\n  ",document.body.appendChild(toastContainer)),toastContainer}(),toast=document.createElement("div");if(toast.textContent=message,toast.style.cssText=function getToastStyles(type){return"\n    padding: 12px 20px;\n    border-radius: 8px;\n    font-family: system-ui, -apple-system, sans-serif;\n    font-size: 14px;\n    font-weight: 500;\n    box-shadow: 0 4px 12px rgba(22, 22, 22, 0.15);\n    pointer-events: auto;\n    min-width: 300px;\n    max-width: 500px;\n    word-wrap: break-word;\n    animation: slideIn 0.3s ease-out;\n  "+{success:"background-color: #FF4444A22; color: white;",error:"background-color: #FF4444A22; color: white;",info:"background-color: #FF4444A22; color: white;",warning:"background-color: #FF4444A22; color: white;"}[type]}(type),!document.getElementById("toast-animations")){const style=document.createElement("style");style.id="toast-animations",style.textContent="\n      @keyframes slideIn {\n        from {\n          transform: translateX(100%);\n          opacity: 0;\n        }\n        to {\n          transform: translateX(0);\n          opacity: 1;\n        }\n      }\n      @keyframes slideOut {\n        from {\n          transform: translateX(0);\n          opacity: 1;\n        }\n        to {\n          transform: translateX(100%);\n          opacity: 0;\n        }\n      }\n    ",document.head.appendChild(style)}container.appendChild(toast),setTimeout(()=>{toast.style.animation="slideOut 0.3s ease-in",setTimeout(()=>{toast.parentNode&&toast.parentNode.removeChild(toast),0===container.children.length&&container.parentNode&&(container.parentNode.removeChild(container),toastContainer=null)},300)},duration)}const toast={success:(message,duration)=>showToast(message,{type:"success",duration}),error:(message,duration)=>showToast(message,{type:"error",duration}),info:(message,duration)=>showToast(message,{type:"info",duration}),warning:(message,duration)=>showToast(message,{type:"warning",duration})};function confirm(message,title="Confirm"){return new Promise(resolve=>{const overlay=document.createElement("div");overlay.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background-color: rgba(22, 22, 22, 0.5);\n      z-index: 10000;\n      display: flex;\n      align-items: center;\n      justify-center;\n      animation: fadeIn 0.2s ease-out;\n    ";const modal=document.createElement("div");modal.style.cssText="\n      background-color: white;\n      border-radius: 12px;\n      padding: 24px;\n      max-width: 400px;\n      width: 90%;\n      box-shadow: 0 20px 25px -5px rgba(22, 22, 22, 0.1);\n      animation: scaleIn 0.2s ease-out;\n    ";const titleElement=document.createElement("h3");titleElement.textContent=title,titleElement.style.cssText="\n      font-size: 18px;\n      font-weight: 600;\n      color: #116611616;\n      margin-bottom: 12px;\n    ";const messageElement=document.createElement("p");messageElement.textContent=message,messageElement.style.cssText="\n      font-size: 14px;\n      color: #116611616;\n      margin-bottom: 20px;\n      line-height: 1.5;\n    ";const buttonContainer=document.createElement("div");buttonContainer.style.cssText="\n      display: flex;\n      gap: 12px;\n      justify-content: flex-end;\n    ";const cancelButton=document.createElement("button");cancelButton.textContent="Cancel",cancelButton.style.cssText="\n      padding: 8px 16px;\n      border-radius: 8px;\n      border: 2px solid #EE44EE2E3;\n      background-color: white;\n      color: #116611616;\n      font-weight: 600;\n      font-size: 14px;\n      cursor: pointer;\n      transition: all 0.2s;\n    ",cancelButton.onmouseover=()=>{cancelButton.style.borderColor="#AA88AAAAC",cancelButton.style.color="#AA88AAAAC"},cancelButton.onmouseout=()=>{cancelButton.style.borderColor="#EE44EE2E3",cancelButton.style.color="#116611616"};const confirmButton=document.createElement("button");confirmButton.textContent="Confirm",confirmButton.style.cssText="\n      padding: 8px 16px;\n      border-radius: 8px;\n      border: none;\n      background-color: #AA88AAAAC;\n      color: white;\n      font-weight: 600;\n      font-size: 14px;\n      cursor: pointer;\n      transition: all 0.2s;\n    ",confirmButton.onmouseover=()=>{confirmButton.style.backgroundColor="#AA88AAAAC"},confirmButton.onmouseout=()=>{confirmButton.style.backgroundColor="#AA88AAAAC"};const cleanup=()=>{overlay.style.animation="fadeOut 0.2s ease-in",setTimeout(()=>{overlay.parentNode&&overlay.parentNode.removeChild(overlay)},200)};if(cancelButton.onclick=()=>{cleanup(),resolve(!1)},confirmButton.onclick=()=>{cleanup(),resolve(!0)},!document.getElementById("modal-animations")){const style=document.createElement("style");style.id="modal-animations",style.textContent="\n        @keyframes fadeIn {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n        @keyframes fadeOut {\n          from { opacity: 1; }\n          to { opacity: 0; }\n        }\n        @keyframes scaleIn {\n          from {\n            transform: scale(0.9);\n            opacity: 0;\n          }\n          to {\n            transform: scale(1);\n            opacity: 1;\n          }\n        }\n      ",document.head.appendChild(style)}buttonContainer.appendChild(cancelButton),buttonContainer.appendChild(confirmButton),modal.appendChild(titleElement),modal.appendChild(messageElement),modal.appendChild(buttonContainer),overlay.appendChild(modal),document.body.appendChild(overlay),confirmButton.focus()})}}}]);