"use strict";(self.webpackChunkcasaora=self.webpackChunkcasaora||[]).push([[24081,70979],{"./node_modules/@hugeicons/react/dist/esm/HugeiconsIcon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>HugeiconsIcon});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none"},HugeiconsIcon=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({color="currentColor",size=24,strokeWidth,absoluteStrokeWidth=!1,className="",altIcon,showAlt=!1,icon,primaryColor,secondaryColor,disableSecondaryOpacity=!1,...rest},ref)=>{const calculatedStrokeWidth=void 0!==strokeWidth?absoluteStrokeWidth?24*Number(strokeWidth)/Number(size):strokeWidth:void 0,strokeProps=void 0!==calculatedStrokeWidth?{strokeWidth:calculatedStrokeWidth,stroke:"currentColor"}:{},elementProps={ref,...defaultAttributes,width:size,height:size,color:primaryColor||color,className,...strokeProps,...rest},svgChildren=[...showAlt&&altIcon?altIcon:icon].sort(([,a],[,b])=>{const hasOpacityA=void 0!==a.opacity;return void 0!==b.opacity?1:hasOpacityA?-1:0}).map(([tag,attrs])=>{const isSecondaryPath=void 0!==attrs.opacity,pathOpacity=isSecondaryPath&&!disableSecondaryOpacity?attrs.opacity:void 0,fillProps=secondaryColor?{...void 0!==attrs.stroke?{stroke:isSecondaryPath?secondaryColor:primaryColor||color}:{fill:isSecondaryPath?secondaryColor:primaryColor||color}}:{};return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(tag,{...attrs,...strokeProps,...fillProps,opacity:pathOpacity,key:attrs.key})});return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("svg",elementProps,svgChildren)});HugeiconsIcon.displayName="HugeiconsIcon"},"./node_modules/next-intl/dist/esm/production/react-client/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c3:()=>e});var use_intl__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/use-intl/dist/esm/production/react.js");function o(r,t){return(...r)=>{try{return t(...r)}catch{throw new Error(void 0)}}}const e=o(0,use_intl__WEBPACK_IMPORTED_MODULE_0__.c3);o(0,use_intl__WEBPACK_IMPORTED_MODULE_0__.kc)},"./src/components/profile/profile-editor.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>profile_editor_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),index_min=__webpack_require__("./node_modules/@hugeicons/core-free-icons/dist/esm/index.min.js"),HugeiconsIcon=__webpack_require__("./node_modules/@hugeicons/react/dist/esm/HugeiconsIcon.js"),react_client=__webpack_require__("./node_modules/next-intl/dist/esm/production/react-client/index.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const LANGUAGE_OPTIONS=["English","Español","Português","Français","Deutsch"],SERVICE_OPTIONS=["House cleaning","Laundry","Cooking","Organization","Childcare","Pet care","Errand running","Gardening","Elder care"];function ProfileEditor({profile:initialProfile}){const t=(0,react_client.c3)("dashboard.pro.profileEditor"),[profile,setProfile]=(0,react.useState)(initialProfile),[submissionState,submitAction,isPending]=(0,react.useActionState)(async(_prevState,profileData)=>{try{const response=await fetch("/api/professional/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({full_name:profileData.full_name,bio:profileData.bio,languages:profileData.languages,phone_number:profileData.phone_number,avatar_url:profileData.avatar_url,primary_services:profileData.primary_services})});if(!response.ok){const data=await response.json();throw new Error(data.error||"Failed to update profile")}return{status:"success",error:null}}catch(err){return{status:"error",error:err instanceof Error?err.message:"Failed to update profile"}}},{status:"idle",error:null});(0,react.useEffect)(()=>{if("success"===submissionState.status){const timeout=setTimeout(()=>{},3e3);return()=>clearTimeout(timeout)}},[submissionState.status]);return(0,jsx_runtime.jsxs)("div",{className:"space-y-8",children:["success"===submissionState.status&&(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-3 rounded-xl bg-[#64748b]/10 p-4 text-[#64748b]",children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-5 w-5",icon:index_min.yim}),(0,jsx_runtime.jsx)("p",{className:"font-semibold text-sm",children:t("success")})]}),submissionState.error&&(0,jsx_runtime.jsx)("div",{className:"rounded-xl bg-[#64748b]/10 p-4 text-[#64748b]",children:(0,jsx_runtime.jsx)("p",{className:"font-semibold text-sm",children:submissionState.error})}),(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2 font-semibold text-[#0f172a] text-lg",children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-5 w-5",icon:index_min.nys}),(0,jsx_runtime.jsx)("h3",{children:t("sections.basicInfo.title")})]}),(0,jsx_runtime.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"mb-2 block font-semibold text-[#0f172a] text-sm",htmlFor:"profile-fullname",children:t("sections.basicInfo.fields.fullName.label")}),(0,jsx_runtime.jsx)("input",{className:"w-full rounded-xl border border-[#e2e8f0] bg-[#f8fafc] px-4 py-3 text-base shadow-sm focus:border-[#64748b] focus:outline-none focus:ring-2 focus:ring-[#64748b]/20",id:"profile-fullname",onChange:e=>setProfile({...profile,full_name:e.target.value}),placeholder:t("sections.basicInfo.fields.fullName.placeholder"),type:"text",value:profile.full_name})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("div",{className:"mb-2 block font-semibold text-[#0f172a] text-sm",children:t("sections.basicInfo.fields.email.label")}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2 rounded-xl border border-[#e2e8f0] bg-[#f8fafc] px-4 py-3",children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-4 w-4 text-[#94a3b8]",icon:index_min.TVG}),(0,jsx_runtime.jsx)("span",{className:"text-[#94a3b8] text-base",children:profile.email})]}),(0,jsx_runtime.jsx)("p",{className:"mt-1 text-[#94a3b8] text-xs",children:t("sections.basicInfo.fields.email.helper")})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"mb-2 block font-semibold text-[#0f172a] text-sm",htmlFor:"profile-phone",children:t("sections.basicInfo.fields.phoneNumber.label")}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2 rounded-xl border border-[#e2e8f0] bg-[#f8fafc] px-4 py-3 shadow-sm",children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-4 w-4 text-[#94a3b8]",icon:index_min.qsw}),(0,jsx_runtime.jsx)("input",{className:"flex-1 text-base focus:outline-none",id:"profile-phone",onChange:e=>setProfile({...profile,phone_number:e.target.value}),placeholder:t("sections.basicInfo.fields.phoneNumber.placeholder"),type:"tel",value:profile.phone_number})]})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"mb-2 block font-semibold text-[#0f172a] text-sm",htmlFor:"profile-avatar",children:t("sections.basicInfo.fields.avatarUrl.label")}),(0,jsx_runtime.jsx)("input",{className:"w-full rounded-xl border border-[#e2e8f0] bg-[#f8fafc] px-4 py-3 text-base shadow-sm focus:border-[#64748b] focus:outline-none focus:ring-2 focus:ring-[#64748b]/20",id:"profile-avatar",onChange:e=>setProfile({...profile,avatar_url:e.target.value}),placeholder:t("sections.basicInfo.fields.avatarUrl.placeholder"),type:"url",value:profile.avatar_url}),(0,jsx_runtime.jsx)("p",{className:"mt-1 text-[#94a3b8] text-xs",children:t("sections.basicInfo.fields.avatarUrl.helper")})]})]})]}),(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2 font-semibold text-[#0f172a] text-lg",children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-5 w-5",icon:index_min.gPn}),(0,jsx_runtime.jsx)("h3",{children:t("sections.professionalSummary.title")})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"mb-2 block font-semibold text-[#0f172a] text-sm",htmlFor:"profile-bio",children:t("sections.professionalSummary.fields.bio.label")}),(0,jsx_runtime.jsx)("textarea",{className:"w-full rounded-xl border border-[#e2e8f0] bg-[#f8fafc] px-4 py-3 text-base shadow-sm focus:border-[#64748b] focus:outline-none focus:ring-2 focus:ring-[#64748b]/20",id:"profile-bio",onChange:e=>setProfile({...profile,bio:e.target.value}),placeholder:t("sections.professionalSummary.fields.bio.placeholder"),rows:5,value:profile.bio}),(0,jsx_runtime.jsxs)("p",{className:"mt-1 text-[#94a3b8] text-xs",children:[profile.bio.length,t("sections.professionalSummary.fields.bio.characterCounter")]})]})]}),(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2 font-semibold text-[#0f172a] text-lg",children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-5 w-5",icon:index_min.fCU}),(0,jsx_runtime.jsx)("h3",{children:t("sections.languages.title")})]}),(0,jsx_runtime.jsx)("div",{className:"flex flex-wrap gap-2",children:LANGUAGE_OPTIONS.map(language=>(0,jsx_runtime.jsx)("button",{className:"rounded-full border-2 px-4 py-2 font-semibold text-sm transition "+(profile.languages.includes(language)?"border-[#64748b] bg-[#64748b] text-[#f8fafc]":"border-[#e2e8f0] bg-[#f8fafc] text-[#0f172a] hover:border-[#64748b] hover:text-[#64748b]"),onClick:()=>(language=>{setProfile(prev=>({...prev,languages:prev.languages.includes(language)?prev.languages.filter(l=>l!==language):[...prev.languages,language]}))})(language),type:"button",children:language},language))}),(0,jsx_runtime.jsx)("p",{className:"text-[#94a3b8] text-xs",children:t("sections.languages.helper")})]}),(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2 font-semibold text-[#0f172a] text-lg",children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-5 w-5",icon:index_min.gPn}),(0,jsx_runtime.jsx)("h3",{children:t("sections.services.title")})]}),(0,jsx_runtime.jsx)("div",{className:"flex flex-wrap gap-2",children:SERVICE_OPTIONS.map(service=>(0,jsx_runtime.jsx)("button",{className:"rounded-full border-2 px-4 py-2 font-semibold text-sm transition "+(profile.primary_services.includes(service)?"border-[#64748b] bg-[#64748b] text-[#f8fafc]":"border-[#e2e8f0] bg-[#f8fafc] text-[#0f172a] hover:border-[#64748b] hover:text-[#64748b]"),onClick:()=>(service=>{setProfile(prev=>({...prev,primary_services:prev.primary_services.includes(service)?prev.primary_services.filter(s=>s!==service):[...prev.primary_services,service]}))})(service),type:"button",children:service},service))}),(0,jsx_runtime.jsx)("p",{className:"text-[#94a3b8] text-xs",children:t("sections.services.helper")})]}),(0,jsx_runtime.jsx)("div",{className:"flex items-center justify-end gap-3 border-[#e2e8f0] border-t pt-6",children:(0,jsx_runtime.jsx)("button",{className:"rounded-full bg-[#64748b] px-8 py-3 font-semibold text-base text-[#f8fafc] shadow-[0_6px_18px_rgba(244,74,34,0.22)] transition hover:bg-[#64748b] disabled:cursor-not-allowed disabled:opacity-50",disabled:isPending,onClick:()=>{submitAction(profile)},type:"button",children:isPending?(0,jsx_runtime.jsxs)("span",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsxs)("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",children:[(0,jsx_runtime.jsx)("title",{children:"Loading spinner"}),(0,jsx_runtime.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",fill:"none",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,jsx_runtime.jsx)("path",{className:"opacity-75",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",fill:"currentColor"})]}),t("saving")]}):t("save")})})]})}try{ProfileEditor.displayName="ProfileEditor",ProfileEditor.__docgenInfo={description:"",displayName:"ProfileEditor",props:{profile:{defaultValue:null,description:"",name:"profile",required:!0,type:{name:"Profile"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/profile/profile-editor.tsx#ProfileEditor"]={docgenInfo:ProfileEditor.__docgenInfo,name:"ProfileEditor",path:"src/components/profile/profile-editor.tsx#ProfileEditor"})}catch(__react_docgen_typescript_loader_error){}const profile_editor_stories={title:"Profile/ProfileEditor",component:ProfileEditor,parameters:{layout:"padded"},tags:["autodocs"]},Default={},__namedExportsOrder=["Default"]}}]);