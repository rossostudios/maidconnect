"use strict";(self.webpackChunkcasaora=self.webpackChunkcasaora||[]).push([[24081,39622],{"./node_modules/@hugeicons/react/dist/esm/HugeiconsIcon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>HugeiconsIcon});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none"},HugeiconsIcon=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({color="currentColor",size=24,strokeWidth,absoluteStrokeWidth=!1,className="",altIcon,showAlt=!1,icon,primaryColor,secondaryColor,disableSecondaryOpacity=!1,...rest},ref)=>{const calculatedStrokeWidth=void 0!==strokeWidth?absoluteStrokeWidth?24*Number(strokeWidth)/Number(size):strokeWidth:void 0,strokeProps=void 0!==calculatedStrokeWidth?{strokeWidth:calculatedStrokeWidth,stroke:"currentColor"}:{},elementProps={ref,...defaultAttributes,width:size,height:size,color:primaryColor||color,className,...strokeProps,...rest},svgChildren=[...showAlt&&altIcon?altIcon:icon].sort(([,a],[,b])=>{const hasOpacityA=void 0!==a.opacity;return void 0!==b.opacity?1:hasOpacityA?-1:0}).map(([tag,attrs])=>{const isSecondaryPath=void 0!==attrs.opacity,pathOpacity=isSecondaryPath&&!disableSecondaryOpacity?attrs.opacity:void 0,fillProps=secondaryColor?{...void 0!==attrs.stroke?{stroke:isSecondaryPath?secondaryColor:primaryColor||color}:{fill:isSecondaryPath?secondaryColor:primaryColor||color}}:{};return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(tag,{...attrs,...strokeProps,...fillProps,opacity:pathOpacity,key:attrs.key})});return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("svg",elementProps,svgChildren)});HugeiconsIcon.displayName="HugeiconsIcon"},"./src/components/bookings/recurring-schedule-selector.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>recurring_schedule_selector_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),index_min=__webpack_require__("./node_modules/@hugeicons/core-free-icons/dist/esm/index.min.js"),HugeiconsIcon=__webpack_require__("./node_modules/@hugeicons/react/dist/esm/HugeiconsIcon.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const FREQUENCY_LABELS={weekly:"Weekly",biweekly:"Every 2 Weeks",monthly:"Monthly"},FREQUENCY_DISCOUNTS={weekly:.15,biweekly:.12,monthly:.1},DAY_NAMES=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function RecurringScheduleSelector({basePrice,currency="COP",onScheduleChange,initialSchedule}){const[isEnabled,setIsEnabled]=(0,react.useState)(!!initialSchedule),[frequency,setFrequency]=(0,react.useState)(initialSchedule?.frequency||"biweekly"),[startDate,setStartDate]=(0,react.useState)(initialSchedule?.startDate||(new Date).toISOString().split("T")[0]),[dayOfWeek,setDayOfWeek]=(0,react.useState)(initialSchedule?.dayOfWeek??1),[endType,setEndType]=(0,react.useState)(initialSchedule?.endType||"occurrences"),[occurrences,setOccurrences]=(0,react.useState)(initialSchedule?.occurrences||12),[endDate,setEndDate]=(0,react.useState)(initialSchedule?.endDate||new Date(Date.now()+7776e6).toISOString().split("T")[0]),discountedPrice=basePrice*(1-FREQUENCY_DISCOUNTS[frequency]),totalSavings=(basePrice-discountedPrice)*("occurrences"===endType?occurrences:12),updateSchedule=(updates={})=>{if(!isEnabled)return void onScheduleChange(null);const schedule={frequency,startDate,dayOfWeek:"monthly"!==frequency?dayOfWeek:void 0,endType,occurrences:"occurrences"===endType?occurrences:void 0,endDate:"date"===endType?endDate:void 0,...updates};onScheduleChange(schedule)},handleEndTypeChange=type=>{setEndType(type),updateSchedule({endType:type})},formatCurrency=amount=>new Intl.NumberFormat("es-CO",{style:"currency",currency,minimumFractionDigits:0}).format(amount);return(0,jsx_runtime.jsxs)("div",{className:"space-y-6 rounded-2xl border border-[#e2e8f0] bg-[#f8fafc] p-6",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-start justify-between",children:[(0,jsx_runtime.jsxs)("div",{className:"flex-1",children:[(0,jsx_runtime.jsx)("h3",{className:"font-semibold text-[#0f172a] text-lg",children:"Recurring Booking"}),(0,jsx_runtime.jsx)("p",{className:"mt-1 text-[#94a3b8] text-sm",children:"Save up to 15% with weekly, biweekly, or monthly plans"})]}),(0,jsx_runtime.jsx)("button",{className:"relative h-7 w-12 rounded-full transition "+(isEnabled?"bg-[#64748b]":"bg-[#e2e8f0]"),onClick:()=>{return setIsEnabled(enabled=!isEnabled),void(enabled?updateSchedule():onScheduleChange(null));var enabled},type:"button",children:(0,jsx_runtime.jsx)("span",{className:"absolute top-1 h-5 w-5 rounded-full bg-[#f8fafc] transition "+(isEnabled?"right-1":"left-1")})})]}),isEnabled&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:"space-y-3",children:[(0,jsx_runtime.jsx)("div",{className:"block font-medium text-[#0f172a] text-sm",children:"Frequency"}),(0,jsx_runtime.jsx)("div",{className:"grid grid-cols-3 gap-3",children:["weekly","biweekly","monthly"].map(freq=>(0,jsx_runtime.jsxs)("button",{className:"flex flex-col items-center gap-2 rounded-xl border-2 p-4 transition "+(frequency===freq?"border-[#64748b] bg-[#f8fafc]":"border-[#e2e8f0] bg-[#f8fafc] hover:border-[#e2e8f0]"),onClick:()=>{return setFrequency(newFrequency=freq),void updateSchedule({frequency:newFrequency});var newFrequency},type:"button",children:[(0,jsx_runtime.jsx)("span",{className:"font-semibold text-[#0f172a] text-sm",children:FREQUENCY_LABELS[freq]}),(0,jsx_runtime.jsxs)("span",{className:"font-medium text-[#64748b] text-xs",children:["Save ",(100*FREQUENCY_DISCOUNTS[freq]).toFixed(0),"%"]})]},freq))})]}),(0,jsx_runtime.jsxs)("div",{className:"space-y-3",children:[(0,jsx_runtime.jsx)("label",{className:"block font-medium text-[#0f172a] text-sm",htmlFor:"start-date",children:"Start Date"}),(0,jsx_runtime.jsxs)("div",{className:"relative",children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"absolute top-3 left-3 h-5 w-5 text-[#94a3b8]",icon:index_min.vxL}),(0,jsx_runtime.jsx)("input",{className:"w-full rounded-xl border border-[#e2e8f0] py-3 pr-4 pl-11 text-[#0f172a] transition focus:border-[#64748b] focus:outline-none focus:ring-2 focus:ring-[#64748b]/20",id:"start-date",min:(new Date).toISOString().split("T")[0],onChange:e=>{return date=e.target.value,setStartDate(date),void updateSchedule({startDate:date});var date},type:"date",value:startDate})]})]}),"monthly"!==frequency&&(0,jsx_runtime.jsxs)("div",{className:"space-y-3",children:[(0,jsx_runtime.jsx)("div",{className:"block font-medium text-[#0f172a] text-sm",children:"Day of Week"}),(0,jsx_runtime.jsx)("div",{className:"grid grid-cols-7 gap-2",children:DAY_NAMES.map((day,index)=>(0,jsx_runtime.jsx)("button",{className:"rounded-lg border-2 px-2 py-3 text-xs transition "+(dayOfWeek===index?"border-[#64748b] bg-[#f8fafc] font-semibold text-[#64748b]":"border-[#e2e8f0] bg-[#f8fafc] text-[#94a3b8] hover:border-[#e2e8f0]"),onClick:()=>(day=>{setDayOfWeek(day),updateSchedule({dayOfWeek:day})})(index),type:"button",children:day.slice(0,3)},day))})]}),(0,jsx_runtime.jsxs)("div",{className:"space-y-3",children:[(0,jsx_runtime.jsx)("div",{className:"block font-medium text-[#0f172a] text-sm",children:"End Condition"}),(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,jsx_runtime.jsx)("button",{className:"rounded-xl border-2 px-4 py-3 text-sm transition "+("occurrences"===endType?"border-[#64748b] bg-[#f8fafc] font-semibold text-[#64748b]":"border-[#e2e8f0] bg-[#f8fafc] text-[#94a3b8] hover:border-[#e2e8f0]"),onClick:()=>handleEndTypeChange("occurrences"),type:"button",children:"# of times"}),(0,jsx_runtime.jsx)("button",{className:"rounded-xl border-2 px-4 py-3 text-sm transition "+("date"===endType?"border-[#64748b] bg-[#f8fafc] font-semibold text-[#64748b]":"border-[#e2e8f0] bg-[#f8fafc] text-[#94a3b8] hover:border-[#e2e8f0]"),onClick:()=>handleEndTypeChange("date"),type:"button",children:"End date"}),(0,jsx_runtime.jsx)("button",{className:"rounded-xl border-2 px-4 py-3 text-sm transition "+("never"===endType?"border-[#64748b] bg-[#f8fafc] font-semibold text-[#64748b]":"border-[#e2e8f0] bg-[#f8fafc] text-[#94a3b8] hover:border-[#e2e8f0]"),onClick:()=>handleEndTypeChange("never"),type:"button",children:"Never"})]}),"occurrences"===endType&&(0,jsx_runtime.jsx)("div",{className:"mt-3",children:(0,jsx_runtime.jsx)("input",{className:"w-full rounded-xl border border-[#e2e8f0] px-4 py-3 text-[#0f172a] transition focus:border-[#64748b] focus:outline-none focus:ring-2 focus:ring-[#64748b]/20",max:"52",min:"2",onChange:e=>{return count=Number(e.target.value),setOccurrences(count),void updateSchedule({occurrences:count});var count},placeholder:"Number of bookings",type:"number",value:occurrences})}),"date"===endType&&(0,jsx_runtime.jsxs)("div",{className:"relative mt-3",children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"absolute top-3 left-3 h-5 w-5 text-[#94a3b8]",icon:index_min.vxL}),(0,jsx_runtime.jsx)("input",{className:"w-full rounded-xl border border-[#e2e8f0] py-3 pr-4 pl-11 text-[#0f172a] transition focus:border-[#64748b] focus:outline-none focus:ring-2 focus:ring-[#64748b]/20",min:startDate,onChange:e=>{return date=e.target.value,setEndDate(date),void updateSchedule({endDate:date});var date},type:"date",value:endDate})]})]}),(0,jsx_runtime.jsxs)("div",{className:"space-y-4 rounded-xl bg-gradient-to-br from-[bg-[#f8fafc]] to-[#f8fafc] p-5",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-start gap-3",children:[(0,jsx_runtime.jsx)("div",{className:"rounded-full bg-[#64748b]/10 p-2",children:(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-5 w-5 text-[#64748b]",icon:index_min.KSg})}),(0,jsx_runtime.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,jsx_runtime.jsx)("h4",{className:"font-semibold text-[#0f172a]",children:"Your Savings"}),(0,jsx_runtime.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,jsx_runtime.jsxs)("div",{className:"flex justify-between",children:[(0,jsx_runtime.jsx)("span",{className:"text-[#94a3b8]",children:"Regular price:"}),(0,jsx_runtime.jsx)("span",{className:"text-[#94a3b8] line-through",children:formatCurrency(basePrice)})]}),(0,jsx_runtime.jsxs)("div",{className:"flex justify-between",children:[(0,jsx_runtime.jsx)("span",{className:"text-[#0f172a]",children:"Your price:"}),(0,jsx_runtime.jsx)("span",{className:"font-semibold text-[#64748b]",children:formatCurrency(discountedPrice)})]}),"occurrences"===endType&&(0,jsx_runtime.jsxs)("div",{className:"flex justify-between border-[#e2e8f0] border-t pt-2",children:[(0,jsx_runtime.jsx)("span",{className:"font-medium text-[#0f172a]",children:"Total savings:"}),(0,jsx_runtime.jsx)("span",{className:"font-bold text-[#64748b]",children:formatCurrency(totalSavings)})]})]})]})]}),"never"===endType&&(0,jsx_runtime.jsx)("p",{className:"text-[#94a3b8] text-xs",children:"Cancel anytime. No commitment required."})]})]})]})}try{RecurringScheduleSelector.displayName="RecurringScheduleSelector",RecurringScheduleSelector.__docgenInfo={description:"",displayName:"RecurringScheduleSelector",props:{basePrice:{defaultValue:null,description:"",name:"basePrice",required:!0,type:{name:"number"}},currency:{defaultValue:{value:"COP"},description:"",name:"currency",required:!1,type:{name:"string"}},onScheduleChange:{defaultValue:null,description:"",name:"onScheduleChange",required:!0,type:{name:"(schedule: RecurringSchedule) => void"}},initialSchedule:{defaultValue:null,description:"",name:"initialSchedule",required:!1,type:{name:"RecurringSchedule"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/bookings/recurring-schedule-selector.tsx#RecurringScheduleSelector"]={docgenInfo:RecurringScheduleSelector.__docgenInfo,name:"RecurringScheduleSelector",path:"src/components/bookings/recurring-schedule-selector.tsx#RecurringScheduleSelector"})}catch(__react_docgen_typescript_loader_error){}const recurring_schedule_selector_stories={title:"Bookings/RecurringScheduleSelector",component:RecurringScheduleSelector,parameters:{layout:"padded"},tags:["autodocs"]},Default={},__namedExportsOrder=["Default"]}}]);