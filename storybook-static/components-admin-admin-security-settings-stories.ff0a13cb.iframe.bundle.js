"use strict";(self.webpackChunkcasaora=self.webpackChunkcasaora||[]).push([[11080,24081],{"./node_modules/@hugeicons/react/dist/esm/HugeiconsIcon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>HugeiconsIcon});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none"},HugeiconsIcon=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({color="currentColor",size=24,strokeWidth,absoluteStrokeWidth=!1,className="",altIcon,showAlt=!1,icon,primaryColor,secondaryColor,disableSecondaryOpacity=!1,...rest},ref)=>{const calculatedStrokeWidth=void 0!==strokeWidth?absoluteStrokeWidth?24*Number(strokeWidth)/Number(size):strokeWidth:void 0,strokeProps=void 0!==calculatedStrokeWidth?{strokeWidth:calculatedStrokeWidth,stroke:"currentColor"}:{},elementProps={ref,...defaultAttributes,width:size,height:size,color:primaryColor||color,className,...strokeProps,...rest},svgChildren=[...showAlt&&altIcon?altIcon:icon].sort(([,a],[,b])=>{const hasOpacityA=void 0!==a.opacity;return void 0!==b.opacity?1:hasOpacityA?-1:0}).map(([tag,attrs])=>{const isSecondaryPath=void 0!==attrs.opacity,pathOpacity=isSecondaryPath&&!disableSecondaryOpacity?attrs.opacity:void 0,fillProps=secondaryColor?{...void 0!==attrs.stroke?{stroke:isSecondaryPath?secondaryColor:primaryColor||color}:{fill:isSecondaryPath?secondaryColor:primaryColor||color}}:{};return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(tag,{...attrs,...strokeProps,...fillProps,opacity:pathOpacity,key:attrs.key})});return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("svg",elementProps,svgChildren)});HugeiconsIcon.displayName="HugeiconsIcon"},"./src/components/admin/admin-security-settings.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>admin_security_settings_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),index_min=__webpack_require__("./node_modules/@hugeicons/core-free-icons/dist/esm/index.min.js"),HugeiconsIcon=__webpack_require__("./node_modules/@hugeicons/react/dist/esm/HugeiconsIcon.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),console=__webpack_require__("./node_modules/console-browserify/index.js");const admin_security_settings_stories={title:"Admin/Admin Security Settings",component:function AdminSecuritySettings(){const[isChangingPassword,setIsChangingPassword]=(0,react.useState)(!1),[isSaving,setIsSaving]=(0,react.useState)(!1),[error,setError]=(0,react.useState)(null),[successMessage,setSuccessMessage]=(0,react.useState)(null),[passwords,setPasswords]=(0,react.useState)({current:"",new:"",confirm:""});return(0,jsx_runtime.jsxs)("div",{className:"space-y-6",children:[error&&(0,jsx_runtime.jsx)("div",{className:"rounded-lg border border-slate-900 dark:border-slate-100/30 bg-slate-900 dark:bg-slate-100/10 p-4",children:(0,jsx_runtime.jsx)("p",{className:"text-slate-900 dark:text-slate-100 text-sm",children:error})}),successMessage&&(0,jsx_runtime.jsx)("div",{className:"rounded-lg border border-slate-900 dark:border-slate-100/40 bg-slate-900 dark:bg-slate-100/10 p-4",children:(0,jsx_runtime.jsx)("p",{className:"text-slate-900 dark:text-slate-100 text-sm",children:successMessage})}),(0,jsx_runtime.jsxs)("div",{className:"rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 p-6",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-start justify-between",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jsx_runtime.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-slate-900 dark:bg-slate-100/10",children:(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-5 w-5 text-slate-900 dark:text-slate-100",icon:index_min.Ecd})}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 text-base",children:"Password"}),(0,jsx_runtime.jsx)("p",{className:"mt-0.5 text-slate-600 dark:text-slate-400 text-sm",children:"Update your password to keep your account secure"})]})]}),!isChangingPassword&&(0,jsx_runtime.jsx)("button",{className:"rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 px-4 py-2 font-medium text-slate-900 dark:text-slate-100 text-sm transition-colors hover:bg-white dark:bg-slate-950",onClick:()=>setIsChangingPassword(!0),type:"button",children:"Change Password"})]}),isChangingPassword&&(0,jsx_runtime.jsxs)("form",{className:"mt-6 space-y-4",onSubmit:async e=>{if(e.preventDefault(),setError(null),setSuccessMessage(null),passwords.new.length<8)setError("New password must be at least 8 characters long");else if(passwords.new===passwords.confirm)try{setIsSaving(!0);const response=await fetch("/api/admin/settings/security/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:passwords.current,newPassword:passwords.new})});if(!response.ok){const errorData=await response.json();throw new Error(errorData.error||"Failed to update password")}setSuccessMessage("Password updated successfully"),setPasswords({current:"",new:"",confirm:""}),setIsChangingPassword(!1)}catch(err){console.error("Password change error:",err),setError(err instanceof Error?err.message:"Failed to update password")}finally{setIsSaving(!1)}else setError("New passwords do not match")},children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"mb-2 block font-semibold text-slate-600 dark:text-slate-400 text-xs uppercase tracking-wider",htmlFor:"current-password",children:"Current Password"}),(0,jsx_runtime.jsx)("input",{className:"w-full rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 px-4 py-2 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-[#64748b]",id:"current-password",onChange:e=>setPasswords({...passwords,current:e.target.value}),required:!0,type:"password",value:passwords.current})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"mb-2 block font-semibold text-slate-600 dark:text-slate-400 text-xs uppercase tracking-wider",htmlFor:"new-password",children:"New Password"}),(0,jsx_runtime.jsx)("input",{className:"w-full rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 px-4 py-2 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-[#64748b]",id:"new-password",minLength:8,onChange:e=>setPasswords({...passwords,new:e.target.value}),required:!0,type:"password",value:passwords.new}),(0,jsx_runtime.jsx)("p",{className:"mt-1 text-slate-600 dark:text-slate-400 text-xs",children:"Must be at least 8 characters long"})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{className:"mb-2 block font-semibold text-slate-600 dark:text-slate-400 text-xs uppercase tracking-wider",htmlFor:"confirm-password",children:"Confirm New Password"}),(0,jsx_runtime.jsx)("input",{className:"w-full rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 px-4 py-2 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-[#64748b]",id:"confirm-password",onChange:e=>setPasswords({...passwords,confirm:e.target.value}),required:!0,type:"password",value:passwords.confirm})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-3 pt-2",children:[(0,jsx_runtime.jsxs)("button",{className:"flex items-center gap-2 rounded-lg bg-slate-900 dark:bg-slate-100 px-6 py-2.5 font-semibold text-sm text-white dark:text-slate-950 transition-colors hover:bg-slate-900 dark:bg-slate-100 disabled:cursor-not-allowed disabled:opacity-50",disabled:isSaving,type:"submit",children:[(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-4 w-4",icon:index_min.zQd}),isSaving?"Updating...":"Update Password"]}),(0,jsx_runtime.jsx)("button",{className:"rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 px-6 py-2.5 font-semibold text-slate-600 dark:text-slate-400 text-sm transition-colors hover:bg-white dark:bg-slate-950",disabled:isSaving,onClick:()=>{setIsChangingPassword(!1),setPasswords({current:"",new:"",confirm:""}),setError(null)},type:"button",children:"Cancel"})]})]})]}),(0,jsx_runtime.jsxs)("div",{className:"rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 p-6",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-start justify-between",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-3",children:[(0,jsx_runtime.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-slate-900 dark:bg-slate-100/10",children:(0,jsx_runtime.jsx)(HugeiconsIcon.n,{className:"h-5 w-5 text-slate-900 dark:text-slate-100",icon:index_min.IEb})}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 text-base",children:"Two-Factor Authentication (2FA)"}),(0,jsx_runtime.jsx)("span",{className:"rounded-full bg-slate-900 dark:bg-slate-100/20 px-2 py-0.5 font-semibold text-slate-900 dark:text-slate-100 text-xs",children:"COMING SOON"})]}),(0,jsx_runtime.jsx)("p",{className:"mt-0.5 text-slate-600 dark:text-slate-400 text-sm",children:"Add an extra layer of security to your admin account"})]})]}),(0,jsx_runtime.jsx)("button",{className:"cursor-not-allowed rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 px-4 py-2 font-medium text-slate-600 dark:text-slate-400 text-sm",disabled:!0,type:"button",children:"Enable 2FA"})]}),(0,jsx_runtime.jsx)("div",{className:"mt-4 rounded-lg border border-slate-900 dark:border-slate-100 bg-white dark:bg-slate-950 p-4",children:(0,jsx_runtime.jsxs)("p",{className:"text-slate-900 dark:text-slate-100 text-sm",children:[(0,jsx_runtime.jsx)("strong",{children:"Note:"})," Two-factor authentication requires Supabase Pro. This feature will be available once we upgrade to the Pro plan. It will provide additional security through authenticator apps like Google Authenticator or Authy."]})})]}),(0,jsx_runtime.jsxs)("div",{className:"rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 p-6",children:[(0,jsx_runtime.jsx)("h3",{className:"mb-3 font-semibold text-slate-900 dark:text-slate-100 text-base",children:"Security Best Practices"}),(0,jsx_runtime.jsxs)("ul",{className:"space-y-2 text-slate-600 dark:text-slate-400 text-sm",children:[(0,jsx_runtime.jsxs)("li",{className:"flex items-start gap-2",children:[(0,jsx_runtime.jsx)("span",{className:"text-slate-900 dark:text-slate-100",children:"•"}),(0,jsx_runtime.jsx)("span",{children:"Use a strong, unique password that you don't use on other websites"})]}),(0,jsx_runtime.jsxs)("li",{className:"flex items-start gap-2",children:[(0,jsx_runtime.jsx)("span",{className:"text-slate-900 dark:text-slate-100",children:"•"}),(0,jsx_runtime.jsx)("span",{children:"Change your password regularly (every 3-6 months)"})]}),(0,jsx_runtime.jsxs)("li",{className:"flex items-start gap-2",children:[(0,jsx_runtime.jsx)("span",{className:"text-slate-900 dark:text-slate-100",children:"•"}),(0,jsx_runtime.jsx)("span",{children:"Never share your admin credentials with anyone"})]}),(0,jsx_runtime.jsxs)("li",{className:"flex items-start gap-2",children:[(0,jsx_runtime.jsx)("span",{className:"text-slate-900 dark:text-slate-100",children:"•"}),(0,jsx_runtime.jsx)("span",{children:"Always log out when using shared or public computers"})]}),(0,jsx_runtime.jsxs)("li",{className:"flex items-start gap-2",children:[(0,jsx_runtime.jsx)("span",{className:"text-slate-900 dark:text-slate-100",children:"•"}),(0,jsx_runtime.jsx)("span",{children:"Enable 2FA as soon as it becomes available"})]})]})]})]})},parameters:{layout:"centered"},tags:["autodocs"]},Default={args:{}},__namedExportsOrder=["Default"]}}]);