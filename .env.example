# ============================================
# Casaora Environment Variables
# ============================================
# SECURITY WARNING: Never commit .env files to version control!
# This is just an example. Copy to `.env.local` (Next.js recommended) or `.env` and fill with actual values.
# ============================================

# --------------------------------------------
# Supabase Configuration
# --------------------------------------------
# Get these from: https://supabase.com/dashboard/project/_/settings/api
NEXT_PUBLIC_SUPABASE_URL=your-supabase-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
# WARNING: Service role key bypasses RLS - NEVER expose to client!
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# --------------------------------------------
# Sanity CMS Configuration
# --------------------------------------------
# Get these from: https://sanity.io/manage
# 1. Create a new project (or use existing)
# 2. Copy Project ID from project settings
# 3. Create API tokens from API settings:
#    - Read Token: "Viewer" role (for fetching published content & draft mode)
#    - Write Token: "Editor" role (for migrations & webhooks)
NEXT_PUBLIC_SANITY_PROJECT_ID=your-sanity-project-id
NEXT_PUBLIC_SANITY_DATASET=production
NEXT_PUBLIC_SANITY_STUDIO_URL=http://localhost:3000/studio
# Viewer token (server-side - read-only access to published content & drafts)
SANITY_API_READ_TOKEN=your-sanity-read-token
# Viewer token (client-side - for Visual Editing/draft mode in browser)
# Can be the same as SANITY_API_READ_TOKEN
NEXT_PUBLIC_SANITY_API_READ_TOKEN=your-sanity-read-token
# Editor token (write access for migrations and webhooks)
SANITY_API_WRITE_TOKEN=your-sanity-write-token
# Webhook secret for ISR revalidation (generate with: openssl rand -base64 32)
SANITY_WEBHOOK_SECRET=your-sanity-webhook-secret

# --------------------------------------------
# Stripe Payment Processing (Colombia, Paraguay, Uruguay, Argentina)
# --------------------------------------------
# Get these from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=your-stripe-secret-key
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=your-stripe-publishable-key
# Webhook secret from: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=your-stripe-webhook-secret

# --------------------------------------------
# PayPal Payment Processing (PY, UY, AR)
# --------------------------------------------
# Get these from: https://developer.paypal.com/dashboard/applications
# 1. Create a REST API app in the PayPal Developer Dashboard
# 2. Copy Client ID and Secret from the app credentials
# 3. Generate webhook ID from: https://developer.paypal.com/dashboard/webhooks
PAYPAL_CLIENT_ID=your-paypal-client-id
# Public client ID (safe to expose to frontend for SDK initialization)
NEXT_PUBLIC_PAYPAL_CLIENT_ID=your-paypal-client-id
PAYPAL_CLIENT_SECRET=your-paypal-client-secret
# Environment: "sandbox" for testing, "production" for live
PAYPAL_ENVIRONMENT=sandbox
# Webhook ID for verifying PayPal webhook signatures
PAYPAL_WEBHOOK_ID=your-paypal-webhook-id

# --------------------------------------------
# Email Service (Resend)
# --------------------------------------------
# Get API key from: https://resend.com/api-keys
RESEND_API_KEY=your-resend-api-key

# --------------------------------------------
# Application URLs
# --------------------------------------------
# Base URL for the application (used for redirects, emails, etc.)
NEXT_PUBLIC_BASE_URL=http://localhost:3000
# Production: https://your-domain.com
NEXT_PUBLIC_APP_URL=http://localhost:3000
# Site URL (for Supabase email templates)
SITE_URL=http://localhost:3000

# --------------------------------------------
# Cron Jobs & Webhooks
# --------------------------------------------
# Random secret for authenticating cron job requests
# Generate with: openssl rand -base64 32
CRON_SECRET=your-random-secret-for-cron-jobs

# --------------------------------------------
# Push Notifications (VAPID Keys)
# --------------------------------------------
# Generate keys by running: node scripts/generate-vapid-keys.js
NEXT_PUBLIC_VAPID_PUBLIC_KEY=your-vapid-public-key
VAPID_PRIVATE_KEY=your-vapid-private-key
VAPID_SUBJECT=mailto:support@casaora.co

# --------------------------------------------
# Monitoring & Error Tracking
# --------------------------------------------
# Better Stack (Logtail) Source Tokens
# Get these from: https://logs.betterstack.com/team/<TEAM_ID>/sources
# Create a new source for your Next.js application
# Server-side token (for API routes and server components)
LOGTAIL_SOURCE_TOKEN=your-logtail-source-token
# Client-side token (for browser error logging) - same as server token is fine
NEXT_PUBLIC_LOGTAIL_TOKEN=your-logtail-source-token

# PostHog (Product Analytics & Feature Flags)
# Get these from: https://us.posthog.com/project/settings
# 1. Create a free PostHog Cloud account or self-host
# 2. Copy your Project API Key from Project Settings
# 3. Use the default US host or your custom host for EU/self-hosted
NEXT_PUBLIC_POSTHOG_KEY=phc_your-posthog-project-api-key
NEXT_PUBLIC_POSTHOG_HOST=https://us.i.posthog.com

# --------------------------------------------
# Rate Limiting (Upstash Redis)
# --------------------------------------------
# Optional: For production-grade distributed rate limiting
# Get these from: https://console.upstash.com/
# 1. Create a Redis database (free tier available)
# 2. Copy the REST URL and REST Token
# If not configured, falls back to in-memory rate limiting (dev only)
UPSTASH_REDIS_REST_URL=your-upstash-redis-rest-url
UPSTASH_REDIS_REST_TOKEN=your-upstash-redis-rest-token

# --------------------------------------------
# Feature Flags
# --------------------------------------------
# Enable/disable features for A/B testing and gradual rollouts
# Format: NEXT_PUBLIC_FEATURE_<FLAG_NAME_UPPERCASE>=true
# See documents/feature-flags-guide.md for full list

# Week 1-2 Features (Foundations)
NEXT_PUBLIC_FEATURE_ENABLE_WEB_VITALS=true
NEXT_PUBLIC_FEATURE_SHOW_MATCH_WIZARD=true

# Week 3-4 Features (Trust & Conversion)
NEXT_PUBLIC_FEATURE_ENHANCED_TRUST_BADGES=true
NEXT_PUBLIC_FEATURE_LIVE_PRICE_BREAKDOWN=true
# NEXT_PUBLIC_FEATURE_SHOW_ON_TIME_METRICS=true

# Week 5-6 Features (Communications & Retention)
NEXT_PUBLIC_FEATURE_AUTO_TRANSLATE_CHAT=true
NEXT_PUBLIC_FEATURE_ONE_TAP_REBOOK=true
NEXT_PUBLIC_FEATURE_RECURRING_PLANS=true

# --------------------------------------------
# AI Assistant (Amara)
# --------------------------------------------
# Anthropic API key for Claude Haiku 4.5
# Get this from: https://console.anthropic.com/account/keys
ANTHROPIC_API_KEY=your-anthropic-api-key

# Enable Amara AI assistant feature
NEXT_PUBLIC_FEATURE_AMARA_ENABLED=true

# --------------------------------------------
# Translation Service (Google Translate)
# --------------------------------------------
# Google Cloud Translation API key for ENâ†”ES chat translation
# Get this from: https://console.cloud.google.com/apis/credentials
# Enable "Cloud Translation API" in your Google Cloud project
# Without this key, falls back to LibreTranslate (free, slower)
GOOGLE_TRANSLATE_API_KEY=your-google-translate-api-key

# --------------------------------------------
# Optional: Additional Services
# --------------------------------------------
# Google Maps API (for GPS verification and location features)
# NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your-google-maps-key

# Google Analytics ID (if using GA)
# NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX
